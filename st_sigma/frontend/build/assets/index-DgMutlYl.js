(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function qd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Qc={exports:{}},_o={},Zc={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function c_(){if(Ag)return Me;Ag=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,M={};function U(T,G,ce){this.props=T,this.context=G,this.refs=M,this.updater=ce||S}U.prototype.isReactComponent={},U.prototype.setState=function(T,G){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,G,"setState")},U.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function Y(){}Y.prototype=U.prototype;function W(T,G,ce){this.props=T,this.context=G,this.refs=M,this.updater=ce||S}var V=W.prototype=new Y;V.constructor=W,F(V,U.prototype),V.isPureReactComponent=!0;var k=Array.isArray,A=Object.prototype.hasOwnProperty,$={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function R(T,G,ce){var Se,N={},j=null,ie=null;if(G!=null)for(Se in G.ref!==void 0&&(ie=G.ref),G.key!==void 0&&(j=""+G.key),G)A.call(G,Se)&&!E.hasOwnProperty(Se)&&(N[Se]=G[Se]);var de=arguments.length-2;if(de===1)N.children=ce;else if(1<de){for(var fe=Array(de),Be=0;Be<de;Be++)fe[Be]=arguments[Be+2];N.children=fe}if(T&&T.defaultProps)for(Se in de=T.defaultProps,de)N[Se]===void 0&&(N[Se]=de[Se]);return{$$typeof:r,type:T,key:j,ref:ie,props:N,_owner:$.current}}function B(T,G){return{$$typeof:r,type:T.type,key:G,ref:T.ref,props:T.props,_owner:T._owner}}function b(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function z(T){var G={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ce){return G[ce]})}var L=/\/+/g;function re(T,G){return typeof T=="object"&&T!==null&&T.key!=null?z(""+T.key):G.toString(36)}function ae(T,G,ce,Se,N){var j=typeof T;(j==="undefined"||j==="boolean")&&(T=null);var ie=!1;if(T===null)ie=!0;else switch(j){case"string":case"number":ie=!0;break;case"object":switch(T.$$typeof){case r:case e:ie=!0}}if(ie)return ie=T,N=N(ie),T=Se===""?"."+re(ie,0):Se,k(N)?(ce="",T!=null&&(ce=T.replace(L,"$&/")+"/"),ae(N,G,ce,"",function(Be){return Be})):N!=null&&(b(N)&&(N=B(N,ce+(!N.key||ie&&ie.key===N.key?"":(""+N.key).replace(L,"$&/")+"/")+T)),G.push(N)),1;if(ie=0,Se=Se===""?".":Se+":",k(T))for(var de=0;de<T.length;de++){j=T[de];var fe=Se+re(j,de);ie+=ae(j,G,ce,fe,N)}else if(fe=w(T),typeof fe=="function")for(T=fe.call(T),de=0;!(j=T.next()).done;)j=j.value,fe=Se+re(j,de++),ie+=ae(j,G,ce,fe,N);else if(j==="object")throw G=String(T),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ie}function te(T,G,ce){if(T==null)return T;var Se=[],N=0;return ae(T,Se,"","",function(j){return G.call(ce,j,N++)}),Se}function ue(T){if(T._status===-1){var G=T._result;G=G(),G.then(function(ce){(T._status===0||T._status===-1)&&(T._status=1,T._result=ce)},function(ce){(T._status===0||T._status===-1)&&(T._status=2,T._result=ce)}),T._status===-1&&(T._status=0,T._result=G)}if(T._status===1)return T._result.default;throw T._result}var ve={current:null},Q={transition:null},se={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Q,ReactCurrentOwner:$};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:te,forEach:function(T,G,ce){te(T,function(){G.apply(this,arguments)},ce)},count:function(T){var G=0;return te(T,function(){G++}),G},toArray:function(T){return te(T,function(G){return G})||[]},only:function(T){if(!b(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Me.Component=U,Me.Fragment=t,Me.Profiler=o,Me.PureComponent=W,Me.StrictMode=i,Me.Suspense=f,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Me.act=Z,Me.cloneElement=function(T,G,ce){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var Se=F({},T.props),N=T.key,j=T.ref,ie=T._owner;if(G!=null){if(G.ref!==void 0&&(j=G.ref,ie=$.current),G.key!==void 0&&(N=""+G.key),T.type&&T.type.defaultProps)var de=T.type.defaultProps;for(fe in G)A.call(G,fe)&&!E.hasOwnProperty(fe)&&(Se[fe]=G[fe]===void 0&&de!==void 0?de[fe]:G[fe])}var fe=arguments.length-2;if(fe===1)Se.children=ce;else if(1<fe){de=Array(fe);for(var Be=0;Be<fe;Be++)de[Be]=arguments[Be+2];Se.children=de}return{$$typeof:r,type:T.type,key:N,ref:j,props:Se,_owner:ie}},Me.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},Me.createElement=R,Me.createFactory=function(T){var G=R.bind(null,T);return G.type=T,G},Me.createRef=function(){return{current:null}},Me.forwardRef=function(T){return{$$typeof:d,render:T}},Me.isValidElement=b,Me.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:ue}},Me.memo=function(T,G){return{$$typeof:g,type:T,compare:G===void 0?null:G}},Me.startTransition=function(T){var G=Q.transition;Q.transition={};try{T()}finally{Q.transition=G}},Me.unstable_act=Z,Me.useCallback=function(T,G){return ve.current.useCallback(T,G)},Me.useContext=function(T){return ve.current.useContext(T)},Me.useDebugValue=function(){},Me.useDeferredValue=function(T){return ve.current.useDeferredValue(T)},Me.useEffect=function(T,G){return ve.current.useEffect(T,G)},Me.useId=function(){return ve.current.useId()},Me.useImperativeHandle=function(T,G,ce){return ve.current.useImperativeHandle(T,G,ce)},Me.useInsertionEffect=function(T,G){return ve.current.useInsertionEffect(T,G)},Me.useLayoutEffect=function(T,G){return ve.current.useLayoutEffect(T,G)},Me.useMemo=function(T,G){return ve.current.useMemo(T,G)},Me.useReducer=function(T,G,ce){return ve.current.useReducer(T,G,ce)},Me.useRef=function(T){return ve.current.useRef(T)},Me.useState=function(T){return ve.current.useState(T)},Me.useSyncExternalStore=function(T,G,ce){return ve.current.useSyncExternalStore(T,G,ce)},Me.useTransition=function(){return ve.current.useTransition()},Me.version="18.3.1",Me}var Ng;function Qd(){return Ng||(Ng=1,Zc.exports=c_()),Zc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function d_(){if(Tg)return _o;Tg=1;var r=Qd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,g){var m,v={},w=null,S=null;g!==void 0&&(w=""+g),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(S=f.ref);for(m in f)i.call(f,m)&&!l.hasOwnProperty(m)&&(v[m]=f[m]);if(d&&d.defaultProps)for(m in f=d.defaultProps,f)v[m]===void 0&&(v[m]=f[m]);return{$$typeof:e,type:d,key:w,ref:S,props:v,_owner:o.current}}return _o.Fragment=t,_o.jsx=c,_o.jsxs=c,_o}var Ig;function h_(){return Ig||(Ig=1,Qc.exports=d_()),Qc.exports}var J=h_(),Pt=Qd(),il={},Xc={exports:{}},Yt={},Jc={exports:{}},ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function f_(){return Cg||(Cg=1,(function(r){function e(Q,se){var Z=Q.length;Q.push(se);e:for(;0<Z;){var T=Z-1>>>1,G=Q[T];if(0<o(G,se))Q[T]=se,Q[Z]=G,Z=T;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var se=Q[0],Z=Q.pop();if(Z!==se){Q[0]=Z;e:for(var T=0,G=Q.length,ce=G>>>1;T<ce;){var Se=2*(T+1)-1,N=Q[Se],j=Se+1,ie=Q[j];if(0>o(N,Z))j<G&&0>o(ie,N)?(Q[T]=ie,Q[j]=Z,T=j):(Q[T]=N,Q[Se]=Z,T=Se);else if(j<G&&0>o(ie,Z))Q[T]=ie,Q[j]=Z,T=j;else break e}}return se}function o(Q,se){var Z=Q.sortIndex-se.sortIndex;return Z!==0?Z:Q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var f=[],g=[],m=1,v=null,w=3,S=!1,F=!1,M=!1,U=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(Q){for(var se=t(g);se!==null;){if(se.callback===null)i(g);else if(se.startTime<=Q)i(g),se.sortIndex=se.expirationTime,e(f,se);else break;se=t(g)}}function k(Q){if(M=!1,V(Q),!F)if(t(f)!==null)F=!0,ue(A);else{var se=t(g);se!==null&&ve(k,se.startTime-Q)}}function A(Q,se){F=!1,M&&(M=!1,Y(R),R=-1),S=!0;var Z=w;try{for(V(se),v=t(f);v!==null&&(!(v.expirationTime>se)||Q&&!z());){var T=v.callback;if(typeof T=="function"){v.callback=null,w=v.priorityLevel;var G=T(v.expirationTime<=se);se=r.unstable_now(),typeof G=="function"?v.callback=G:v===t(f)&&i(f),V(se)}else i(f);v=t(f)}if(v!==null)var ce=!0;else{var Se=t(g);Se!==null&&ve(k,Se.startTime-se),ce=!1}return ce}finally{v=null,w=Z,S=!1}}var $=!1,E=null,R=-1,B=5,b=-1;function z(){return!(r.unstable_now()-b<B)}function L(){if(E!==null){var Q=r.unstable_now();b=Q;var se=!0;try{se=E(!0,Q)}finally{se?re():($=!1,E=null)}}else $=!1}var re;if(typeof W=="function")re=function(){W(L)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,te=ae.port2;ae.port1.onmessage=L,re=function(){te.postMessage(null)}}else re=function(){U(L,0)};function ue(Q){E=Q,$||($=!0,re())}function ve(Q,se){R=U(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_continueExecution=function(){F||S||(F=!0,ue(A))},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var Z=w;w=se;try{return Q()}finally{w=Z}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Z=w;w=Q;try{return se()}finally{w=Z}},r.unstable_scheduleCallback=function(Q,se,Z){var T=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?T+Z:T):Z=T,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,Q={id:m++,callback:se,priorityLevel:Q,startTime:Z,expirationTime:G,sortIndex:-1},Z>T?(Q.sortIndex=Z,e(g,Q),t(f)===null&&Q===t(g)&&(M?(Y(R),R=-1):M=!0,ve(k,Z-T))):(Q.sortIndex=G,e(f,Q),F||S||(F=!0,ue(A))),Q},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(Q){var se=w;return function(){var Z=w;w=se;try{return Q.apply(this,arguments)}finally{w=Z}}}})(ed)),ed}var kg;function p_(){return kg||(kg=1,Jc.exports=f_()),Jc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function g_(){if(Dg)return Yt;Dg=1;var r=Qd(),e=p_();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(n){return f.call(v,n)?!0:f.call(m,n)?!1:g.test(n)?v[n]=!0:(m[n]=!0,!1)}function S(n,s,a,u){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function F(n,s,a,u){if(s===null||typeof s>"u"||S(n,s,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(n,s,a,u,h,p,y){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=p,this.removeEmptyString=y}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){U[n]=new M(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];U[s]=new M(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){U[n]=new M(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){U[n]=new M(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){U[n]=new M(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){U[n]=new M(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){U[n]=new M(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){U[n]=new M(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){U[n]=new M(n,5,!1,n.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function W(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(Y,W);U[s]=new M(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(Y,W);U[s]=new M(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(Y,W);U[s]=new M(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){U[n]=new M(n,1,!1,n.toLowerCase(),null,!1,!1)}),U.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){U[n]=new M(n,1,!1,n.toLowerCase(),null,!0,!0)});function V(n,s,a,u){var h=U.hasOwnProperty(s)?U[s]:null;(h!==null?h.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,a,h,u)&&(a=null),u||h===null?w(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):h.mustUseProperty?n[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,u=h.attributeNamespace,a===null?n.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,u?n.setAttributeNS(u,s,a):n.setAttribute(s,a))))}var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),$=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),z=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),Q=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=Q&&n[Q]||n["@@iterator"],typeof n=="function"?n:null)}var Z=Object.assign,T;function G(n){if(T===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+n}var ce=!1;function Se(n,s){if(!n||ce)return"";ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(P){var u=P}Reflect.construct(n,[],s)}else{try{s.call()}catch(P){u=P}n.call(s.prototype)}else{try{throw Error()}catch(P){u=P}n()}}catch(P){if(P&&u&&typeof P.stack=="string"){for(var h=P.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,_=p.length-1;1<=y&&0<=_&&h[y]!==p[_];)_--;for(;1<=y&&0<=_;y--,_--)if(h[y]!==p[_]){if(y!==1||_!==1)do if(y--,_--,0>_||h[y]!==p[_]){var x=`
`+h[y].replace(" at new "," at ");return n.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",n.displayName)),x}while(1<=y&&0<=_);break}}}finally{ce=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function N(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=Se(n.type,!1),n;case 11:return n=Se(n.type.render,!1),n;case 1:return n=Se(n.type,!0),n;default:return""}}function j(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case $:return"Portal";case B:return"Profiler";case R:return"StrictMode";case re:return"Suspense";case ae:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case z:return(n.displayName||"Context")+".Consumer";case b:return(n._context.displayName||"Context")+".Provider";case L:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case te:return s=n.displayName||null,s!==null?s:j(n.type)||"Memo";case ue:s=n._payload,n=n._init;try{return j(n(s))}catch{}}return null}function ie(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function de(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Be(n){var s=fe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ht(n){n._valueTracker||(n._valueTracker=Be(n))}function $e(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return n&&(u=fe(n)?n.checked?"true":"false":n.value),n=u,n!==a?(s.setValue(n),!0):!1}function at(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Et(n,s){var a=s.checked;return Z({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Ls(n,s){var a=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;a=de(s.value!=null?s.value:a),n._wrapperState={initialChecked:u,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ri(n,s){s=s.checked,s!=null&&V(n,"checked",s,!1)}function iu(n,s){Ri(n,s);var a=de(s.value),u=s.type;if(a!=null)u==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(u==="submit"||u==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?su(n,s.type,a):s.hasOwnProperty("defaultValue")&&su(n,s.type,de(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Lh(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function su(n,s,a){(s!=="number"||at(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Fs=Array.isArray;function Li(n,s,a,u){if(n=n.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=s.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&u&&(n[a].defaultSelected=!0)}else{for(a=""+de(a),s=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function ou(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return Z({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Fh(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Fs(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:de(a)}}function Oh(n,s){var a=de(s.value),u=de(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),u!=null&&(n.defaultValue=""+u)}function Bh(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Mh(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function au(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Mh(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Qo,Ph=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,u,h){MSApp.execUnsafeLocalFunction(function(){return n(s,a,u,h)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Qo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Os(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p0=["Webkit","ms","Moz","O"];Object.keys(Bs).forEach(function(n){p0.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Bs[s]=Bs[n]})});function zh(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Bs.hasOwnProperty(n)&&Bs[n]?(""+s).trim():s+"px"}function Uh(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var u=a.indexOf("--")===0,h=zh(a,s[a],u);a==="float"&&(a="cssFloat"),u?n.setProperty(a,h):n[a]=h}}var g0=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lu(n,s){if(s){if(g0[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function uu(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=null;function du(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var hu=null,Fi=null,Oi=null;function $h(n){if(n=io(n)){if(typeof hu!="function")throw Error(t(280));var s=n.stateNode;s&&(s=wa(s),hu(n.stateNode,n.type,s))}}function jh(n){Fi?Oi?Oi.push(n):Oi=[n]:Fi=n}function Gh(){if(Fi){var n=Fi,s=Oi;if(Oi=Fi=null,$h(n),s)for(n=0;n<s.length;n++)$h(s[n])}}function Vh(n,s){return n(s)}function Wh(){}var fu=!1;function Hh(n,s,a){if(fu)return n(s,a);fu=!0;try{return Vh(n,s,a)}finally{fu=!1,(Fi!==null||Oi!==null)&&(Wh(),Gh())}}function Ms(n,s){var a=n.stateNode;if(a===null)return null;var u=wa(a);if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var pu=!1;if(d)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){pu=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{pu=!1}function y0(n,s,a,u,h,p,y,_,x){var P=Array.prototype.slice.call(arguments,3);try{s.apply(a,P)}catch(q){this.onError(q)}}var zs=!1,Zo=null,Xo=!1,gu=null,m0={onError:function(n){zs=!0,Zo=n}};function v0(n,s,a,u,h,p,y,_,x){zs=!1,Zo=null,y0.apply(m0,arguments)}function w0(n,s,a,u,h,p,y,_,x){if(v0.apply(this,arguments),zs){if(zs){var P=Zo;zs=!1,Zo=null}else throw Error(t(198));Xo||(Xo=!0,gu=P)}}function ai(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Yh(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Kh(n){if(ai(n)!==n)throw Error(t(188))}function _0(n){var s=n.alternate;if(!s){if(s=ai(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,u=s;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return Kh(h),n;if(p===u)return Kh(h),s;p=p.sibling}throw Error(t(188))}if(a.return!==u.return)a=h,u=p;else{for(var y=!1,_=h.child;_;){if(_===a){y=!0,a=h,u=p;break}if(_===u){y=!0,u=h,a=p;break}_=_.sibling}if(!y){for(_=p.child;_;){if(_===a){y=!0,a=p,u=h;break}if(_===u){y=!0,u=p,a=h;break}_=_.sibling}if(!y)throw Error(t(189))}}if(a.alternate!==u)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function qh(n){return n=_0(n),n!==null?Qh(n):null}function Qh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Qh(n);if(s!==null)return s;n=n.sibling}return null}var Zh=e.unstable_scheduleCallback,Xh=e.unstable_cancelCallback,b0=e.unstable_shouldYield,S0=e.unstable_requestPaint,pt=e.unstable_now,E0=e.unstable_getCurrentPriorityLevel,yu=e.unstable_ImmediatePriority,Jh=e.unstable_UserBlockingPriority,Jo=e.unstable_NormalPriority,x0=e.unstable_LowPriority,ef=e.unstable_IdlePriority,ea=null,$n=null;function A0(n){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(ea,n,void 0,(n.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:I0,N0=Math.log,T0=Math.LN2;function I0(n){return n>>>=0,n===0?32:31-(N0(n)/T0|0)|0}var ta=64,na=4194304;function Us(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ra(n,s){var a=n.pendingLanes;if(a===0)return 0;var u=0,h=n.suspendedLanes,p=n.pingedLanes,y=a&268435455;if(y!==0){var _=y&~h;_!==0?u=Us(_):(p&=y,p!==0&&(u=Us(p)))}else y=a&~h,y!==0?u=Us(y):p!==0&&(u=Us(p));if(u===0)return 0;if(s!==0&&s!==u&&(s&h)===0&&(h=u&-u,p=s&-s,h>=p||h===16&&(p&4194240)!==0))return s;if((u&4)!==0&&(u|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=u;0<s;)a=31-Tn(s),h=1<<a,u|=n[a],s&=~h;return u}function C0(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k0(n,s){for(var a=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes;0<p;){var y=31-Tn(p),_=1<<y,x=h[y];x===-1?((_&a)===0||(_&u)!==0)&&(h[y]=C0(_,s)):x<=s&&(n.expiredLanes|=_),p&=~_}}function mu(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function tf(){var n=ta;return ta<<=1,(ta&4194240)===0&&(ta=64),n}function vu(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function $s(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Tn(s),n[s]=a}function D0(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var u=n.eventTimes;for(n=n.expirationTimes;0<a;){var h=31-Tn(a),p=1<<h;s[h]=0,u[h]=-1,n[h]=-1,a&=~p}}function wu(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var u=31-Tn(a),h=1<<u;h&s|n[u]&s&&(n[u]|=s),a&=~h}}var Qe=0;function nf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var rf,_u,sf,of,af,bu=!1,ia=[],Cr=null,kr=null,Dr=null,js=new Map,Gs=new Map,Rr=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lf(n,s){switch(n){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":js.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(s.pointerId)}}function Vs(n,s,a,u,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},s!==null&&(s=io(s),s!==null&&_u(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function L0(n,s,a,u,h){switch(s){case"focusin":return Cr=Vs(Cr,n,s,a,u,h),!0;case"dragenter":return kr=Vs(kr,n,s,a,u,h),!0;case"mouseover":return Dr=Vs(Dr,n,s,a,u,h),!0;case"pointerover":var p=h.pointerId;return js.set(p,Vs(js.get(p)||null,n,s,a,u,h)),!0;case"gotpointercapture":return p=h.pointerId,Gs.set(p,Vs(Gs.get(p)||null,n,s,a,u,h)),!0}return!1}function uf(n){var s=li(n.target);if(s!==null){var a=ai(s);if(a!==null){if(s=a.tag,s===13){if(s=Yh(a),s!==null){n.blockedOn=s,af(n.priority,function(){sf(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sa(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Eu(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);cu=u,a.target.dispatchEvent(u),cu=null}else return s=io(a),s!==null&&_u(s),n.blockedOn=a,!1;s.shift()}return!0}function cf(n,s,a){sa(n)&&a.delete(s)}function F0(){bu=!1,Cr!==null&&sa(Cr)&&(Cr=null),kr!==null&&sa(kr)&&(kr=null),Dr!==null&&sa(Dr)&&(Dr=null),js.forEach(cf),Gs.forEach(cf)}function Ws(n,s){n.blockedOn===s&&(n.blockedOn=null,bu||(bu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,F0)))}function Hs(n){function s(h){return Ws(h,n)}if(0<ia.length){Ws(ia[0],n);for(var a=1;a<ia.length;a++){var u=ia[a];u.blockedOn===n&&(u.blockedOn=null)}}for(Cr!==null&&Ws(Cr,n),kr!==null&&Ws(kr,n),Dr!==null&&Ws(Dr,n),js.forEach(s),Gs.forEach(s),a=0;a<Rr.length;a++)u=Rr[a],u.blockedOn===n&&(u.blockedOn=null);for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)uf(a),a.blockedOn===null&&Rr.shift()}var Bi=k.ReactCurrentBatchConfig,oa=!0;function O0(n,s,a,u){var h=Qe,p=Bi.transition;Bi.transition=null;try{Qe=1,Su(n,s,a,u)}finally{Qe=h,Bi.transition=p}}function B0(n,s,a,u){var h=Qe,p=Bi.transition;Bi.transition=null;try{Qe=4,Su(n,s,a,u)}finally{Qe=h,Bi.transition=p}}function Su(n,s,a,u){if(oa){var h=Eu(n,s,a,u);if(h===null)Uu(n,s,u,aa,a),lf(n,u);else if(L0(h,n,s,a,u))u.stopPropagation();else if(lf(n,u),s&4&&-1<R0.indexOf(n)){for(;h!==null;){var p=io(h);if(p!==null&&rf(p),p=Eu(n,s,a,u),p===null&&Uu(n,s,u,aa,a),p===h)break;h=p}h!==null&&u.stopPropagation()}else Uu(n,s,u,null,a)}}var aa=null;function Eu(n,s,a,u){if(aa=null,n=du(u),n=li(n),n!==null)if(s=ai(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Yh(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return aa=n,null}function df(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E0()){case yu:return 1;case Jh:return 4;case Jo:case x0:return 16;case ef:return 536870912;default:return 16}default:return 16}}var Lr=null,xu=null,la=null;function hf(){if(la)return la;var n,s=xu,a=s.length,u,h="value"in Lr?Lr.value:Lr.textContent,p=h.length;for(n=0;n<a&&s[n]===h[n];n++);var y=a-n;for(u=1;u<=y&&s[a-u]===h[p-u];u++);return la=h.slice(n,1<u?1-u:void 0)}function ua(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ca(){return!0}function ff(){return!1}function nn(n){function s(a,u,h,p,y){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(a=n[_],this[_]=a?a(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ca:ff,this.isPropagationStopped=ff,this}return Z(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),s}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=nn(Mi),Ys=Z({},Mi,{view:0,detail:0}),M0=nn(Ys),Nu,Tu,Ks,da=Z({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ks&&(Ks&&n.type==="mousemove"?(Nu=n.screenX-Ks.screenX,Tu=n.screenY-Ks.screenY):Tu=Nu=0,Ks=n),Nu)},movementY:function(n){return"movementY"in n?n.movementY:Tu}}),pf=nn(da),P0=Z({},da,{dataTransfer:0}),z0=nn(P0),U0=Z({},Ys,{relatedTarget:0}),Iu=nn(U0),$0=Z({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),j0=nn($0),G0=Z({},Mi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),V0=nn(G0),W0=Z({},Mi,{data:0}),gf=nn(W0),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q0(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=K0[n])?!!s[n]:!1}function Cu(){return q0}var Q0=Z({},Ys,{key:function(n){if(n.key){var s=H0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ua(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Y0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cu,charCode:function(n){return n.type==="keypress"?ua(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ua(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Z0=nn(Q0),X0=Z({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=nn(X0),J0=Z({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cu}),ew=nn(J0),tw=Z({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),nw=nn(tw),rw=Z({},da,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),iw=nn(rw),sw=[9,13,27,32],ku=d&&"CompositionEvent"in window,qs=null;d&&"documentMode"in document&&(qs=document.documentMode);var ow=d&&"TextEvent"in window&&!qs,mf=d&&(!ku||qs&&8<qs&&11>=qs),vf=" ",wf=!1;function _f(n,s){switch(n){case"keyup":return sw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pi=!1;function aw(n,s){switch(n){case"compositionend":return bf(s);case"keypress":return s.which!==32?null:(wf=!0,vf);case"textInput":return n=s.data,n===vf&&wf?null:n;default:return null}}function lw(n,s){if(Pi)return n==="compositionend"||!ku&&_f(n,s)?(n=hf(),la=xu=Lr=null,Pi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return mf&&s.locale!=="ko"?null:s.data;default:return null}}var uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!uw[n.type]:s==="textarea"}function Ef(n,s,a,u){jh(u),s=ya(s,"onChange"),0<s.length&&(a=new Au("onChange","change",null,a,u),n.push({event:a,listeners:s}))}var Qs=null,Zs=null;function cw(n){$f(n,0)}function ha(n){var s=Gi(n);if($e(s))return n}function dw(n,s){if(n==="change")return s}var xf=!1;if(d){var Du;if(d){var Ru="oninput"in document;if(!Ru){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),Ru=typeof Af.oninput=="function"}Du=Ru}else Du=!1;xf=Du&&(!document.documentMode||9<document.documentMode)}function Nf(){Qs&&(Qs.detachEvent("onpropertychange",Tf),Zs=Qs=null)}function Tf(n){if(n.propertyName==="value"&&ha(Zs)){var s=[];Ef(s,Zs,n,du(n)),Hh(cw,s)}}function hw(n,s,a){n==="focusin"?(Nf(),Qs=s,Zs=a,Qs.attachEvent("onpropertychange",Tf)):n==="focusout"&&Nf()}function fw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ha(Zs)}function pw(n,s){if(n==="click")return ha(s)}function gw(n,s){if(n==="input"||n==="change")return ha(s)}function yw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var In=typeof Object.is=="function"?Object.is:yw;function Xs(n,s){if(In(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!f.call(s,h)||!In(n[h],s[h]))return!1}return!0}function If(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cf(n,s){var a=If(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=s&&u>=s)return{node:a,offset:s-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=If(a)}}function kf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?kf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Df(){for(var n=window,s=at();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=at(n.document)}return s}function Lu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function mw(n){var s=Df(),a=n.focusedElem,u=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&kf(a.ownerDocument.documentElement,a)){if(u!==null&&Lu(a)){if(s=u.start,n=u.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var h=a.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!n.extend&&p>u&&(h=u,u=p,p=h),h=Cf(a,p);var y=Cf(a,u);h&&y&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==y.node||n.focusOffset!==y.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),n.removeAllRanges(),p>u?(n.addRange(s),n.extend(y.node,y.offset)):(s.setEnd(y.node,y.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var vw=d&&"documentMode"in document&&11>=document.documentMode,zi=null,Fu=null,Js=null,Ou=!1;function Rf(n,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ou||zi==null||zi!==at(u)||(u=zi,"selectionStart"in u&&Lu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Js&&Xs(Js,u)||(Js=u,u=ya(Fu,"onSelect"),0<u.length&&(s=new Au("onSelect","select",null,s,a),n.push({event:s,listeners:u}),s.target=zi)))}function fa(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ui={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},Bu={},Lf={};d&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function pa(n){if(Bu[n])return Bu[n];if(!Ui[n])return n;var s=Ui[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Lf)return Bu[n]=s[a];return n}var Ff=pa("animationend"),Of=pa("animationiteration"),Bf=pa("animationstart"),Mf=pa("transitionend"),Pf=new Map,zf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(n,s){Pf.set(n,s),l(s,[n])}for(var Mu=0;Mu<zf.length;Mu++){var Pu=zf[Mu],ww=Pu.toLowerCase(),_w=Pu[0].toUpperCase()+Pu.slice(1);Fr(ww,"on"+_w)}Fr(Ff,"onAnimationEnd"),Fr(Of,"onAnimationIteration"),Fr(Bf,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(Mf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bw=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function Uf(n,s,a){var u=n.type||"unknown-event";n.currentTarget=a,w0(u,s,void 0,n),n.currentTarget=null}function $f(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],h=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var y=u.length-1;0<=y;y--){var _=u[y],x=_.instance,P=_.currentTarget;if(_=_.listener,x!==p&&h.isPropagationStopped())break e;Uf(h,_,P),p=x}else for(y=0;y<u.length;y++){if(_=u[y],x=_.instance,P=_.currentTarget,_=_.listener,x!==p&&h.isPropagationStopped())break e;Uf(h,_,P),p=x}}}if(Xo)throw n=gu,Xo=!1,gu=null,n}function rt(n,s){var a=s[Hu];a===void 0&&(a=s[Hu]=new Set);var u=n+"__bubble";a.has(u)||(jf(s,n,2,!1),a.add(u))}function zu(n,s,a){var u=0;s&&(u|=4),jf(a,n,u,s)}var ga="_reactListening"+Math.random().toString(36).slice(2);function to(n){if(!n[ga]){n[ga]=!0,i.forEach(function(a){a!=="selectionchange"&&(bw.has(a)||zu(a,!1,n),zu(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ga]||(s[ga]=!0,zu("selectionchange",!1,s))}}function jf(n,s,a,u){switch(df(s)){case 1:var h=O0;break;case 4:h=B0;break;default:h=Su}a=h.bind(null,s,a,n),h=void 0,!pu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(s,a,{capture:!0,passive:h}):n.addEventListener(s,a,!0):h!==void 0?n.addEventListener(s,a,{passive:h}):n.addEventListener(s,a,!1)}function Uu(n,s,a,u,h){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var _=u.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var x=y.tag;if((x===3||x===4)&&(x=y.stateNode.containerInfo,x===h||x.nodeType===8&&x.parentNode===h))return;y=y.return}for(;_!==null;){if(y=li(_),y===null)return;if(x=y.tag,x===5||x===6){u=p=y;continue e}_=_.parentNode}}u=u.return}Hh(function(){var P=p,q=du(a),X=[];e:{var H=Pf.get(n);if(H!==void 0){var le=Au,pe=n;switch(n){case"keypress":if(ua(a)===0)break e;case"keydown":case"keyup":le=Z0;break;case"focusin":pe="focus",le=Iu;break;case"focusout":pe="blur",le=Iu;break;case"beforeblur":case"afterblur":le=Iu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=ew;break;case Ff:case Of:case Bf:le=j0;break;case Mf:le=nw;break;case"scroll":le=M0;break;case"wheel":le=iw;break;case"copy":case"cut":case"paste":le=V0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=yf}var ge=(s&4)!==0,gt=!ge&&n==="scroll",D=ge?H!==null?H+"Capture":null:H;ge=[];for(var I=P,O;I!==null;){O=I;var ee=O.stateNode;if(O.tag===5&&ee!==null&&(O=ee,D!==null&&(ee=Ms(I,D),ee!=null&&ge.push(no(I,ee,O)))),gt)break;I=I.return}0<ge.length&&(H=new le(H,pe,null,a,q),X.push({event:H,listeners:ge}))}}if((s&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",le=n==="mouseout"||n==="pointerout",H&&a!==cu&&(pe=a.relatedTarget||a.fromElement)&&(li(pe)||pe[or]))break e;if((le||H)&&(H=q.window===q?q:(H=q.ownerDocument)?H.defaultView||H.parentWindow:window,le?(pe=a.relatedTarget||a.toElement,le=P,pe=pe?li(pe):null,pe!==null&&(gt=ai(pe),pe!==gt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(le=null,pe=P),le!==pe)){if(ge=pf,ee="onMouseLeave",D="onMouseEnter",I="mouse",(n==="pointerout"||n==="pointerover")&&(ge=yf,ee="onPointerLeave",D="onPointerEnter",I="pointer"),gt=le==null?H:Gi(le),O=pe==null?H:Gi(pe),H=new ge(ee,I+"leave",le,a,q),H.target=gt,H.relatedTarget=O,ee=null,li(q)===P&&(ge=new ge(D,I+"enter",pe,a,q),ge.target=O,ge.relatedTarget=gt,ee=ge),gt=ee,le&&pe)t:{for(ge=le,D=pe,I=0,O=ge;O;O=$i(O))I++;for(O=0,ee=D;ee;ee=$i(ee))O++;for(;0<I-O;)ge=$i(ge),I--;for(;0<O-I;)D=$i(D),O--;for(;I--;){if(ge===D||D!==null&&ge===D.alternate)break t;ge=$i(ge),D=$i(D)}ge=null}else ge=null;le!==null&&Gf(X,H,le,ge,!1),pe!==null&&gt!==null&&Gf(X,gt,pe,ge,!0)}}e:{if(H=P?Gi(P):window,le=H.nodeName&&H.nodeName.toLowerCase(),le==="select"||le==="input"&&H.type==="file")var me=dw;else if(Sf(H))if(xf)me=gw;else{me=fw;var we=hw}else(le=H.nodeName)&&le.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(me=pw);if(me&&(me=me(n,P))){Ef(X,me,a,q);break e}we&&we(n,H,P),n==="focusout"&&(we=H._wrapperState)&&we.controlled&&H.type==="number"&&su(H,"number",H.value)}switch(we=P?Gi(P):window,n){case"focusin":(Sf(we)||we.contentEditable==="true")&&(zi=we,Fu=P,Js=null);break;case"focusout":Js=Fu=zi=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Rf(X,a,q);break;case"selectionchange":if(vw)break;case"keydown":case"keyup":Rf(X,a,q)}var _e;if(ku)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Pi?_f(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(mf&&a.locale!=="ko"&&(Pi||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Pi&&(_e=hf()):(Lr=q,xu="value"in Lr?Lr.value:Lr.textContent,Pi=!0)),we=ya(P,Ee),0<we.length&&(Ee=new gf(Ee,n,null,a,q),X.push({event:Ee,listeners:we}),_e?Ee.data=_e:(_e=bf(a),_e!==null&&(Ee.data=_e)))),(_e=ow?aw(n,a):lw(n,a))&&(P=ya(P,"onBeforeInput"),0<P.length&&(q=new gf("onBeforeInput","beforeinput",null,a,q),X.push({event:q,listeners:P}),q.data=_e))}$f(X,s)})}function no(n,s,a){return{instance:n,listener:s,currentTarget:a}}function ya(n,s){for(var a=s+"Capture",u=[];n!==null;){var h=n,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=Ms(n,a),p!=null&&u.unshift(no(n,p,h)),p=Ms(n,s),p!=null&&u.push(no(n,p,h))),n=n.return}return u}function $i(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Gf(n,s,a,u,h){for(var p=s._reactName,y=[];a!==null&&a!==u;){var _=a,x=_.alternate,P=_.stateNode;if(x!==null&&x===u)break;_.tag===5&&P!==null&&(_=P,h?(x=Ms(a,p),x!=null&&y.unshift(no(a,x,_))):h||(x=Ms(a,p),x!=null&&y.push(no(a,x,_)))),a=a.return}y.length!==0&&n.push({event:s,listeners:y})}var Sw=/\r\n?/g,Ew=/\u0000|\uFFFD/g;function Vf(n){return(typeof n=="string"?n:""+n).replace(Sw,`
`).replace(Ew,"")}function ma(n,s,a){if(s=Vf(s),Vf(n)!==s&&a)throw Error(t(425))}function va(){}var $u=null,ju=null;function Gu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vu=typeof setTimeout=="function"?setTimeout:void 0,xw=typeof clearTimeout=="function"?clearTimeout:void 0,Wf=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof Wf<"u"?function(n){return Wf.resolve(null).then(n).catch(Nw)}:Vu;function Nw(n){setTimeout(function(){throw n})}function Wu(n,s){var a=s,u=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(u===0){n.removeChild(h),Hs(s);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=h}while(a);Hs(s)}function Or(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Hf(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var ji=Math.random().toString(36).slice(2),jn="__reactFiber$"+ji,ro="__reactProps$"+ji,or="__reactContainer$"+ji,Hu="__reactEvents$"+ji,Tw="__reactListeners$"+ji,Iw="__reactHandles$"+ji;function li(n){var s=n[jn];if(s)return s;for(var a=n.parentNode;a;){if(s=a[or]||a[jn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Hf(n);n!==null;){if(a=n[jn])return a;n=Hf(n)}return s}n=a,a=n.parentNode}return null}function io(n){return n=n[jn]||n[or],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Gi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function wa(n){return n[ro]||null}var Yu=[],Vi=-1;function Br(n){return{current:n}}function it(n){0>Vi||(n.current=Yu[Vi],Yu[Vi]=null,Vi--)}function tt(n,s){Vi++,Yu[Vi]=n.current,n.current=s}var Mr={},kt=Br(Mr),jt=Br(!1),ui=Mr;function Wi(n,s){var a=n.type.contextTypes;if(!a)return Mr;var u=n.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=s[p];return u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=h),h}function Gt(n){return n=n.childContextTypes,n!=null}function _a(){it(jt),it(kt)}function Yf(n,s,a){if(kt.current!==Mr)throw Error(t(168));tt(kt,s),tt(jt,a)}function Kf(n,s,a){var u=n.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var h in u)if(!(h in s))throw Error(t(108,ie(n)||"Unknown",h));return Z({},a,u)}function ba(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Mr,ui=kt.current,tt(kt,n),tt(jt,jt.current),!0}function qf(n,s,a){var u=n.stateNode;if(!u)throw Error(t(169));a?(n=Kf(n,s,ui),u.__reactInternalMemoizedMergedChildContext=n,it(jt),it(kt),tt(kt,n)):it(jt),tt(jt,a)}var ar=null,Sa=!1,Ku=!1;function Qf(n){ar===null?ar=[n]:ar.push(n)}function Cw(n){Sa=!0,Qf(n)}function Pr(){if(!Ku&&ar!==null){Ku=!0;var n=0,s=Qe;try{var a=ar;for(Qe=1;n<a.length;n++){var u=a[n];do u=u(!0);while(u!==null)}ar=null,Sa=!1}catch(h){throw ar!==null&&(ar=ar.slice(n+1)),Zh(yu,Pr),h}finally{Qe=s,Ku=!1}}return null}var Hi=[],Yi=0,Ea=null,xa=0,hn=[],fn=0,ci=null,lr=1,ur="";function di(n,s){Hi[Yi++]=xa,Hi[Yi++]=Ea,Ea=n,xa=s}function Zf(n,s,a){hn[fn++]=lr,hn[fn++]=ur,hn[fn++]=ci,ci=n;var u=lr;n=ur;var h=32-Tn(u)-1;u&=~(1<<h),a+=1;var p=32-Tn(s)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,lr=1<<32-Tn(s)+h|a<<h|u,ur=p+n}else lr=1<<p|a<<h|u,ur=n}function qu(n){n.return!==null&&(di(n,1),Zf(n,1,0))}function Qu(n){for(;n===Ea;)Ea=Hi[--Yi],Hi[Yi]=null,xa=Hi[--Yi],Hi[Yi]=null;for(;n===ci;)ci=hn[--fn],hn[fn]=null,ur=hn[--fn],hn[fn]=null,lr=hn[--fn],hn[fn]=null}var rn=null,sn=null,ot=!1,Cn=null;function Xf(n,s){var a=mn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function Jf(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,rn=n,sn=Or(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,rn=n,sn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ci!==null?{id:lr,overflow:ur}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=mn(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,rn=n,sn=null,!0):!1;default:return!1}}function Zu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Xu(n){if(ot){var s=sn;if(s){var a=s;if(!Jf(n,s)){if(Zu(n))throw Error(t(418));s=Or(a.nextSibling);var u=rn;s&&Jf(n,s)?Xf(u,a):(n.flags=n.flags&-4097|2,ot=!1,rn=n)}}else{if(Zu(n))throw Error(t(418));n.flags=n.flags&-4097|2,ot=!1,rn=n}}}function ep(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function Aa(n){if(n!==rn)return!1;if(!ot)return ep(n),ot=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Gu(n.type,n.memoizedProps)),s&&(s=sn)){if(Zu(n))throw tp(),Error(t(418));for(;s;)Xf(n,s),s=Or(s.nextSibling)}if(ep(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){sn=Or(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}sn=null}}else sn=rn?Or(n.stateNode.nextSibling):null;return!0}function tp(){for(var n=sn;n;)n=Or(n.nextSibling)}function Ki(){sn=rn=null,ot=!1}function Ju(n){Cn===null?Cn=[n]:Cn.push(n)}var kw=k.ReactCurrentBatchConfig;function so(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var u=a.stateNode}if(!u)throw Error(t(147,n));var h=u,p=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(y){var _=h.refs;y===null?delete _[p]:_[p]=y},s._stringRef=p,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Na(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function np(n){var s=n._init;return s(n._payload)}function rp(n){function s(D,I){if(n){var O=D.deletions;O===null?(D.deletions=[I],D.flags|=16):O.push(I)}}function a(D,I){if(!n)return null;for(;I!==null;)s(D,I),I=I.sibling;return null}function u(D,I){for(D=new Map;I!==null;)I.key!==null?D.set(I.key,I):D.set(I.index,I),I=I.sibling;return D}function h(D,I){return D=Hr(D,I),D.index=0,D.sibling=null,D}function p(D,I,O){return D.index=O,n?(O=D.alternate,O!==null?(O=O.index,O<I?(D.flags|=2,I):O):(D.flags|=2,I)):(D.flags|=1048576,I)}function y(D){return n&&D.alternate===null&&(D.flags|=2),D}function _(D,I,O,ee){return I===null||I.tag!==6?(I=Vc(O,D.mode,ee),I.return=D,I):(I=h(I,O),I.return=D,I)}function x(D,I,O,ee){var me=O.type;return me===E?q(D,I,O.props.children,ee,O.key):I!==null&&(I.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ue&&np(me)===I.type)?(ee=h(I,O.props),ee.ref=so(D,I,O),ee.return=D,ee):(ee=Qa(O.type,O.key,O.props,null,D.mode,ee),ee.ref=so(D,I,O),ee.return=D,ee)}function P(D,I,O,ee){return I===null||I.tag!==4||I.stateNode.containerInfo!==O.containerInfo||I.stateNode.implementation!==O.implementation?(I=Wc(O,D.mode,ee),I.return=D,I):(I=h(I,O.children||[]),I.return=D,I)}function q(D,I,O,ee,me){return I===null||I.tag!==7?(I=wi(O,D.mode,ee,me),I.return=D,I):(I=h(I,O),I.return=D,I)}function X(D,I,O){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Vc(""+I,D.mode,O),I.return=D,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return O=Qa(I.type,I.key,I.props,null,D.mode,O),O.ref=so(D,null,I),O.return=D,O;case $:return I=Wc(I,D.mode,O),I.return=D,I;case ue:var ee=I._init;return X(D,ee(I._payload),O)}if(Fs(I)||se(I))return I=wi(I,D.mode,O,null),I.return=D,I;Na(D,I)}return null}function H(D,I,O,ee){var me=I!==null?I.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return me!==null?null:_(D,I,""+O,ee);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return O.key===me?x(D,I,O,ee):null;case $:return O.key===me?P(D,I,O,ee):null;case ue:return me=O._init,H(D,I,me(O._payload),ee)}if(Fs(O)||se(O))return me!==null?null:q(D,I,O,ee,null);Na(D,O)}return null}function le(D,I,O,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return D=D.get(O)||null,_(I,D,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case A:return D=D.get(ee.key===null?O:ee.key)||null,x(I,D,ee,me);case $:return D=D.get(ee.key===null?O:ee.key)||null,P(I,D,ee,me);case ue:var we=ee._init;return le(D,I,O,we(ee._payload),me)}if(Fs(ee)||se(ee))return D=D.get(O)||null,q(I,D,ee,me,null);Na(I,ee)}return null}function pe(D,I,O,ee){for(var me=null,we=null,_e=I,Ee=I=0,Nt=null;_e!==null&&Ee<O.length;Ee++){_e.index>Ee?(Nt=_e,_e=null):Nt=_e.sibling;var je=H(D,_e,O[Ee],ee);if(je===null){_e===null&&(_e=Nt);break}n&&_e&&je.alternate===null&&s(D,_e),I=p(je,I,Ee),we===null?me=je:we.sibling=je,we=je,_e=Nt}if(Ee===O.length)return a(D,_e),ot&&di(D,Ee),me;if(_e===null){for(;Ee<O.length;Ee++)_e=X(D,O[Ee],ee),_e!==null&&(I=p(_e,I,Ee),we===null?me=_e:we.sibling=_e,we=_e);return ot&&di(D,Ee),me}for(_e=u(D,_e);Ee<O.length;Ee++)Nt=le(_e,D,Ee,O[Ee],ee),Nt!==null&&(n&&Nt.alternate!==null&&_e.delete(Nt.key===null?Ee:Nt.key),I=p(Nt,I,Ee),we===null?me=Nt:we.sibling=Nt,we=Nt);return n&&_e.forEach(function(Yr){return s(D,Yr)}),ot&&di(D,Ee),me}function ge(D,I,O,ee){var me=se(O);if(typeof me!="function")throw Error(t(150));if(O=me.call(O),O==null)throw Error(t(151));for(var we=me=null,_e=I,Ee=I=0,Nt=null,je=O.next();_e!==null&&!je.done;Ee++,je=O.next()){_e.index>Ee?(Nt=_e,_e=null):Nt=_e.sibling;var Yr=H(D,_e,je.value,ee);if(Yr===null){_e===null&&(_e=Nt);break}n&&_e&&Yr.alternate===null&&s(D,_e),I=p(Yr,I,Ee),we===null?me=Yr:we.sibling=Yr,we=Yr,_e=Nt}if(je.done)return a(D,_e),ot&&di(D,Ee),me;if(_e===null){for(;!je.done;Ee++,je=O.next())je=X(D,je.value,ee),je!==null&&(I=p(je,I,Ee),we===null?me=je:we.sibling=je,we=je);return ot&&di(D,Ee),me}for(_e=u(D,_e);!je.done;Ee++,je=O.next())je=le(_e,D,Ee,je.value,ee),je!==null&&(n&&je.alternate!==null&&_e.delete(je.key===null?Ee:je.key),I=p(je,I,Ee),we===null?me=je:we.sibling=je,we=je);return n&&_e.forEach(function(u_){return s(D,u_)}),ot&&di(D,Ee),me}function gt(D,I,O,ee){if(typeof O=="object"&&O!==null&&O.type===E&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case A:e:{for(var me=O.key,we=I;we!==null;){if(we.key===me){if(me=O.type,me===E){if(we.tag===7){a(D,we.sibling),I=h(we,O.props.children),I.return=D,D=I;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ue&&np(me)===we.type){a(D,we.sibling),I=h(we,O.props),I.ref=so(D,we,O),I.return=D,D=I;break e}a(D,we);break}else s(D,we);we=we.sibling}O.type===E?(I=wi(O.props.children,D.mode,ee,O.key),I.return=D,D=I):(ee=Qa(O.type,O.key,O.props,null,D.mode,ee),ee.ref=so(D,I,O),ee.return=D,D=ee)}return y(D);case $:e:{for(we=O.key;I!==null;){if(I.key===we)if(I.tag===4&&I.stateNode.containerInfo===O.containerInfo&&I.stateNode.implementation===O.implementation){a(D,I.sibling),I=h(I,O.children||[]),I.return=D,D=I;break e}else{a(D,I);break}else s(D,I);I=I.sibling}I=Wc(O,D.mode,ee),I.return=D,D=I}return y(D);case ue:return we=O._init,gt(D,I,we(O._payload),ee)}if(Fs(O))return pe(D,I,O,ee);if(se(O))return ge(D,I,O,ee);Na(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,I!==null&&I.tag===6?(a(D,I.sibling),I=h(I,O),I.return=D,D=I):(a(D,I),I=Vc(O,D.mode,ee),I.return=D,D=I),y(D)):a(D,I)}return gt}var qi=rp(!0),ip=rp(!1),Ta=Br(null),Ia=null,Qi=null,ec=null;function tc(){ec=Qi=Ia=null}function nc(n){var s=Ta.current;it(Ta),n._currentValue=s}function rc(n,s,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===a)break;n=n.return}}function Zi(n,s){Ia=n,ec=Qi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Vt=!0),n.firstContext=null)}function pn(n){var s=n._currentValue;if(ec!==n)if(n={context:n,memoizedValue:s,next:null},Qi===null){if(Ia===null)throw Error(t(308));Qi=n,Ia.dependencies={lanes:0,firstContext:n}}else Qi=Qi.next=n;return s}var hi=null;function ic(n){hi===null?hi=[n]:hi.push(n)}function sp(n,s,a,u){var h=s.interleaved;return h===null?(a.next=a,ic(s)):(a.next=h.next,h.next=a),s.interleaved=a,cr(n,u)}function cr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var zr=!1;function sc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function op(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function dr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Ur(n,s,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ue&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,cr(n,a)}return h=u.interleaved,h===null?(s.next=s,ic(u)):(s.next=h.next,h.next=s),u.interleaved=s,cr(n,a)}function Ca(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,wu(n,a)}}function ap(n,s){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var y={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=y:p=p.next=y,a=a.next}while(a!==null);p===null?h=p=s:p=p.next=s}else h=p=s;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function ka(n,s,a,u){var h=n.updateQueue;zr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var x=_,P=x.next;x.next=null,y===null?p=P:y.next=P,y=x;var q=n.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==y&&(_===null?q.firstBaseUpdate=P:_.next=P,q.lastBaseUpdate=x))}if(p!==null){var X=h.baseState;y=0,q=P=x=null,_=p;do{var H=_.lane,le=_.eventTime;if((u&H)===H){q!==null&&(q=q.next={eventTime:le,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var pe=n,ge=_;switch(H=s,le=a,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){X=pe.call(le,X,H);break e}X=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,H=typeof pe=="function"?pe.call(le,X,H):pe,H==null)break e;X=Z({},X,H);break e;case 2:zr=!0}}_.callback!==null&&_.lane!==0&&(n.flags|=64,H=h.effects,H===null?h.effects=[_]:H.push(_))}else le={eventTime:le,lane:H,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?(P=q=le,x=X):q=q.next=le,y|=H;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;H=_,_=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);if(q===null&&(x=X),h.baseState=x,h.firstBaseUpdate=P,h.lastBaseUpdate=q,s=h.shared.interleaved,s!==null){h=s;do y|=h.lane,h=h.next;while(h!==s)}else p===null&&(h.shared.lanes=0);gi|=y,n.lanes=y,n.memoizedState=X}}function lp(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var u=n[s],h=u.callback;if(h!==null){if(u.callback=null,u=a,typeof h!="function")throw Error(t(191,h));h.call(u)}}}var oo={},Gn=Br(oo),ao=Br(oo),lo=Br(oo);function fi(n){if(n===oo)throw Error(t(174));return n}function oc(n,s){switch(tt(lo,s),tt(ao,n),tt(Gn,oo),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:au(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=au(s,n)}it(Gn),tt(Gn,s)}function Xi(){it(Gn),it(ao),it(lo)}function up(n){fi(lo.current);var s=fi(Gn.current),a=au(s,n.type);s!==a&&(tt(ao,n),tt(Gn,a))}function ac(n){ao.current===n&&(it(Gn),it(ao))}var lt=Br(0);function Da(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var lc=[];function uc(){for(var n=0;n<lc.length;n++)lc[n]._workInProgressVersionPrimary=null;lc.length=0}var Ra=k.ReactCurrentDispatcher,cc=k.ReactCurrentBatchConfig,pi=0,ut=null,vt=null,xt=null,La=!1,uo=!1,co=0,Dw=0;function Dt(){throw Error(t(321))}function dc(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!In(n[a],s[a]))return!1;return!0}function hc(n,s,a,u,h,p){if(pi=p,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ra.current=n===null||n.memoizedState===null?Ow:Bw,n=a(u,h),uo){p=0;do{if(uo=!1,co=0,25<=p)throw Error(t(301));p+=1,xt=vt=null,s.updateQueue=null,Ra.current=Mw,n=a(u,h)}while(uo)}if(Ra.current=Ba,s=vt!==null&&vt.next!==null,pi=0,xt=vt=ut=null,La=!1,s)throw Error(t(300));return n}function fc(){var n=co!==0;return co=0,n}function Vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?ut.memoizedState=xt=n:xt=xt.next=n,xt}function gn(){if(vt===null){var n=ut.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var s=xt===null?ut.memoizedState:xt.next;if(s!==null)xt=s,vt=n;else{if(n===null)throw Error(t(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},xt===null?ut.memoizedState=xt=n:xt=xt.next=n}return xt}function ho(n,s){return typeof s=="function"?s(n):s}function pc(n){var s=gn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var u=vt,h=u.baseQueue,p=a.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,u=u.baseState;var _=y=null,x=null,P=p;do{var q=P.lane;if((pi&q)===q)x!==null&&(x=x.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),u=P.hasEagerState?P.eagerState:n(u,P.action);else{var X={lane:q,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};x===null?(_=x=X,y=u):x=x.next=X,ut.lanes|=q,gi|=q}P=P.next}while(P!==null&&P!==p);x===null?y=u:x.next=_,In(u,s.memoizedState)||(Vt=!0),s.memoizedState=u,s.baseState=y,s.baseQueue=x,a.lastRenderedState=u}if(n=a.interleaved,n!==null){h=n;do p=h.lane,ut.lanes|=p,gi|=p,h=h.next;while(h!==n)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function gc(n){var s=gn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var u=a.dispatch,h=a.pending,p=s.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do p=n(p,y.action),y=y.next;while(y!==h);In(p,s.memoizedState)||(Vt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,u]}function cp(){}function dp(n,s){var a=ut,u=gn(),h=s(),p=!In(u.memoizedState,h);if(p&&(u.memoizedState=h,Vt=!0),u=u.queue,yc(pp.bind(null,a,u,n),[n]),u.getSnapshot!==s||p||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,fo(9,fp.bind(null,a,u,h,s),void 0,null),At===null)throw Error(t(349));(pi&30)!==0||hp(a,s,h)}return h}function hp(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function fp(n,s,a,u){s.value=a,s.getSnapshot=u,gp(s)&&yp(n)}function pp(n,s,a){return a(function(){gp(s)&&yp(n)})}function gp(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!In(n,a)}catch{return!0}}function yp(n){var s=cr(n,1);s!==null&&Ln(s,n,1,-1)}function mp(n){var s=Vn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:n},s.queue=n,n=n.dispatch=Fw.bind(null,ut,n),[s.memoizedState,n]}function fo(n,s,a,u){return n={tag:n,create:s,destroy:a,deps:u,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,s.lastEffect=n)),n}function vp(){return gn().memoizedState}function Fa(n,s,a,u){var h=Vn();ut.flags|=n,h.memoizedState=fo(1|s,a,void 0,u===void 0?null:u)}function Oa(n,s,a,u){var h=gn();u=u===void 0?null:u;var p=void 0;if(vt!==null){var y=vt.memoizedState;if(p=y.destroy,u!==null&&dc(u,y.deps)){h.memoizedState=fo(s,a,p,u);return}}ut.flags|=n,h.memoizedState=fo(1|s,a,p,u)}function wp(n,s){return Fa(8390656,8,n,s)}function yc(n,s){return Oa(2048,8,n,s)}function _p(n,s){return Oa(4,2,n,s)}function bp(n,s){return Oa(4,4,n,s)}function Sp(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Ep(n,s,a){return a=a!=null?a.concat([n]):null,Oa(4,4,Sp.bind(null,s,n),a)}function mc(){}function xp(n,s){var a=gn();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&dc(s,u[1])?u[0]:(a.memoizedState=[n,s],n)}function Ap(n,s){var a=gn();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&dc(s,u[1])?u[0]:(n=n(),a.memoizedState=[n,s],n)}function Np(n,s,a){return(pi&21)===0?(n.baseState&&(n.baseState=!1,Vt=!0),n.memoizedState=a):(In(a,s)||(a=tf(),ut.lanes|=a,gi|=a,n.baseState=!0),s)}function Rw(n,s){var a=Qe;Qe=a!==0&&4>a?a:4,n(!0);var u=cc.transition;cc.transition={};try{n(!1),s()}finally{Qe=a,cc.transition=u}}function Tp(){return gn().memoizedState}function Lw(n,s,a){var u=Vr(n);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Ip(n))Cp(s,a);else if(a=sp(n,s,a,u),a!==null){var h=Mt();Ln(a,n,u,h),kp(a,s,u)}}function Fw(n,s,a){var u=Vr(n),h={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ip(n))Cp(s,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var y=s.lastRenderedState,_=p(y,a);if(h.hasEagerState=!0,h.eagerState=_,In(_,y)){var x=s.interleaved;x===null?(h.next=h,ic(s)):(h.next=x.next,x.next=h),s.interleaved=h;return}}catch{}finally{}a=sp(n,s,h,u),a!==null&&(h=Mt(),Ln(a,n,u,h),kp(a,s,u))}}function Ip(n){var s=n.alternate;return n===ut||s!==null&&s===ut}function Cp(n,s){uo=La=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function kp(n,s,a){if((a&4194240)!==0){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,wu(n,a)}}var Ba={readContext:pn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Ow={readContext:pn,useCallback:function(n,s){return Vn().memoizedState=[n,s===void 0?null:s],n},useContext:pn,useEffect:wp,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,Fa(4194308,4,Sp.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Fa(4194308,4,n,s)},useInsertionEffect:function(n,s){return Fa(4,2,n,s)},useMemo:function(n,s){var a=Vn();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var u=Vn();return s=a!==void 0?a(s):s,u.memoizedState=u.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},u.queue=n,n=n.dispatch=Lw.bind(null,ut,n),[u.memoizedState,n]},useRef:function(n){var s=Vn();return n={current:n},s.memoizedState=n},useState:mp,useDebugValue:mc,useDeferredValue:function(n){return Vn().memoizedState=n},useTransition:function(){var n=mp(!1),s=n[0];return n=Rw.bind(null,n[1]),Vn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var u=ut,h=Vn();if(ot){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),At===null)throw Error(t(349));(pi&30)!==0||hp(u,s,a)}h.memoizedState=a;var p={value:a,getSnapshot:s};return h.queue=p,wp(pp.bind(null,u,p,n),[n]),u.flags|=2048,fo(9,fp.bind(null,u,p,a,s),void 0,null),a},useId:function(){var n=Vn(),s=At.identifierPrefix;if(ot){var a=ur,u=lr;a=(u&~(1<<32-Tn(u)-1)).toString(32)+a,s=":"+s+"R"+a,a=co++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Dw++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Bw={readContext:pn,useCallback:xp,useContext:pn,useEffect:yc,useImperativeHandle:Ep,useInsertionEffect:_p,useLayoutEffect:bp,useMemo:Ap,useReducer:pc,useRef:vp,useState:function(){return pc(ho)},useDebugValue:mc,useDeferredValue:function(n){var s=gn();return Np(s,vt.memoizedState,n)},useTransition:function(){var n=pc(ho)[0],s=gn().memoizedState;return[n,s]},useMutableSource:cp,useSyncExternalStore:dp,useId:Tp,unstable_isNewReconciler:!1},Mw={readContext:pn,useCallback:xp,useContext:pn,useEffect:yc,useImperativeHandle:Ep,useInsertionEffect:_p,useLayoutEffect:bp,useMemo:Ap,useReducer:gc,useRef:vp,useState:function(){return gc(ho)},useDebugValue:mc,useDeferredValue:function(n){var s=gn();return vt===null?s.memoizedState=n:Np(s,vt.memoizedState,n)},useTransition:function(){var n=gc(ho)[0],s=gn().memoizedState;return[n,s]},useMutableSource:cp,useSyncExternalStore:dp,useId:Tp,unstable_isNewReconciler:!1};function kn(n,s){if(n&&n.defaultProps){s=Z({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function vc(n,s,a,u){s=n.memoizedState,a=a(u,s),a=a==null?s:Z({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ma={isMounted:function(n){return(n=n._reactInternals)?ai(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var u=Mt(),h=Vr(n),p=dr(u,h);p.payload=s,a!=null&&(p.callback=a),s=Ur(n,p,h),s!==null&&(Ln(s,n,h,u),Ca(s,n,h))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var u=Mt(),h=Vr(n),p=dr(u,h);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=Ur(n,p,h),s!==null&&(Ln(s,n,h,u),Ca(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Mt(),u=Vr(n),h=dr(a,u);h.tag=2,s!=null&&(h.callback=s),s=Ur(n,h,u),s!==null&&(Ln(s,n,u,a),Ca(s,n,u))}};function Dp(n,s,a,u,h,p,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,y):s.prototype&&s.prototype.isPureReactComponent?!Xs(a,u)||!Xs(h,p):!0}function Rp(n,s,a){var u=!1,h=Mr,p=s.contextType;return typeof p=="object"&&p!==null?p=pn(p):(h=Gt(s)?ui:kt.current,u=s.contextTypes,p=(u=u!=null)?Wi(n,h):Mr),s=new s(a,p),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ma,n.stateNode=s,s._reactInternals=n,u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=p),s}function Lp(n,s,a,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==n&&Ma.enqueueReplaceState(s,s.state,null)}function wc(n,s,a,u){var h=n.stateNode;h.props=a,h.state=n.memoizedState,h.refs={},sc(n);var p=s.contextType;typeof p=="object"&&p!==null?h.context=pn(p):(p=Gt(s)?ui:kt.current,h.context=Wi(n,p)),h.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(vc(n,s,p,a),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ma.enqueueReplaceState(h,h.state,null),ka(n,a,h,u),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function Ji(n,s){try{var a="",u=s;do a+=N(u),u=u.return;while(u);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:s,stack:h,digest:null}}function _c(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function bc(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Pw=typeof WeakMap=="function"?WeakMap:Map;function Fp(n,s,a){a=dr(-1,a),a.tag=3,a.payload={element:null};var u=s.value;return a.callback=function(){Va||(Va=!0,Bc=u),bc(n,s)},a}function Op(n,s,a){a=dr(-1,a),a.tag=3;var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var h=s.value;a.payload=function(){return u(h)},a.callback=function(){bc(n,s)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){bc(n,s),typeof u!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})}),a}function Bp(n,s,a){var u=n.pingCache;if(u===null){u=n.pingCache=new Pw;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(a)||(h.add(a),n=Xw.bind(null,n,s,a),s.then(n,n))}function Mp(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Pp(n,s,a,u,h){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=dr(-1,1),s.tag=2,Ur(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var zw=k.ReactCurrentOwner,Vt=!1;function Bt(n,s,a,u){s.child=n===null?ip(s,null,a,u):qi(s,n.child,a,u)}function zp(n,s,a,u,h){a=a.render;var p=s.ref;return Zi(s,h),u=hc(n,s,a,u,p,h),a=fc(),n!==null&&!Vt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,hr(n,s,h)):(ot&&a&&qu(s),s.flags|=1,Bt(n,s,u,h),s.child)}function Up(n,s,a,u,h){if(n===null){var p=a.type;return typeof p=="function"&&!Gc(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=p,$p(n,s,p,u,h)):(n=Qa(a.type,null,u,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,(n.lanes&h)===0){var y=p.memoizedProps;if(a=a.compare,a=a!==null?a:Xs,a(y,u)&&n.ref===s.ref)return hr(n,s,h)}return s.flags|=1,n=Hr(p,u),n.ref=s.ref,n.return=s,s.child=n}function $p(n,s,a,u,h){if(n!==null){var p=n.memoizedProps;if(Xs(p,u)&&n.ref===s.ref)if(Vt=!1,s.pendingProps=u=p,(n.lanes&h)!==0)(n.flags&131072)!==0&&(Vt=!0);else return s.lanes=n.lanes,hr(n,s,h)}return Sc(n,s,a,u,h)}function jp(n,s,a){var u=s.pendingProps,h=u.children,p=n!==null?n.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ts,on),on|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,tt(ts,on),on|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:a,tt(ts,on),on|=u}else p!==null?(u=p.baseLanes|a,s.memoizedState=null):u=a,tt(ts,on),on|=u;return Bt(n,s,h,a),s.child}function Gp(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Sc(n,s,a,u,h){var p=Gt(a)?ui:kt.current;return p=Wi(s,p),Zi(s,h),a=hc(n,s,a,u,p,h),u=fc(),n!==null&&!Vt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,hr(n,s,h)):(ot&&u&&qu(s),s.flags|=1,Bt(n,s,a,h),s.child)}function Vp(n,s,a,u,h){if(Gt(a)){var p=!0;ba(s)}else p=!1;if(Zi(s,h),s.stateNode===null)za(n,s),Rp(s,a,u),wc(s,a,u,h),u=!0;else if(n===null){var y=s.stateNode,_=s.memoizedProps;y.props=_;var x=y.context,P=a.contextType;typeof P=="object"&&P!==null?P=pn(P):(P=Gt(a)?ui:kt.current,P=Wi(s,P));var q=a.getDerivedStateFromProps,X=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==u||x!==P)&&Lp(s,y,u,P),zr=!1;var H=s.memoizedState;y.state=H,ka(s,u,y,h),x=s.memoizedState,_!==u||H!==x||jt.current||zr?(typeof q=="function"&&(vc(s,a,q,u),x=s.memoizedState),(_=zr||Dp(s,a,_,u,H,x,P))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=x),y.props=u,y.state=x,y.context=P,u=_):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,op(n,s),_=s.memoizedProps,P=s.type===s.elementType?_:kn(s.type,_),y.props=P,X=s.pendingProps,H=y.context,x=a.contextType,typeof x=="object"&&x!==null?x=pn(x):(x=Gt(a)?ui:kt.current,x=Wi(s,x));var le=a.getDerivedStateFromProps;(q=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==X||H!==x)&&Lp(s,y,u,x),zr=!1,H=s.memoizedState,y.state=H,ka(s,u,y,h);var pe=s.memoizedState;_!==X||H!==pe||jt.current||zr?(typeof le=="function"&&(vc(s,a,le,u),pe=s.memoizedState),(P=zr||Dp(s,a,P,u,H,pe,x)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,pe,x),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,pe,x)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=pe),y.props=u,y.state=pe,y.context=x,u=P):(typeof y.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),u=!1)}return Ec(n,s,a,u,p,h)}function Ec(n,s,a,u,h,p){Gp(n,s);var y=(s.flags&128)!==0;if(!u&&!y)return h&&qf(s,a,!1),hr(n,s,p);u=s.stateNode,zw.current=s;var _=y&&typeof a.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,n!==null&&y?(s.child=qi(s,n.child,null,p),s.child=qi(s,null,_,p)):Bt(n,s,_,p),s.memoizedState=u.state,h&&qf(s,a,!0),s.child}function Wp(n){var s=n.stateNode;s.pendingContext?Yf(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Yf(n,s.context,!1),oc(n,s.containerInfo)}function Hp(n,s,a,u,h){return Ki(),Ju(h),s.flags|=256,Bt(n,s,a,u),s.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function Ac(n){return{baseLanes:n,cachePool:null,transitions:null}}function Yp(n,s,a){var u=s.pendingProps,h=lt.current,p=!1,y=(s.flags&128)!==0,_;if((_=y)||(_=n!==null&&n.memoizedState===null?!1:(h&2)!==0),_?(p=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),tt(lt,h&1),n===null)return Xu(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(y=u.children,n=u.fallback,p?(u=s.mode,p=s.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=Za(y,u,0,null),n=wi(n,u,a,null),p.return=s,n.return=s,p.sibling=n,s.child=p,s.child.memoizedState=Ac(a),s.memoizedState=xc,n):Nc(s,y));if(h=n.memoizedState,h!==null&&(_=h.dehydrated,_!==null))return Uw(n,s,y,u,_,h,a);if(p){p=u.fallback,y=s.mode,h=n.child,_=h.sibling;var x={mode:"hidden",children:u.children};return(y&1)===0&&s.child!==h?(u=s.child,u.childLanes=0,u.pendingProps=x,s.deletions=null):(u=Hr(h,x),u.subtreeFlags=h.subtreeFlags&14680064),_!==null?p=Hr(_,p):(p=wi(p,y,a,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,y=n.child.memoizedState,y=y===null?Ac(a):{baseLanes:y.baseLanes|a,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=n.childLanes&~a,s.memoizedState=xc,u}return p=n.child,n=p.sibling,u=Hr(p,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=a),u.return=s,u.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=u,s.memoizedState=null,u}function Nc(n,s){return s=Za({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Pa(n,s,a,u){return u!==null&&Ju(u),qi(s,n.child,null,a),n=Nc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Uw(n,s,a,u,h,p,y){if(a)return s.flags&256?(s.flags&=-257,u=_c(Error(t(422))),Pa(n,s,y,u)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(p=u.fallback,h=s.mode,u=Za({mode:"visible",children:u.children},h,0,null),p=wi(p,h,y,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,(s.mode&1)!==0&&qi(s,n.child,null,y),s.child.memoizedState=Ac(y),s.memoizedState=xc,p);if((s.mode&1)===0)return Pa(n,s,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var _=u.dgst;return u=_,p=Error(t(419)),u=_c(p,u,void 0),Pa(n,s,y,u)}if(_=(y&n.childLanes)!==0,Vt||_){if(u=At,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,cr(n,h),Ln(u,n,h,-1))}return jc(),u=_c(Error(t(421))),Pa(n,s,y,u)}return h.data==="$?"?(s.flags|=128,s.child=n.child,s=Jw.bind(null,n),h._reactRetry=s,null):(n=p.treeContext,sn=Or(h.nextSibling),rn=s,ot=!0,Cn=null,n!==null&&(hn[fn++]=lr,hn[fn++]=ur,hn[fn++]=ci,lr=n.id,ur=n.overflow,ci=s),s=Nc(s,u.children),s.flags|=4096,s)}function Kp(n,s,a){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),rc(n.return,s,a)}function Tc(n,s,a,u,h){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=h)}function qp(n,s,a){var u=s.pendingProps,h=u.revealOrder,p=u.tail;if(Bt(n,s,u.children,a),u=lt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Kp(n,a,s);else if(n.tag===19)Kp(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}if(tt(lt,u),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)n=a.alternate,n!==null&&Da(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Tc(s,!1,h,a,p);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&Da(n)===null){s.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Tc(s,!0,a,null,p);break;case"together":Tc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function za(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function hr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),gi|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=Hr(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Hr(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function $w(n,s,a){switch(s.tag){case 3:Wp(s),Ki();break;case 5:up(s);break;case 1:Gt(s.type)&&ba(s);break;case 4:oc(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,h=s.memoizedProps.value;tt(Ta,u._currentValue),u._currentValue=h;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(tt(lt,lt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Yp(n,s,a):(tt(lt,lt.current&1),n=hr(n,s,a),n!==null?n.sibling:null);tt(lt,lt.current&1);break;case 19:if(u=(a&s.childLanes)!==0,(n.flags&128)!==0){if(u)return qp(n,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(lt,lt.current),u)break;return null;case 22:case 23:return s.lanes=0,jp(n,s,a)}return hr(n,s,a)}var Qp,Ic,Zp,Xp;Qp=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ic=function(){},Zp=function(n,s,a,u){var h=n.memoizedProps;if(h!==u){n=s.stateNode,fi(Gn.current);var p=null;switch(a){case"input":h=Et(n,h),u=Et(n,u),p=[];break;case"select":h=Z({},h,{value:void 0}),u=Z({},u,{value:void 0}),p=[];break;case"textarea":h=ou(n,h),u=ou(n,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(n.onclick=va)}lu(a,u);var y;a=null;for(P in h)if(!u.hasOwnProperty(P)&&h.hasOwnProperty(P)&&h[P]!=null)if(P==="style"){var _=h[P];for(y in _)_.hasOwnProperty(y)&&(a||(a={}),a[y]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(o.hasOwnProperty(P)?p||(p=[]):(p=p||[]).push(P,null));for(P in u){var x=u[P];if(_=h!=null?h[P]:void 0,u.hasOwnProperty(P)&&x!==_&&(x!=null||_!=null))if(P==="style")if(_){for(y in _)!_.hasOwnProperty(y)||x&&x.hasOwnProperty(y)||(a||(a={}),a[y]="");for(y in x)x.hasOwnProperty(y)&&_[y]!==x[y]&&(a||(a={}),a[y]=x[y])}else a||(p||(p=[]),p.push(P,a)),a=x;else P==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,_=_?_.__html:void 0,x!=null&&_!==x&&(p=p||[]).push(P,x)):P==="children"?typeof x!="string"&&typeof x!="number"||(p=p||[]).push(P,""+x):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(o.hasOwnProperty(P)?(x!=null&&P==="onScroll"&&rt("scroll",n),p||_===x||(p=[])):(p=p||[]).push(P,x))}a&&(p=p||[]).push("style",a);var P=p;(s.updateQueue=P)&&(s.flags|=4)}},Xp=function(n,s,a,u){a!==u&&(s.flags|=4)};function po(n,s){if(!ot)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Rt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(s)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=a,s}function jw(n,s,a){var u=s.pendingProps;switch(Qu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(s),null;case 1:return Gt(s.type)&&_a(),Rt(s),null;case 3:return u=s.stateNode,Xi(),it(jt),it(kt),uc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(Aa(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cn!==null&&(zc(Cn),Cn=null))),Ic(n,s),Rt(s),null;case 5:ac(s);var h=fi(lo.current);if(a=s.type,n!==null&&s.stateNode!=null)Zp(n,s,a,u,h),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(t(166));return Rt(s),null}if(n=fi(Gn.current),Aa(s)){u=s.stateNode,a=s.type;var p=s.memoizedProps;switch(u[jn]=s,u[ro]=p,n=(s.mode&1)!==0,a){case"dialog":rt("cancel",u),rt("close",u);break;case"iframe":case"object":case"embed":rt("load",u);break;case"video":case"audio":for(h=0;h<eo.length;h++)rt(eo[h],u);break;case"source":rt("error",u);break;case"img":case"image":case"link":rt("error",u),rt("load",u);break;case"details":rt("toggle",u);break;case"input":Ls(u,p),rt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},rt("invalid",u);break;case"textarea":Fh(u,p),rt("invalid",u)}lu(a,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var _=p[y];y==="children"?typeof _=="string"?u.textContent!==_&&(p.suppressHydrationWarning!==!0&&ma(u.textContent,_,n),h=["children",_]):typeof _=="number"&&u.textContent!==""+_&&(p.suppressHydrationWarning!==!0&&ma(u.textContent,_,n),h=["children",""+_]):o.hasOwnProperty(y)&&_!=null&&y==="onScroll"&&rt("scroll",u)}switch(a){case"input":ht(u),Lh(u,p,!0);break;case"textarea":ht(u),Bh(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=va)}u=h,s.updateQueue=u,u!==null&&(s.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Mh(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=y.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof u.is=="string"?n=y.createElement(a,{is:u.is}):(n=y.createElement(a),a==="select"&&(y=n,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):n=y.createElementNS(n,a),n[jn]=s,n[ro]=u,Qp(n,s,!1,!1),s.stateNode=n;e:{switch(y=uu(a,u),a){case"dialog":rt("cancel",n),rt("close",n),h=u;break;case"iframe":case"object":case"embed":rt("load",n),h=u;break;case"video":case"audio":for(h=0;h<eo.length;h++)rt(eo[h],n);h=u;break;case"source":rt("error",n),h=u;break;case"img":case"image":case"link":rt("error",n),rt("load",n),h=u;break;case"details":rt("toggle",n),h=u;break;case"input":Ls(n,u),h=Et(n,u),rt("invalid",n);break;case"option":h=u;break;case"select":n._wrapperState={wasMultiple:!!u.multiple},h=Z({},u,{value:void 0}),rt("invalid",n);break;case"textarea":Fh(n,u),h=ou(n,u),rt("invalid",n);break;default:h=u}lu(a,h),_=h;for(p in _)if(_.hasOwnProperty(p)){var x=_[p];p==="style"?Uh(n,x):p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Ph(n,x)):p==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Os(n,x):typeof x=="number"&&Os(n,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?x!=null&&p==="onScroll"&&rt("scroll",n):x!=null&&V(n,p,x,y))}switch(a){case"input":ht(n),Lh(n,u,!1);break;case"textarea":ht(n),Bh(n);break;case"option":u.value!=null&&n.setAttribute("value",""+de(u.value));break;case"select":n.multiple=!!u.multiple,p=u.value,p!=null?Li(n,!!u.multiple,p,!1):u.defaultValue!=null&&Li(n,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=va)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Rt(s),null;case 6:if(n&&s.stateNode!=null)Xp(n,s,n.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(t(166));if(a=fi(lo.current),fi(Gn.current),Aa(s)){if(u=s.stateNode,a=s.memoizedProps,u[jn]=s,(p=u.nodeValue!==a)&&(n=rn,n!==null))switch(n.tag){case 3:ma(u.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ma(u.nodeValue,a,(n.mode&1)!==0)}p&&(s.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[jn]=s,s.stateNode=u}return Rt(s),null;case 13:if(it(lt),u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ot&&sn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)tp(),Ki(),s.flags|=98560,p=!1;else if(p=Aa(s),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[jn]=s}else Ki(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rt(s),p=!1}else Cn!==null&&(zc(Cn),Cn=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(u=u!==null,u!==(n!==null&&n.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(lt.current&1)!==0?wt===0&&(wt=3):jc())),s.updateQueue!==null&&(s.flags|=4),Rt(s),null);case 4:return Xi(),Ic(n,s),n===null&&to(s.stateNode.containerInfo),Rt(s),null;case 10:return nc(s.type._context),Rt(s),null;case 17:return Gt(s.type)&&_a(),Rt(s),null;case 19:if(it(lt),p=s.memoizedState,p===null)return Rt(s),null;if(u=(s.flags&128)!==0,y=p.rendering,y===null)if(u)po(p,!1);else{if(wt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=Da(n),y!==null){for(s.flags|=128,po(p,!1),u=y.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=a,a=s.child;a!==null;)p=a,n=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,n=y.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return tt(lt,lt.current&1|2),s.child}n=n.sibling}p.tail!==null&&pt()>ns&&(s.flags|=128,u=!0,po(p,!1),s.lanes=4194304)}else{if(!u)if(n=Da(y),n!==null){if(s.flags|=128,u=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),po(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!ot)return Rt(s),null}else 2*pt()-p.renderingStartTime>ns&&a!==1073741824&&(s.flags|=128,u=!0,po(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(a=p.last,a!==null?a.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=pt(),s.sibling=null,a=lt.current,tt(lt,u?a&1|2:a&1),s):(Rt(s),null);case 22:case 23:return $c(),u=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(on&1073741824)!==0&&(Rt(s),s.subtreeFlags&6&&(s.flags|=8192)):Rt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Gw(n,s){switch(Qu(s),s.tag){case 1:return Gt(s.type)&&_a(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Xi(),it(jt),it(kt),uc(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return ac(s),null;case 13:if(it(lt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Ki()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return it(lt),null;case 4:return Xi(),null;case 10:return nc(s.type._context),null;case 22:case 23:return $c(),null;case 24:return null;default:return null}}var Ua=!1,Lt=!1,Vw=typeof WeakSet=="function"?WeakSet:Set,he=null;function es(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){ft(n,s,u)}else a.current=null}function Cc(n,s,a){try{a()}catch(u){ft(n,s,u)}}var Jp=!1;function Ww(n,s){if($u=oa,n=Df(),Lu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var y=0,_=-1,x=-1,P=0,q=0,X=n,H=null;t:for(;;){for(var le;X!==a||h!==0&&X.nodeType!==3||(_=y+h),X!==p||u!==0&&X.nodeType!==3||(x=y+u),X.nodeType===3&&(y+=X.nodeValue.length),(le=X.firstChild)!==null;)H=X,X=le;for(;;){if(X===n)break t;if(H===a&&++P===h&&(_=y),H===p&&++q===u&&(x=y),(le=X.nextSibling)!==null)break;X=H,H=X.parentNode}X=le}a=_===-1||x===-1?null:{start:_,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(ju={focusedElem:n,selectionRange:a},oa=!1,he=s;he!==null;)if(s=he,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,he=n;else for(;he!==null;){s=he;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,gt=pe.memoizedState,D=s.stateNode,I=D.getSnapshotBeforeUpdate(s.elementType===s.type?ge:kn(s.type,ge),gt);D.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var O=s.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){ft(s,s.return,ee)}if(n=s.sibling,n!==null){n.return=s.return,he=n;break}he=s.return}return pe=Jp,Jp=!1,pe}function go(n,s,a){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&n)===n){var p=h.destroy;h.destroy=void 0,p!==void 0&&Cc(s,a,p)}h=h.next}while(h!==u)}}function $a(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var u=a.create;a.destroy=u()}a=a.next}while(a!==s)}}function kc(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function eg(n){var s=n.alternate;s!==null&&(n.alternate=null,eg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[jn],delete s[ro],delete s[Hu],delete s[Tw],delete s[Iw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function tg(n){return n.tag===5||n.tag===3||n.tag===4}function ng(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||tg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dc(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=va));else if(u!==4&&(n=n.child,n!==null))for(Dc(n,s,a),n=n.sibling;n!==null;)Dc(n,s,a),n=n.sibling}function Rc(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(u!==4&&(n=n.child,n!==null))for(Rc(n,s,a),n=n.sibling;n!==null;)Rc(n,s,a),n=n.sibling}var Tt=null,Dn=!1;function $r(n,s,a){for(a=a.child;a!==null;)rg(n,s,a),a=a.sibling}function rg(n,s,a){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(ea,a)}catch{}switch(a.tag){case 5:Lt||es(a,s);case 6:var u=Tt,h=Dn;Tt=null,$r(n,s,a),Tt=u,Dn=h,Tt!==null&&(Dn?(n=Tt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Tt.removeChild(a.stateNode));break;case 18:Tt!==null&&(Dn?(n=Tt,a=a.stateNode,n.nodeType===8?Wu(n.parentNode,a):n.nodeType===1&&Wu(n,a),Hs(n)):Wu(Tt,a.stateNode));break;case 4:u=Tt,h=Dn,Tt=a.stateNode.containerInfo,Dn=!0,$r(n,s,a),Tt=u,Dn=h;break;case 0:case 11:case 14:case 15:if(!Lt&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&Cc(a,s,y),h=h.next}while(h!==u)}$r(n,s,a);break;case 1:if(!Lt&&(es(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(_){ft(a,s,_)}$r(n,s,a);break;case 21:$r(n,s,a);break;case 22:a.mode&1?(Lt=(u=Lt)||a.memoizedState!==null,$r(n,s,a),Lt=u):$r(n,s,a);break;default:$r(n,s,a)}}function ig(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Vw),s.forEach(function(u){var h=e_.bind(null,n,u);a.has(u)||(a.add(u),u.then(h,h))})}}function Rn(n,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];try{var p=n,y=s,_=y;e:for(;_!==null;){switch(_.tag){case 5:Tt=_.stateNode,Dn=!1;break e;case 3:Tt=_.stateNode.containerInfo,Dn=!0;break e;case 4:Tt=_.stateNode.containerInfo,Dn=!0;break e}_=_.return}if(Tt===null)throw Error(t(160));rg(p,y,h),Tt=null,Dn=!1;var x=h.alternate;x!==null&&(x.return=null),h.return=null}catch(P){ft(h,s,P)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)sg(s,n),s=s.sibling}function sg(n,s){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Rn(s,n),Wn(n),u&4){try{go(3,n,n.return),$a(3,n)}catch(ge){ft(n,n.return,ge)}try{go(5,n,n.return)}catch(ge){ft(n,n.return,ge)}}break;case 1:Rn(s,n),Wn(n),u&512&&a!==null&&es(a,a.return);break;case 5:if(Rn(s,n),Wn(n),u&512&&a!==null&&es(a,a.return),n.flags&32){var h=n.stateNode;try{Os(h,"")}catch(ge){ft(n,n.return,ge)}}if(u&4&&(h=n.stateNode,h!=null)){var p=n.memoizedProps,y=a!==null?a.memoizedProps:p,_=n.type,x=n.updateQueue;if(n.updateQueue=null,x!==null)try{_==="input"&&p.type==="radio"&&p.name!=null&&Ri(h,p),uu(_,y);var P=uu(_,p);for(y=0;y<x.length;y+=2){var q=x[y],X=x[y+1];q==="style"?Uh(h,X):q==="dangerouslySetInnerHTML"?Ph(h,X):q==="children"?Os(h,X):V(h,q,X,P)}switch(_){case"input":iu(h,p);break;case"textarea":Oh(h,p);break;case"select":var H=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var le=p.value;le!=null?Li(h,!!p.multiple,le,!1):H!==!!p.multiple&&(p.defaultValue!=null?Li(h,!!p.multiple,p.defaultValue,!0):Li(h,!!p.multiple,p.multiple?[]:"",!1))}h[ro]=p}catch(ge){ft(n,n.return,ge)}}break;case 6:if(Rn(s,n),Wn(n),u&4){if(n.stateNode===null)throw Error(t(162));h=n.stateNode,p=n.memoizedProps;try{h.nodeValue=p}catch(ge){ft(n,n.return,ge)}}break;case 3:if(Rn(s,n),Wn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Hs(s.containerInfo)}catch(ge){ft(n,n.return,ge)}break;case 4:Rn(s,n),Wn(n);break;case 13:Rn(s,n),Wn(n),h=n.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Oc=pt())),u&4&&ig(n);break;case 22:if(q=a!==null&&a.memoizedState!==null,n.mode&1?(Lt=(P=Lt)||q,Rn(s,n),Lt=P):Rn(s,n),Wn(n),u&8192){if(P=n.memoizedState!==null,(n.stateNode.isHidden=P)&&!q&&(n.mode&1)!==0)for(he=n,q=n.child;q!==null;){for(X=he=q;he!==null;){switch(H=he,le=H.child,H.tag){case 0:case 11:case 14:case 15:go(4,H,H.return);break;case 1:es(H,H.return);var pe=H.stateNode;if(typeof pe.componentWillUnmount=="function"){u=H,a=H.return;try{s=u,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(ge){ft(u,a,ge)}}break;case 5:es(H,H.return);break;case 22:if(H.memoizedState!==null){lg(X);continue}}le!==null?(le.return=H,he=le):lg(X)}q=q.sibling}e:for(q=null,X=n;;){if(X.tag===5){if(q===null){q=X;try{h=X.stateNode,P?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(_=X.stateNode,x=X.memoizedProps.style,y=x!=null&&x.hasOwnProperty("display")?x.display:null,_.style.display=zh("display",y))}catch(ge){ft(n,n.return,ge)}}}else if(X.tag===6){if(q===null)try{X.stateNode.nodeValue=P?"":X.memoizedProps}catch(ge){ft(n,n.return,ge)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;q===X&&(q=null),X=X.return}q===X&&(q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Rn(s,n),Wn(n),u&4&&ig(n);break;case 21:break;default:Rn(s,n),Wn(n)}}function Wn(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(tg(a)){var u=a;break e}a=a.return}throw Error(t(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Os(h,""),u.flags&=-33);var p=ng(n);Rc(n,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,_=ng(n);Dc(n,_,y);break;default:throw Error(t(161))}}catch(x){ft(n,n.return,x)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Hw(n,s,a){he=n,og(n)}function og(n,s,a){for(var u=(n.mode&1)!==0;he!==null;){var h=he,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||Ua;if(!y){var _=h.alternate,x=_!==null&&_.memoizedState!==null||Lt;_=Ua;var P=Lt;if(Ua=y,(Lt=x)&&!P)for(he=h;he!==null;)y=he,x=y.child,y.tag===22&&y.memoizedState!==null?ug(h):x!==null?(x.return=y,he=x):ug(h);for(;p!==null;)he=p,og(p),p=p.sibling;he=h,Ua=_,Lt=P}ag(n)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,he=p):ag(n)}}function ag(n){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Lt||$a(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!Lt)if(a===null)u.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:kn(s.type,a.memoizedProps);u.componentDidUpdate(h,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&lp(s,p,u);break;case 3:var y=s.updateQueue;if(y!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}lp(s,y,a)}break;case 5:var _=s.stateNode;if(a===null&&s.flags&4){a=_;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var P=s.alternate;if(P!==null){var q=P.memoizedState;if(q!==null){var X=q.dehydrated;X!==null&&Hs(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||s.flags&512&&kc(s)}catch(H){ft(s,s.return,H)}}if(s===n){he=null;break}if(a=s.sibling,a!==null){a.return=s.return,he=a;break}he=s.return}}function lg(n){for(;he!==null;){var s=he;if(s===n){he=null;break}var a=s.sibling;if(a!==null){a.return=s.return,he=a;break}he=s.return}}function ug(n){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{$a(4,s)}catch(x){ft(s,a,x)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var h=s.return;try{u.componentDidMount()}catch(x){ft(s,h,x)}}var p=s.return;try{kc(s)}catch(x){ft(s,p,x)}break;case 5:var y=s.return;try{kc(s)}catch(x){ft(s,y,x)}}}catch(x){ft(s,s.return,x)}if(s===n){he=null;break}var _=s.sibling;if(_!==null){_.return=s.return,he=_;break}he=s.return}}var Yw=Math.ceil,ja=k.ReactCurrentDispatcher,Lc=k.ReactCurrentOwner,yn=k.ReactCurrentBatchConfig,Ue=0,At=null,yt=null,It=0,on=0,ts=Br(0),wt=0,yo=null,gi=0,Ga=0,Fc=0,mo=null,Wt=null,Oc=0,ns=1/0,fr=null,Va=!1,Bc=null,jr=null,Wa=!1,Gr=null,Ha=0,vo=0,Mc=null,Ya=-1,Ka=0;function Mt(){return(Ue&6)!==0?pt():Ya!==-1?Ya:Ya=pt()}function Vr(n){return(n.mode&1)===0?1:(Ue&2)!==0&&It!==0?It&-It:kw.transition!==null?(Ka===0&&(Ka=tf()),Ka):(n=Qe,n!==0||(n=window.event,n=n===void 0?16:df(n.type)),n)}function Ln(n,s,a,u){if(50<vo)throw vo=0,Mc=null,Error(t(185));$s(n,a,u),((Ue&2)===0||n!==At)&&(n===At&&((Ue&2)===0&&(Ga|=a),wt===4&&Wr(n,It)),Ht(n,u),a===1&&Ue===0&&(s.mode&1)===0&&(ns=pt()+500,Sa&&Pr()))}function Ht(n,s){var a=n.callbackNode;k0(n,s);var u=ra(n,n===At?It:0);if(u===0)a!==null&&Xh(a),n.callbackNode=null,n.callbackPriority=0;else if(s=u&-u,n.callbackPriority!==s){if(a!=null&&Xh(a),s===1)n.tag===0?Cw(dg.bind(null,n)):Qf(dg.bind(null,n)),Aw(function(){(Ue&6)===0&&Pr()}),a=null;else{switch(nf(u)){case 1:a=yu;break;case 4:a=Jh;break;case 16:a=Jo;break;case 536870912:a=ef;break;default:a=Jo}a=wg(a,cg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function cg(n,s){if(Ya=-1,Ka=0,(Ue&6)!==0)throw Error(t(327));var a=n.callbackNode;if(rs()&&n.callbackNode!==a)return null;var u=ra(n,n===At?It:0);if(u===0)return null;if((u&30)!==0||(u&n.expiredLanes)!==0||s)s=qa(n,u);else{s=u;var h=Ue;Ue|=2;var p=fg();(At!==n||It!==s)&&(fr=null,ns=pt()+500,mi(n,s));do try{Qw();break}catch(_){hg(n,_)}while(!0);tc(),ja.current=p,Ue=h,yt!==null?s=0:(At=null,It=0,s=wt)}if(s!==0){if(s===2&&(h=mu(n),h!==0&&(u=h,s=Pc(n,h))),s===1)throw a=yo,mi(n,0),Wr(n,u),Ht(n,pt()),a;if(s===6)Wr(n,u);else{if(h=n.current.alternate,(u&30)===0&&!Kw(h)&&(s=qa(n,u),s===2&&(p=mu(n),p!==0&&(u=p,s=Pc(n,p))),s===1))throw a=yo,mi(n,0),Wr(n,u),Ht(n,pt()),a;switch(n.finishedWork=h,n.finishedLanes=u,s){case 0:case 1:throw Error(t(345));case 2:vi(n,Wt,fr);break;case 3:if(Wr(n,u),(u&130023424)===u&&(s=Oc+500-pt(),10<s)){if(ra(n,0)!==0)break;if(h=n.suspendedLanes,(h&u)!==u){Mt(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=Vu(vi.bind(null,n,Wt,fr),s);break}vi(n,Wt,fr);break;case 4:if(Wr(n,u),(u&4194240)===u)break;for(s=n.eventTimes,h=-1;0<u;){var y=31-Tn(u);p=1<<y,y=s[y],y>h&&(h=y),u&=~p}if(u=h,u=pt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Yw(u/1960))-u,10<u){n.timeoutHandle=Vu(vi.bind(null,n,Wt,fr),u);break}vi(n,Wt,fr);break;case 5:vi(n,Wt,fr);break;default:throw Error(t(329))}}}return Ht(n,pt()),n.callbackNode===a?cg.bind(null,n):null}function Pc(n,s){var a=mo;return n.current.memoizedState.isDehydrated&&(mi(n,s).flags|=256),n=qa(n,s),n!==2&&(s=Wt,Wt=a,s!==null&&zc(s)),n}function zc(n){Wt===null?Wt=n:Wt.push.apply(Wt,n)}function Kw(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var h=a[u],p=h.getSnapshot;h=h.value;try{if(!In(p(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wr(n,s){for(s&=~Fc,s&=~Ga,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-Tn(s),u=1<<a;n[a]=-1,s&=~u}}function dg(n){if((Ue&6)!==0)throw Error(t(327));rs();var s=ra(n,0);if((s&1)===0)return Ht(n,pt()),null;var a=qa(n,s);if(n.tag!==0&&a===2){var u=mu(n);u!==0&&(s=u,a=Pc(n,u))}if(a===1)throw a=yo,mi(n,0),Wr(n,s),Ht(n,pt()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,vi(n,Wt,fr),Ht(n,pt()),null}function Uc(n,s){var a=Ue;Ue|=1;try{return n(s)}finally{Ue=a,Ue===0&&(ns=pt()+500,Sa&&Pr())}}function yi(n){Gr!==null&&Gr.tag===0&&(Ue&6)===0&&rs();var s=Ue;Ue|=1;var a=yn.transition,u=Qe;try{if(yn.transition=null,Qe=1,n)return n()}finally{Qe=u,yn.transition=a,Ue=s,(Ue&6)===0&&Pr()}}function $c(){on=ts.current,it(ts)}function mi(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,xw(a)),yt!==null)for(a=yt.return;a!==null;){var u=a;switch(Qu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&_a();break;case 3:Xi(),it(jt),it(kt),uc();break;case 5:ac(u);break;case 4:Xi();break;case 13:it(lt);break;case 19:it(lt);break;case 10:nc(u.type._context);break;case 22:case 23:$c()}a=a.return}if(At=n,yt=n=Hr(n.current,null),It=on=s,wt=0,yo=null,Fc=Ga=gi=0,Wt=mo=null,hi!==null){for(s=0;s<hi.length;s++)if(a=hi[s],u=a.interleaved,u!==null){a.interleaved=null;var h=u.next,p=a.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}a.pending=u}hi=null}return n}function hg(n,s){do{var a=yt;try{if(tc(),Ra.current=Ba,La){for(var u=ut.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}La=!1}if(pi=0,xt=vt=ut=null,uo=!1,co=0,Lc.current=null,a===null||a.return===null){wt=1,yo=s,yt=null;break}e:{var p=n,y=a.return,_=a,x=s;if(s=It,_.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var P=x,q=_,X=q.tag;if((q.mode&1)===0&&(X===0||X===11||X===15)){var H=q.alternate;H?(q.updateQueue=H.updateQueue,q.memoizedState=H.memoizedState,q.lanes=H.lanes):(q.updateQueue=null,q.memoizedState=null)}var le=Mp(y);if(le!==null){le.flags&=-257,Pp(le,y,_,p,s),le.mode&1&&Bp(p,P,s),s=le,x=P;var pe=s.updateQueue;if(pe===null){var ge=new Set;ge.add(x),s.updateQueue=ge}else pe.add(x);break e}else{if((s&1)===0){Bp(p,P,s),jc();break e}x=Error(t(426))}}else if(ot&&_.mode&1){var gt=Mp(y);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Pp(gt,y,_,p,s),Ju(Ji(x,_));break e}}p=x=Ji(x,_),wt!==4&&(wt=2),mo===null?mo=[p]:mo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var D=Fp(p,x,s);ap(p,D);break e;case 1:_=x;var I=p.type,O=p.stateNode;if((p.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(jr===null||!jr.has(O)))){p.flags|=65536,s&=-s,p.lanes|=s;var ee=Op(p,_,s);ap(p,ee);break e}}p=p.return}while(p!==null)}gg(a)}catch(me){s=me,yt===a&&a!==null&&(yt=a=a.return);continue}break}while(!0)}function fg(){var n=ja.current;return ja.current=Ba,n===null?Ba:n}function jc(){(wt===0||wt===3||wt===2)&&(wt=4),At===null||(gi&268435455)===0&&(Ga&268435455)===0||Wr(At,It)}function qa(n,s){var a=Ue;Ue|=2;var u=fg();(At!==n||It!==s)&&(fr=null,mi(n,s));do try{qw();break}catch(h){hg(n,h)}while(!0);if(tc(),Ue=a,ja.current=u,yt!==null)throw Error(t(261));return At=null,It=0,wt}function qw(){for(;yt!==null;)pg(yt)}function Qw(){for(;yt!==null&&!b0();)pg(yt)}function pg(n){var s=vg(n.alternate,n,on);n.memoizedProps=n.pendingProps,s===null?gg(n):yt=s,Lc.current=null}function gg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=jw(a,s,on),a!==null){yt=a;return}}else{if(a=Gw(a,s),a!==null){a.flags&=32767,yt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wt=6,yt=null;return}}if(s=s.sibling,s!==null){yt=s;return}yt=s=n}while(s!==null);wt===0&&(wt=5)}function vi(n,s,a){var u=Qe,h=yn.transition;try{yn.transition=null,Qe=1,Zw(n,s,a,u)}finally{yn.transition=h,Qe=u}return null}function Zw(n,s,a,u){do rs();while(Gr!==null);if((Ue&6)!==0)throw Error(t(327));a=n.finishedWork;var h=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(D0(n,p),n===At&&(yt=At=null,It=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Wa||(Wa=!0,wg(Jo,function(){return rs(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=yn.transition,yn.transition=null;var y=Qe;Qe=1;var _=Ue;Ue|=4,Lc.current=null,Ww(n,a),sg(a,n),mw(ju),oa=!!$u,ju=$u=null,n.current=a,Hw(a),S0(),Ue=_,Qe=y,yn.transition=p}else n.current=a;if(Wa&&(Wa=!1,Gr=n,Ha=h),p=n.pendingLanes,p===0&&(jr=null),A0(a.stateNode),Ht(n,pt()),s!==null)for(u=n.onRecoverableError,a=0;a<s.length;a++)h=s[a],u(h.value,{componentStack:h.stack,digest:h.digest});if(Va)throw Va=!1,n=Bc,Bc=null,n;return(Ha&1)!==0&&n.tag!==0&&rs(),p=n.pendingLanes,(p&1)!==0?n===Mc?vo++:(vo=0,Mc=n):vo=0,Pr(),null}function rs(){if(Gr!==null){var n=nf(Ha),s=yn.transition,a=Qe;try{if(yn.transition=null,Qe=16>n?16:n,Gr===null)var u=!1;else{if(n=Gr,Gr=null,Ha=0,(Ue&6)!==0)throw Error(t(331));var h=Ue;for(Ue|=4,he=n.current;he!==null;){var p=he,y=p.child;if((he.flags&16)!==0){var _=p.deletions;if(_!==null){for(var x=0;x<_.length;x++){var P=_[x];for(he=P;he!==null;){var q=he;switch(q.tag){case 0:case 11:case 15:go(8,q,p)}var X=q.child;if(X!==null)X.return=q,he=X;else for(;he!==null;){q=he;var H=q.sibling,le=q.return;if(eg(q),q===P){he=null;break}if(H!==null){H.return=le,he=H;break}he=le}}}var pe=p.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var gt=ge.sibling;ge.sibling=null,ge=gt}while(ge!==null)}}he=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,he=y;else e:for(;he!==null;){if(p=he,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:go(9,p,p.return)}var D=p.sibling;if(D!==null){D.return=p.return,he=D;break e}he=p.return}}var I=n.current;for(he=I;he!==null;){y=he;var O=y.child;if((y.subtreeFlags&2064)!==0&&O!==null)O.return=y,he=O;else e:for(y=I;he!==null;){if(_=he,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:$a(9,_)}}catch(me){ft(_,_.return,me)}if(_===y){he=null;break e}var ee=_.sibling;if(ee!==null){ee.return=_.return,he=ee;break e}he=_.return}}if(Ue=h,Pr(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(ea,n)}catch{}u=!0}return u}finally{Qe=a,yn.transition=s}}return!1}function yg(n,s,a){s=Ji(a,s),s=Fp(n,s,1),n=Ur(n,s,1),s=Mt(),n!==null&&($s(n,1,s),Ht(n,s))}function ft(n,s,a){if(n.tag===3)yg(n,n,a);else for(;s!==null;){if(s.tag===3){yg(s,n,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(jr===null||!jr.has(u))){n=Ji(a,n),n=Op(s,n,1),s=Ur(s,n,1),n=Mt(),s!==null&&($s(s,1,n),Ht(s,n));break}}s=s.return}}function Xw(n,s,a){var u=n.pingCache;u!==null&&u.delete(s),s=Mt(),n.pingedLanes|=n.suspendedLanes&a,At===n&&(It&a)===a&&(wt===4||wt===3&&(It&130023424)===It&&500>pt()-Oc?mi(n,0):Fc|=a),Ht(n,s)}function mg(n,s){s===0&&((n.mode&1)===0?s=1:(s=na,na<<=1,(na&130023424)===0&&(na=4194304)));var a=Mt();n=cr(n,s),n!==null&&($s(n,s,a),Ht(n,a))}function Jw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),mg(n,a)}function e_(n,s){var a=0;switch(n.tag){case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=n.stateNode;break;default:throw Error(t(314))}u!==null&&u.delete(s),mg(n,a)}var vg;vg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||jt.current)Vt=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Vt=!1,$w(n,s,a);Vt=(n.flags&131072)!==0}else Vt=!1,ot&&(s.flags&1048576)!==0&&Zf(s,xa,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;za(n,s),n=s.pendingProps;var h=Wi(s,kt.current);Zi(s,a),h=hc(null,s,u,n,h,a);var p=fc();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Gt(u)?(p=!0,ba(s)):p=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,sc(s),h.updater=Ma,s.stateNode=h,h._reactInternals=s,wc(s,u,n,a),s=Ec(null,s,u,!0,p,a)):(s.tag=0,ot&&p&&qu(s),Bt(null,s,h,a),s=s.child),s;case 16:u=s.elementType;e:{switch(za(n,s),n=s.pendingProps,h=u._init,u=h(u._payload),s.type=u,h=s.tag=n_(u),n=kn(u,n),h){case 0:s=Sc(null,s,u,n,a);break e;case 1:s=Vp(null,s,u,n,a);break e;case 11:s=zp(null,s,u,n,a);break e;case 14:s=Up(null,s,u,kn(u.type,n),a);break e}throw Error(t(306,u,""))}return s;case 0:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:kn(u,h),Sc(n,s,u,h,a);case 1:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:kn(u,h),Vp(n,s,u,h,a);case 3:e:{if(Wp(s),n===null)throw Error(t(387));u=s.pendingProps,p=s.memoizedState,h=p.element,op(n,s),ka(s,u,null,a);var y=s.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){h=Ji(Error(t(423)),s),s=Hp(n,s,u,a,h);break e}else if(u!==h){h=Ji(Error(t(424)),s),s=Hp(n,s,u,a,h);break e}else for(sn=Or(s.stateNode.containerInfo.firstChild),rn=s,ot=!0,Cn=null,a=ip(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ki(),u===h){s=hr(n,s,a);break e}Bt(n,s,u,a)}s=s.child}return s;case 5:return up(s),n===null&&Xu(s),u=s.type,h=s.pendingProps,p=n!==null?n.memoizedProps:null,y=h.children,Gu(u,h)?y=null:p!==null&&Gu(u,p)&&(s.flags|=32),Gp(n,s),Bt(n,s,y,a),s.child;case 6:return n===null&&Xu(s),null;case 13:return Yp(n,s,a);case 4:return oc(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=qi(s,null,u,a):Bt(n,s,u,a),s.child;case 11:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:kn(u,h),zp(n,s,u,h,a);case 7:return Bt(n,s,s.pendingProps,a),s.child;case 8:return Bt(n,s,s.pendingProps.children,a),s.child;case 12:return Bt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(u=s.type._context,h=s.pendingProps,p=s.memoizedProps,y=h.value,tt(Ta,u._currentValue),u._currentValue=y,p!==null)if(In(p.value,y)){if(p.children===h.children&&!jt.current){s=hr(n,s,a);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var _=p.dependencies;if(_!==null){y=p.child;for(var x=_.firstContext;x!==null;){if(x.context===u){if(p.tag===1){x=dr(-1,a&-a),x.tag=2;var P=p.updateQueue;if(P!==null){P=P.shared;var q=P.pending;q===null?x.next=x:(x.next=q.next,q.next=x),P.pending=x}}p.lanes|=a,x=p.alternate,x!==null&&(x.lanes|=a),rc(p.return,a,s),_.lanes|=a;break}x=x.next}}else if(p.tag===10)y=p.type===s.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(t(341));y.lanes|=a,_=y.alternate,_!==null&&(_.lanes|=a),rc(y,a,s),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===s){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Bt(n,s,h.children,a),s=s.child}return s;case 9:return h=s.type,u=s.pendingProps.children,Zi(s,a),h=pn(h),u=u(h),s.flags|=1,Bt(n,s,u,a),s.child;case 14:return u=s.type,h=kn(u,s.pendingProps),h=kn(u.type,h),Up(n,s,u,h,a);case 15:return $p(n,s,s.type,s.pendingProps,a);case 17:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:kn(u,h),za(n,s),s.tag=1,Gt(u)?(n=!0,ba(s)):n=!1,Zi(s,a),Rp(s,u,h),wc(s,u,h,a),Ec(null,s,u,!0,n,a);case 19:return qp(n,s,a);case 22:return jp(n,s,a)}throw Error(t(156,s.tag))};function wg(n,s){return Zh(n,s)}function t_(n,s,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,s,a,u){return new t_(n,s,a,u)}function Gc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function n_(n){if(typeof n=="function")return Gc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===L)return 11;if(n===te)return 14}return 2}function Hr(n,s){var a=n.alternate;return a===null?(a=mn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Qa(n,s,a,u,h,p){var y=2;if(u=n,typeof n=="function")Gc(n)&&(y=1);else if(typeof n=="string")y=5;else e:switch(n){case E:return wi(a.children,h,p,s);case R:y=8,h|=8;break;case B:return n=mn(12,a,s,h|2),n.elementType=B,n.lanes=p,n;case re:return n=mn(13,a,s,h),n.elementType=re,n.lanes=p,n;case ae:return n=mn(19,a,s,h),n.elementType=ae,n.lanes=p,n;case ve:return Za(a,h,p,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:y=10;break e;case z:y=9;break e;case L:y=11;break e;case te:y=14;break e;case ue:y=16,u=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=mn(y,a,s,h),s.elementType=n,s.type=u,s.lanes=p,s}function wi(n,s,a,u){return n=mn(7,n,u,s),n.lanes=a,n}function Za(n,s,a,u){return n=mn(22,n,u,s),n.elementType=ve,n.lanes=a,n.stateNode={isHidden:!1},n}function Vc(n,s,a){return n=mn(6,n,null,s),n.lanes=a,n}function Wc(n,s,a){return s=mn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function r_(n,s,a,u,h){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vu(0),this.expirationTimes=vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vu(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Hc(n,s,a,u,h,p,y,_,x){return n=new r_(n,s,a,_,x),s===1?(s=1,p===!0&&(s|=8)):s=0,p=mn(3,null,null,s),n.current=p,p.stateNode=n,p.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},sc(p),n}function i_(n,s,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:u==null?null:""+u,children:n,containerInfo:s,implementation:a}}function _g(n){if(!n)return Mr;n=n._reactInternals;e:{if(ai(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Gt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Gt(a))return Kf(n,a,s)}return s}function bg(n,s,a,u,h,p,y,_,x){return n=Hc(a,u,!0,n,h,p,y,_,x),n.context=_g(null),a=n.current,u=Mt(),h=Vr(a),p=dr(u,h),p.callback=s??null,Ur(a,p,h),n.current.lanes=h,$s(n,h,u),Ht(n,u),n}function Xa(n,s,a,u){var h=s.current,p=Mt(),y=Vr(h);return a=_g(a),s.context===null?s.context=a:s.pendingContext=a,s=dr(p,y),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=Ur(h,s,y),n!==null&&(Ln(n,h,y,p),Ca(n,h,y)),y}function Ja(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Sg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Yc(n,s){Sg(n,s),(n=n.alternate)&&Sg(n,s)}function s_(){return null}var Eg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Kc(n){this._internalRoot=n}el.prototype.render=Kc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Xa(n,s,null,null)},el.prototype.unmount=Kc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;yi(function(){Xa(null,n,null,null)}),s[or]=null}};function el(n){this._internalRoot=n}el.prototype.unstable_scheduleHydration=function(n){if(n){var s=of();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Rr.length&&s!==0&&s<Rr[a].priority;a++);Rr.splice(a,0,n),a===0&&uf(n)}};function qc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function tl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function xg(){}function o_(n,s,a,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var P=Ja(y);p.call(P)}}var y=bg(s,u,n,0,null,!1,!1,"",xg);return n._reactRootContainer=y,n[or]=y.current,to(n.nodeType===8?n.parentNode:n),yi(),y}for(;h=n.lastChild;)n.removeChild(h);if(typeof u=="function"){var _=u;u=function(){var P=Ja(x);_.call(P)}}var x=Hc(n,0,!1,null,null,!1,!1,"",xg);return n._reactRootContainer=x,n[or]=x.current,to(n.nodeType===8?n.parentNode:n),yi(function(){Xa(s,x,a,u)}),x}function nl(n,s,a,u,h){var p=a._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var _=h;h=function(){var x=Ja(y);_.call(x)}}Xa(s,y,n,h)}else y=o_(a,s,n,h,u);return Ja(y)}rf=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Us(s.pendingLanes);a!==0&&(wu(s,a|1),Ht(s,pt()),(Ue&6)===0&&(ns=pt()+500,Pr()))}break;case 13:yi(function(){var u=cr(n,1);if(u!==null){var h=Mt();Ln(u,n,1,h)}}),Yc(n,1)}},_u=function(n){if(n.tag===13){var s=cr(n,134217728);if(s!==null){var a=Mt();Ln(s,n,134217728,a)}Yc(n,134217728)}},sf=function(n){if(n.tag===13){var s=Vr(n),a=cr(n,s);if(a!==null){var u=Mt();Ln(a,n,s,u)}Yc(n,s)}},of=function(){return Qe},af=function(n,s){var a=Qe;try{return Qe=n,s()}finally{Qe=a}},hu=function(n,s,a){switch(s){case"input":if(iu(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==n&&u.form===n.form){var h=wa(u);if(!h)throw Error(t(90));$e(u),iu(u,h)}}}break;case"textarea":Oh(n,a);break;case"select":s=a.value,s!=null&&Li(n,!!a.multiple,s,!1)}},Vh=Uc,Wh=yi;var a_={usingClientEntryPoint:!1,Events:[io,Gi,wa,jh,Gh,Uc]},wo={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l_={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=qh(n),n===null?null:n.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||s_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{ea=rl.inject(l_),$n=rl}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a_,Yt.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(s))throw Error(t(200));return i_(n,s,null,a)},Yt.createRoot=function(n,s){if(!qc(n))throw Error(t(299));var a=!1,u="",h=Eg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Hc(n,1,!1,null,null,a,!1,u,h),n[or]=s.current,to(n.nodeType===8?n.parentNode:n),new Kc(s)},Yt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=qh(s),n=n===null?null:n.stateNode,n},Yt.flushSync=function(n){return yi(n)},Yt.hydrate=function(n,s,a){if(!tl(s))throw Error(t(200));return nl(null,n,s,!0,a)},Yt.hydrateRoot=function(n,s,a){if(!qc(n))throw Error(t(405));var u=a!=null&&a.hydratedSources||null,h=!1,p="",y=Eg;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),s=bg(s,null,n,1,a??null,h,!1,p,y),n[or]=s.current,to(n),u)for(n=0;n<u.length;n++)a=u[n],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new el(s)},Yt.render=function(n,s,a){if(!tl(s))throw Error(t(200));return nl(null,n,s,!1,a)},Yt.unmountComponentAtNode=function(n){if(!tl(n))throw Error(t(40));return n._reactRootContainer?(yi(function(){nl(null,null,n,!1,function(){n._reactRootContainer=null,n[or]=null})}),!0):!1},Yt.unstable_batchedUpdates=Uc,Yt.unstable_renderSubtreeIntoContainer=function(n,s,a,u){if(!tl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return nl(n,s,a,!1,u)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Rg;function y_(){if(Rg)return Xc.exports;Rg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xc.exports=g_(),Xc.exports}var Lg;function m_(){if(Lg)return il;Lg=1;var r=y_();return il.createRoot=r.createRoot,il.hydrateRoot=r.hydrateRoot,il}var v_=m_();function w_(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function ko(r){var e=w_(r,"string");return typeof e=="symbol"?e:e+""}function Ft(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Fg(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,ko(i.key),i)}}function Ot(r,e,t){return e&&Fg(r.prototype,e),t&&Fg(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function ws(r){return ws=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ws(r)}function Gy(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gy=function(){return!!r})()}function __(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function b_(r,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return __(r)}function An(r,e,t){return e=ws(e),b_(r,Gy()?Reflect.construct(e,t||[],ws(r).constructor):e.apply(r,t))}function kd(r,e){return kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},kd(r,e)}function Nn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&kd(r,e)}function S_(r){if(Array.isArray(r))return r}function E_(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i,o,l,c,d=[],f=!0,g=!1;try{if(l=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(i=l.call(t)).done)&&(d.push(i.value),d.length!==e);f=!0);}catch(m){g=!0,o=m}finally{try{if(!f&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(g)throw o}}return d}}function Dd(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=Array(e);t<e;t++)i[t]=r[t];return i}function Vy(r,e){if(r){if(typeof r=="string")return Dd(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Dd(r,e):void 0}}function x_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _s(r,e){return S_(r)||E_(r,e)||Vy(r,e)||x_()}var td={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"},Wy=new Int8Array(4),nd=new Int32Array(Wy.buffer,0,1),A_=new Float32Array(Wy.buffer,0,1),N_=/^\s*rgba?\s*\(/,T_=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function I_(r){var e=0,t=0,i=0,o=1;if(r[0]==="#")r.length===4?(e=parseInt(r.charAt(1)+r.charAt(1),16),t=parseInt(r.charAt(2)+r.charAt(2),16),i=parseInt(r.charAt(3)+r.charAt(3),16)):(e=parseInt(r.charAt(1)+r.charAt(2),16),t=parseInt(r.charAt(3)+r.charAt(4),16),i=parseInt(r.charAt(5)+r.charAt(6),16)),r.length===9&&(o=parseInt(r.charAt(7)+r.charAt(8),16)/255);else if(N_.test(r)){var l=r.match(T_);l&&(e=+l[1],t=+l[2],i=+l[3],l[4]&&(o=+l[4]))}return{r:e,g:t,b:i,a:o}}var fs={};for(var sl in td)fs[sl]=$o(td[sl]),fs[td[sl]]=fs[sl];function Hy(r,e,t,i,o){return nd[0]=i<<24|t<<16|e<<8|r,nd[0]=nd[0]&4278190079,A_[0]}function $o(r){if(r=r.toLowerCase(),typeof fs[r]<"u")return fs[r];var e=I_(r),t=e.r,i=e.g,o=e.b,l=e.a;l=l*255|0;var c=Hy(t,i,o,l);return fs[r]=c,c}var rd={};function Yy(r){if(typeof rd[r]<"u")return rd[r];var e=(r&16711680)>>>16,t=(r&65280)>>>8,i=r&255,o=255,l=Hy(e,t,i,o);return rd[r]=l,l}function Og(r,e,t,i){return t+(e<<8)+(r<<16)}function Bg(r,e,t,i,o,l){var c=Math.floor(t/l*o),d=Math.floor(r.drawingBufferHeight/l-i/l*o),f=new Uint8Array(4);r.bindFramebuffer(r.FRAMEBUFFER,e),r.readPixels(c,d,1,1,r.RGBA,r.UNSIGNED_BYTE,f);var g=_s(f,4),m=g[0],v=g[1],w=g[2],S=g[3];return[m,v,w,S]}function K(r,e,t){return(e=ko(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Mg(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,i)}return t}function ye(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mg(Object(t),!0).forEach(function(i){K(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Mg(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function C_(r,e){for(;!{}.hasOwnProperty.call(r,e)&&(r=ws(r))!==null;);return r}function Rd(){return Rd=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,t){var i=C_(r,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(arguments.length<3?r:t):o.value}},Rd.apply(null,arguments)}function Ky(r,e,t,i){var o=Rd(ws(r.prototype),e,t);return typeof o=="function"?function(l){return o.apply(t,l)}:o}function k_(r){return r.normalized?1:r.size}function id(r){var e=0;return r.forEach(function(t){return e+=k_(t)}),e}function qy(r,e,t){var i=r==="VERTEX"?e.VERTEX_SHADER:e.FRAGMENT_SHADER,o=e.createShader(i);if(o===null)throw new Error("loadShader: error while creating the shader");e.shaderSource(o,t),e.compileShader(o);var l=e.getShaderParameter(o,e.COMPILE_STATUS);if(!l){var c=e.getShaderInfoLog(o);throw e.deleteShader(o),new Error(`loadShader: error while compiling the shader:
`.concat(c,`
`).concat(t))}return o}function D_(r,e){return qy("VERTEX",r,e)}function R_(r,e){return qy("FRAGMENT",r,e)}function L_(r,e){var t=r.createProgram();if(t===null)throw new Error("loadProgram: error while creating the program.");var i,o;for(i=0,o=e.length;i<o;i++)r.attachShader(t,e[i]);r.linkProgram(t);var l=r.getProgramParameter(t,r.LINK_STATUS);if(!l)throw r.deleteProgram(t),new Error("loadProgram: error while linking the program.");return t}function Pg(r){var e=r.gl,t=r.buffer,i=r.program,o=r.vertexShader,l=r.fragmentShader;e.deleteShader(o),e.deleteShader(l),e.deleteProgram(i),e.deleteBuffer(t)}var zg=`#define PICKING_MODE
`,F_=K(K(K(K(K(K(K(K({},WebGL2RenderingContext.BOOL,1),WebGL2RenderingContext.BYTE,1),WebGL2RenderingContext.UNSIGNED_BYTE,1),WebGL2RenderingContext.SHORT,2),WebGL2RenderingContext.UNSIGNED_SHORT,2),WebGL2RenderingContext.INT,4),WebGL2RenderingContext.UNSIGNED_INT,4),WebGL2RenderingContext.FLOAT,4),Qy=(function(){function r(e,t,i){Ft(this,r),K(this,"array",new Float32Array),K(this,"constantArray",new Float32Array),K(this,"capacity",0),K(this,"verticesCount",0);var o=this.getDefinition();if(this.VERTICES=o.VERTICES,this.VERTEX_SHADER_SOURCE=o.VERTEX_SHADER_SOURCE,this.FRAGMENT_SHADER_SOURCE=o.FRAGMENT_SHADER_SOURCE,this.UNIFORMS=o.UNIFORMS,this.ATTRIBUTES=o.ATTRIBUTES,this.METHOD=o.METHOD,this.CONSTANT_ATTRIBUTES="CONSTANT_ATTRIBUTES"in o?o.CONSTANT_ATTRIBUTES:[],this.CONSTANT_DATA="CONSTANT_DATA"in o?o.CONSTANT_DATA:[],this.isInstanced="CONSTANT_ATTRIBUTES"in o,this.ATTRIBUTES_ITEMS_COUNT=id(this.ATTRIBUTES),this.STRIDE=this.VERTICES*this.ATTRIBUTES_ITEMS_COUNT,this.renderer=i,this.normalProgram=this.getProgramInfo("normal",e,o.VERTEX_SHADER_SOURCE,o.FRAGMENT_SHADER_SOURCE,null),this.pickProgram=t?this.getProgramInfo("pick",e,zg+o.VERTEX_SHADER_SOURCE,zg+o.FRAGMENT_SHADER_SOURCE,t):null,this.isInstanced){var l=id(this.CONSTANT_ATTRIBUTES);if(this.CONSTANT_DATA.length!==this.VERTICES)throw new Error("Program: error while getting constant data (expected ".concat(this.VERTICES," items, received ").concat(this.CONSTANT_DATA.length," instead)"));this.constantArray=new Float32Array(this.CONSTANT_DATA.length*l);for(var c=0;c<this.CONSTANT_DATA.length;c++){var d=this.CONSTANT_DATA[c];if(d.length!==l)throw new Error("Program: error while getting constant data (one vector has ".concat(d.length," items instead of ").concat(l,")"));for(var f=0;f<d.length;f++)this.constantArray[c*l+f]=d[f]}this.STRIDE=this.ATTRIBUTES_ITEMS_COUNT}}return Ot(r,[{key:"kill",value:function(){Pg(this.normalProgram),this.pickProgram&&(Pg(this.pickProgram),this.pickProgram=null)}},{key:"getProgramInfo",value:function(t,i,o,l,c){var d=this.getDefinition(),f=i.createBuffer();if(f===null)throw new Error("Program: error while creating the WebGL buffer.");var g=D_(i,o),m=R_(i,l),v=L_(i,[g,m]),w={};d.UNIFORMS.forEach(function(M){var U=i.getUniformLocation(v,M);U&&(w[M]=U)});var S={};d.ATTRIBUTES.forEach(function(M){S[M.name]=i.getAttribLocation(v,M.name)});var F;if("CONSTANT_ATTRIBUTES"in d&&(d.CONSTANT_ATTRIBUTES.forEach(function(M){S[M.name]=i.getAttribLocation(v,M.name)}),F=i.createBuffer(),F===null))throw new Error("Program: error while creating the WebGL constant buffer.");return{name:t,program:v,gl:i,frameBuffer:c,buffer:f,constantBuffer:F||{},uniformLocations:w,attributeLocations:S,isPicking:t==="pick",vertexShader:g,fragmentShader:m}}},{key:"bindProgram",value:function(t){var i=this,o=0,l=t.gl,c=t.buffer;this.isInstanced?(l.bindBuffer(l.ARRAY_BUFFER,t.constantBuffer),o=0,this.CONSTANT_ATTRIBUTES.forEach(function(d){return o+=i.bindAttribute(d,t,o,!1)}),l.bufferData(l.ARRAY_BUFFER,this.constantArray,l.STATIC_DRAW),l.bindBuffer(l.ARRAY_BUFFER,t.buffer),o=0,this.ATTRIBUTES.forEach(function(d){return o+=i.bindAttribute(d,t,o,!0)}),l.bufferData(l.ARRAY_BUFFER,this.array,l.DYNAMIC_DRAW)):(l.bindBuffer(l.ARRAY_BUFFER,c),o=0,this.ATTRIBUTES.forEach(function(d){return o+=i.bindAttribute(d,t,o)}),l.bufferData(l.ARRAY_BUFFER,this.array,l.DYNAMIC_DRAW)),l.bindBuffer(l.ARRAY_BUFFER,null)}},{key:"unbindProgram",value:function(t){var i=this;this.isInstanced?(this.CONSTANT_ATTRIBUTES.forEach(function(o){return i.unbindAttribute(o,t,!1)}),this.ATTRIBUTES.forEach(function(o){return i.unbindAttribute(o,t,!0)})):this.ATTRIBUTES.forEach(function(o){return i.unbindAttribute(o,t)})}},{key:"bindAttribute",value:function(t,i,o,l){var c=F_[t.type];if(typeof c!="number")throw new Error('Program.bind: yet unsupported attribute type "'.concat(t.type,'"'));var d=i.attributeLocations[t.name],f=i.gl;if(d!==-1){f.enableVertexAttribArray(d);var g=this.isInstanced?(l?this.ATTRIBUTES_ITEMS_COUNT:id(this.CONSTANT_ATTRIBUTES))*Float32Array.BYTES_PER_ELEMENT:this.ATTRIBUTES_ITEMS_COUNT*Float32Array.BYTES_PER_ELEMENT;if(f.vertexAttribPointer(d,t.size,t.type,t.normalized||!1,g,o),this.isInstanced&&l)if(f instanceof WebGL2RenderingContext)f.vertexAttribDivisor(d,1);else{var m=f.getExtension("ANGLE_instanced_arrays");m&&m.vertexAttribDivisorANGLE(d,1)}}return t.size*c}},{key:"unbindAttribute",value:function(t,i,o){var l=i.attributeLocations[t.name],c=i.gl;if(l!==-1&&(c.disableVertexAttribArray(l),this.isInstanced&&o))if(c instanceof WebGL2RenderingContext)c.vertexAttribDivisor(l,0);else{var d=c.getExtension("ANGLE_instanced_arrays");d&&d.vertexAttribDivisorANGLE(l,0)}}},{key:"reallocate",value:function(t){t!==this.capacity&&(this.capacity=t,this.verticesCount=this.VERTICES*t,this.array=new Float32Array(this.isInstanced?this.capacity*this.ATTRIBUTES_ITEMS_COUNT:this.verticesCount*this.ATTRIBUTES_ITEMS_COUNT))}},{key:"hasNothingToRender",value:function(){return this.verticesCount===0}},{key:"renderProgram",value:function(t,i){var o=i.gl,l=i.program;o.enable(o.BLEND),o.useProgram(l),this.setUniforms(t,i),this.drawWebGL(this.METHOD,i)}},{key:"render",value:function(t){this.hasNothingToRender()||(this.pickProgram&&(this.pickProgram.gl.viewport(0,0,t.width*t.pixelRatio/t.downSizingRatio,t.height*t.pixelRatio/t.downSizingRatio),this.bindProgram(this.pickProgram),this.renderProgram(ye(ye({},t),{},{pixelRatio:t.pixelRatio/t.downSizingRatio}),this.pickProgram),this.unbindProgram(this.pickProgram)),this.normalProgram.gl.viewport(0,0,t.width*t.pixelRatio,t.height*t.pixelRatio),this.bindProgram(this.normalProgram),this.renderProgram(t,this.normalProgram),this.unbindProgram(this.normalProgram))}},{key:"drawWebGL",value:function(t,i){var o=i.gl,l=i.frameBuffer;if(o.bindFramebuffer(o.FRAMEBUFFER,l),!this.isInstanced)o.drawArrays(t,0,this.verticesCount);else if(o instanceof WebGL2RenderingContext)o.drawArraysInstanced(t,0,this.VERTICES,this.capacity);else{var c=o.getExtension("ANGLE_instanced_arrays");c&&c.drawArraysInstancedANGLE(t,0,this.VERTICES,this.capacity)}}}])})(),O_=(function(r){function e(){return Ft(this,e),An(this,e,arguments)}return Nn(e,r),Ot(e,[{key:"kill",value:function(){Ky(e,"kill",this)([])}},{key:"process",value:function(i,o,l){var c=o*this.STRIDE;if(l.hidden){for(var d=c+this.STRIDE;c<d;c++)this.array[c]=0;return}return this.processVisibleItem(Yy(i),c,l)}}])})(Qy),Zd=(function(r){function e(){var t;Ft(this,e);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=An(this,e,[].concat(o)),K(t,"drawLabel",void 0),t}return Nn(e,r),Ot(e,[{key:"kill",value:function(){Ky(e,"kill",this)([])}},{key:"process",value:function(i,o,l,c,d){var f=o*this.STRIDE;if(d.hidden||l.hidden||c.hidden){for(var g=f+this.STRIDE;f<g;f++)this.array[f]=0;return}return this.processVisibleItem(Yy(i),f,l,c,d)}}])})(Qy);function B_(r,e){return(function(){function t(i,o,l){Ft(this,t),K(this,"drawLabel",e),this.programs=r.map(function(c){return new c(i,o,l)})}return Ot(t,[{key:"reallocate",value:function(o){this.programs.forEach(function(l){return l.reallocate(o)})}},{key:"process",value:function(o,l,c,d,f){this.programs.forEach(function(g){return g.process(o,l,c,d,f)})}},{key:"render",value:function(o){this.programs.forEach(function(l){return l.render(o)})}},{key:"kill",value:function(){this.programs.forEach(function(o){return o.kill()})}}])})()}function M_(r,e,t,i,o){var l=o.edgeLabelSize,c=o.edgeLabelFont,d=o.edgeLabelWeight,f=o.edgeLabelColor.attribute?e[o.edgeLabelColor.attribute]||o.edgeLabelColor.color||"#000":o.edgeLabelColor.color,g=e.label;if(g){r.fillStyle=f,r.font="".concat(d," ").concat(l,"px ").concat(c);var m=t.size,v=i.size,w=t.x,S=t.y,F=i.x,M=i.y,U=(w+F)/2,Y=(S+M)/2,W=F-w,V=M-S,k=Math.sqrt(W*W+V*V);if(!(k<m+v)){w+=W*m/k,S+=V*m/k,F-=W*v/k,M-=V*v/k,U=(w+F)/2,Y=(S+M)/2,W=F-w,V=M-S,k=Math.sqrt(W*W+V*V);var A=r.measureText(g).width;if(A>k){var $="";for(g=g+$,A=r.measureText(g).width;A>k&&g.length>1;)g=g.slice(0,-2)+$,A=r.measureText(g).width;if(g.length<4)return}var E;W>0?V>0?E=Math.acos(W/k):E=Math.asin(V/k):V>0?E=Math.acos(W/k)+Math.PI:E=Math.asin(W/k)+Math.PI/2,r.save(),r.translate(U,Y),r.rotate(E),r.fillText(g,-A/2,e.size/2+l),r.restore()}}}function Zy(r,e,t){if(e.label){var i=t.labelSize,o=t.labelFont,l=t.labelWeight,c=t.labelColor.attribute?e[t.labelColor.attribute]||t.labelColor.color||"#000":t.labelColor.color;r.fillStyle=c,r.font="".concat(l," ").concat(i,"px ").concat(o),r.fillText(e.label,e.x+e.size+3,e.y+i/3)}}function P_(r,e,t){var i=t.labelSize,o=t.labelFont,l=t.labelWeight;r.font="".concat(l," ").concat(i,"px ").concat(o),r.fillStyle="#FFF",r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=8,r.shadowColor="#000";var c=2;if(typeof e.label=="string"){var d=r.measureText(e.label).width,f=Math.round(d+5),g=Math.round(i+2*c),m=Math.max(e.size,i/2)+c,v=Math.asin(g/2/m),w=Math.sqrt(Math.abs(Math.pow(m,2)-Math.pow(g/2,2)));r.beginPath(),r.moveTo(e.x+w,e.y+g/2),r.lineTo(e.x+m+f,e.y+g/2),r.lineTo(e.x+m+f,e.y-g/2),r.lineTo(e.x+w,e.y-g/2),r.arc(e.x,e.y,m,v,-v),r.closePath(),r.fill()}else r.beginPath(),r.arc(e.x,e.y,e.size+c,0,Math.PI*2),r.closePath(),r.fill();r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=0,Zy(r,e,t)}var z_=`
precision highp float;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;

uniform float u_correctionRatio;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  float border = u_correctionRatio * 2.0;
  float dist = length(v_diffVector) - v_radius + border;

  // No antialiasing for picking mode:
  #ifdef PICKING_MODE
  if (dist > border)
    gl_FragColor = transparent;
  else
    gl_FragColor = v_color;

  #else
  float t = 0.0;
  if (dist > border)
    t = 1.0;
  else if (dist > 0.0)
    t = dist / border;

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,U_=z_,$_=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_position;
attribute float a_size;
attribute float a_angle;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;
varying float v_border;

const float bias = 255.0 / 254.0;

void main() {
  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;
  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));
  vec2 position = a_position + diffVector;
  gl_Position = vec4(
    (u_matrix * vec3(position, 1)).xy,
    0,
    1
  );

  v_diffVector = diffVector;
  v_radius = size / 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,j_=$_,Xy=WebGLRenderingContext,Ug=Xy.UNSIGNED_BYTE,sd=Xy.FLOAT,G_=["u_sizeRatio","u_correctionRatio","u_matrix"],Zl=(function(r){function e(){return Ft(this,e),An(this,e,arguments)}return Nn(e,r),Ot(e,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:j_,FRAGMENT_SHADER_SOURCE:U_,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:G_,ATTRIBUTES:[{name:"a_position",size:2,type:sd},{name:"a_size",size:1,type:sd},{name:"a_color",size:4,type:Ug,normalized:!0},{name:"a_id",size:4,type:Ug,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_angle",size:1,type:sd}],CONSTANT_DATA:[[e.ANGLE_1],[e.ANGLE_2],[e.ANGLE_3]]}}},{key:"processVisibleItem",value:function(i,o,l){var c=this.array,d=$o(l.color);c[o++]=l.x,c[o++]=l.y,c[o++]=l.size,c[o++]=d,c[o++]=i}},{key:"setUniforms",value:function(i,o){var l=o.gl,c=o.uniformLocations,d=c.u_sizeRatio,f=c.u_correctionRatio,g=c.u_matrix;l.uniform1f(f,i.correctionRatio),l.uniform1f(d,i.sizeRatio),l.uniformMatrix3fv(g,!1,i.matrix)}}])})(O_);K(Zl,"ANGLE_1",0);K(Zl,"ANGLE_2",2*Math.PI/3);K(Zl,"ANGLE_3",4*Math.PI/3);var V_=`
precision mediump float;

varying vec4 v_color;

void main(void) {
  gl_FragColor = v_color;
}
`,W_=V_,H_=`
attribute vec2 a_position;
attribute vec2 a_normal;
attribute float a_radius;
attribute vec3 a_barycentric;

#ifdef PICKING_MODE
attribute vec4 a_id;
#else
attribute vec4 a_color;
#endif

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_widenessToThicknessRatio;

varying vec4 v_color;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl and
  // edge.clamped.vert.glsl. Please read it to get better comments on what's
  // happening:
  float pixelsThickness = max(normalLength / u_sizeRatio, minThickness);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;
  float webGLArrowHeadThickness = webGLThickness * u_widenessToThicknessRatio;

  float da = a_barycentric.x;
  float db = a_barycentric.y;
  float dc = a_barycentric.z;

  vec2 delta = vec2(
      da * (webGLNodeRadius * unitNormal.y)
    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadThickness * unitNormal.x)
    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadThickness * unitNormal.x),

      da * (-webGLNodeRadius * unitNormal.x)
    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadThickness * unitNormal.y)
    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadThickness * unitNormal.y)
  );

  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;

  gl_Position = vec4(position, 0, 1);

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Y_=H_,Jy=WebGLRenderingContext,$g=Jy.UNSIGNED_BYTE,ol=Jy.FLOAT,K_=["u_matrix","u_sizeRatio","u_correctionRatio","u_minEdgeThickness","u_lengthToThicknessRatio","u_widenessToThicknessRatio"],em={extremity:"target",lengthToThicknessRatio:2.5,widenessToThicknessRatio:2};function tm(r){var e=ye(ye({},em),{});return(function(t){function i(){return Ft(this,i),An(this,i,arguments)}return Nn(i,t),Ot(i,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:Y_,FRAGMENT_SHADER_SOURCE:W_,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:K_,ATTRIBUTES:[{name:"a_position",size:2,type:ol},{name:"a_normal",size:2,type:ol},{name:"a_radius",size:1,type:ol},{name:"a_color",size:4,type:$g,normalized:!0},{name:"a_id",size:4,type:$g,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_barycentric",size:3,type:ol}],CONSTANT_DATA:[[1,0,0],[0,1,0],[0,0,1]]}}},{key:"processVisibleItem",value:function(l,c,d,f,g){if(e.extremity==="source"){var m=[f,d];d=m[0],f=m[1]}var v=g.size||1,w=f.size||1,S=d.x,F=d.y,M=f.x,U=f.y,Y=$o(g.color),W=M-S,V=U-F,k=W*W+V*V,A=0,$=0;k&&(k=1/Math.sqrt(k),A=-V*k*v,$=W*k*v);var E=this.array;E[c++]=M,E[c++]=U,E[c++]=-A,E[c++]=-$,E[c++]=w,E[c++]=Y,E[c++]=l}},{key:"setUniforms",value:function(l,c){var d=c.gl,f=c.uniformLocations,g=f.u_matrix,m=f.u_sizeRatio,v=f.u_correctionRatio,w=f.u_minEdgeThickness,S=f.u_lengthToThicknessRatio,F=f.u_widenessToThicknessRatio;d.uniformMatrix3fv(g,!1,l.matrix),d.uniform1f(m,l.sizeRatio),d.uniform1f(v,l.correctionRatio),d.uniform1f(w,l.minEdgeThickness),d.uniform1f(S,e.lengthToThicknessRatio),d.uniform1f(F,e.widenessToThicknessRatio)}}])})(Zd)}tm();var q_=`
precision mediump float;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  // We only handle antialiasing for normal mode:
  #ifdef PICKING_MODE
  gl_FragColor = v_color;
  #else
  float dist = length(v_normal) * v_thickness;

  float t = smoothstep(
    v_thickness - v_feather,
    v_thickness,
    dist
  );

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,nm=q_,Q_=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;
attribute float a_radius;
attribute float a_radiusCoef;

uniform mat3 u_matrix;
uniform float u_zoomRatio;
uniform float u_sizeRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float radius = a_radius * a_radiusCoef;
  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // These first computations are taken from edge.vert.glsl. Please read it to
  // get better comments on what's happening:
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here, we move the point to leave space for the arrow head:
  float direction = sign(radius);
  float webGLNodeRadius = direction * radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;

  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);

  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Z_=Q_,rm=WebGLRenderingContext,jg=rm.UNSIGNED_BYTE,_i=rm.FLOAT,X_=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness","u_lengthToThicknessRatio"],J_={lengthToThicknessRatio:em.lengthToThicknessRatio};function im(r){var e=ye(ye({},J_),{});return(function(t){function i(){return Ft(this,i),An(this,i,arguments)}return Nn(i,t),Ot(i,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:Z_,FRAGMENT_SHADER_SOURCE:nm,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:X_,ATTRIBUTES:[{name:"a_positionStart",size:2,type:_i},{name:"a_positionEnd",size:2,type:_i},{name:"a_normal",size:2,type:_i},{name:"a_color",size:4,type:jg,normalized:!0},{name:"a_id",size:4,type:jg,normalized:!0},{name:"a_radius",size:1,type:_i}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:_i},{name:"a_normalCoef",size:1,type:_i},{name:"a_radiusCoef",size:1,type:_i}],CONSTANT_DATA:[[0,1,0],[0,-1,0],[1,1,1],[1,1,1],[0,-1,0],[1,-1,-1]]}}},{key:"processVisibleItem",value:function(l,c,d,f,g){var m=g.size||1,v=d.x,w=d.y,S=f.x,F=f.y,M=$o(g.color),U=S-v,Y=F-w,W=f.size||1,V=U*U+Y*Y,k=0,A=0;V&&(V=1/Math.sqrt(V),k=-Y*V*m,A=U*V*m);var $=this.array;$[c++]=v,$[c++]=w,$[c++]=S,$[c++]=F,$[c++]=k,$[c++]=A,$[c++]=M,$[c++]=l,$[c++]=W}},{key:"setUniforms",value:function(l,c){var d=c.gl,f=c.uniformLocations,g=f.u_matrix,m=f.u_zoomRatio,v=f.u_feather,w=f.u_pixelRatio,S=f.u_correctionRatio,F=f.u_sizeRatio,M=f.u_minEdgeThickness,U=f.u_lengthToThicknessRatio;d.uniformMatrix3fv(g,!1,l.matrix),d.uniform1f(m,l.zoomRatio),d.uniform1f(F,l.sizeRatio),d.uniform1f(S,l.correctionRatio),d.uniform1f(w,l.pixelRatio),d.uniform1f(v,l.antiAliasingFeather),d.uniform1f(M,l.minEdgeThickness),d.uniform1f(U,e.lengthToThicknessRatio)}}])})(Zd)}im();function eb(r){return B_([im(),tm()])}var tb=eb(),nb=tb,rb=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_zoomRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // We require edges to be at least "minThickness" pixels thick *on screen*
  // (so we need to compensate the size ratio):
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);

  // Then, we need to retrieve the normalized thickness of the edge in the WebGL
  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction
  // ratio:
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness, 1)).xy, 0, 1);

  // For the fragment shader though, we need a thickness that takes the "magic"
  // correction ratio into account (as in webGLThickness), but so that the
  // antialiasing effect does not depend on the zoom level. So here's yet
  // another thickness version:
  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,ib=rb,sm=WebGLRenderingContext,Gg=sm.UNSIGNED_BYTE,bo=sm.FLOAT,sb=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness"],ob=(function(r){function e(){return Ft(this,e),An(this,e,arguments)}return Nn(e,r),Ot(e,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:ib,FRAGMENT_SHADER_SOURCE:nm,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:sb,ATTRIBUTES:[{name:"a_positionStart",size:2,type:bo},{name:"a_positionEnd",size:2,type:bo},{name:"a_normal",size:2,type:bo},{name:"a_color",size:4,type:Gg,normalized:!0},{name:"a_id",size:4,type:Gg,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:bo},{name:"a_normalCoef",size:1,type:bo}],CONSTANT_DATA:[[0,1],[0,-1],[1,1],[1,1],[0,-1],[1,-1]]}}},{key:"processVisibleItem",value:function(i,o,l,c,d){var f=d.size||1,g=l.x,m=l.y,v=c.x,w=c.y,S=$o(d.color),F=v-g,M=w-m,U=F*F+M*M,Y=0,W=0;U&&(U=1/Math.sqrt(U),Y=-M*U*f,W=F*U*f);var V=this.array;V[o++]=g,V[o++]=m,V[o++]=v,V[o++]=w,V[o++]=Y,V[o++]=W,V[o++]=S,V[o++]=i}},{key:"setUniforms",value:function(i,o){var l=o.gl,c=o.uniformLocations,d=c.u_matrix,f=c.u_zoomRatio,g=c.u_feather,m=c.u_pixelRatio,v=c.u_correctionRatio,w=c.u_sizeRatio,S=c.u_minEdgeThickness;l.uniformMatrix3fv(d,!1,i.matrix),l.uniform1f(f,i.zoomRatio),l.uniform1f(w,i.sizeRatio),l.uniform1f(v,i.correctionRatio),l.uniform1f(m,i.pixelRatio),l.uniform1f(g,i.antiAliasingFeather),l.uniform1f(S,i.minEdgeThickness)}}])})(Zd),al={exports:{}},Vg;function ab(){if(Vg)return al.exports;Vg=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(A,$,E){return Function.prototype.apply.call(A,$,E)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:t=function(A){return Object.getOwnPropertyNames(A)};function i(k){console&&console.warn&&console.warn(k)}var o=Number.isNaN||function(A){return A!==A};function l(){l.init.call(this)}al.exports=l,al.exports.once=Y,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function d(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(k){if(typeof k!="number"||k<0||o(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");c=k}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||o(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function f(k){return k._maxListeners===void 0?l.defaultMaxListeners:k._maxListeners}l.prototype.getMaxListeners=function(){return f(this)},l.prototype.emit=function(A){for(var $=[],E=1;E<arguments.length;E++)$.push(arguments[E]);var R=A==="error",B=this._events;if(B!==void 0)R=R&&B.error===void 0;else if(!R)return!1;if(R){var b;if($.length>0&&(b=$[0]),b instanceof Error)throw b;var z=new Error("Unhandled error."+(b?" ("+b.message+")":""));throw z.context=b,z}var L=B[A];if(L===void 0)return!1;if(typeof L=="function")e(L,this,$);else for(var re=L.length,ae=F(L,re),E=0;E<re;++E)e(ae[E],this,$);return!0};function g(k,A,$,E){var R,B,b;if(d($),B=k._events,B===void 0?(B=k._events=Object.create(null),k._eventsCount=0):(B.newListener!==void 0&&(k.emit("newListener",A,$.listener?$.listener:$),B=k._events),b=B[A]),b===void 0)b=B[A]=$,++k._eventsCount;else if(typeof b=="function"?b=B[A]=E?[$,b]:[b,$]:E?b.unshift($):b.push($),R=f(k),R>0&&b.length>R&&!b.warned){b.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+b.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=k,z.type=A,z.count=b.length,i(z)}return k}l.prototype.addListener=function(A,$){return g(this,A,$,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(A,$){return g(this,A,$,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(k,A,$){var E={fired:!1,wrapFn:void 0,target:k,type:A,listener:$},R=m.bind(E);return R.listener=$,E.wrapFn=R,R}l.prototype.once=function(A,$){return d($),this.on(A,v(this,A,$)),this},l.prototype.prependOnceListener=function(A,$){return d($),this.prependListener(A,v(this,A,$)),this},l.prototype.removeListener=function(A,$){var E,R,B,b,z;if(d($),R=this._events,R===void 0)return this;if(E=R[A],E===void 0)return this;if(E===$||E.listener===$)--this._eventsCount===0?this._events=Object.create(null):(delete R[A],R.removeListener&&this.emit("removeListener",A,E.listener||$));else if(typeof E!="function"){for(B=-1,b=E.length-1;b>=0;b--)if(E[b]===$||E[b].listener===$){z=E[b].listener,B=b;break}if(B<0)return this;B===0?E.shift():M(E,B),E.length===1&&(R[A]=E[0]),R.removeListener!==void 0&&this.emit("removeListener",A,z||$)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(A){var $,E,R;if(E=this._events,E===void 0)return this;if(E.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):E[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete E[A]),this;if(arguments.length===0){var B=Object.keys(E),b;for(R=0;R<B.length;++R)b=B[R],b!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if($=E[A],typeof $=="function")this.removeListener(A,$);else if($!==void 0)for(R=$.length-1;R>=0;R--)this.removeListener(A,$[R]);return this};function w(k,A,$){var E=k._events;if(E===void 0)return[];var R=E[A];return R===void 0?[]:typeof R=="function"?$?[R.listener||R]:[R]:$?U(R):F(R,R.length)}l.prototype.listeners=function(A){return w(this,A,!0)},l.prototype.rawListeners=function(A){return w(this,A,!1)},l.listenerCount=function(k,A){return typeof k.listenerCount=="function"?k.listenerCount(A):S.call(k,A)},l.prototype.listenerCount=S;function S(k){var A=this._events;if(A!==void 0){var $=A[k];if(typeof $=="function")return 1;if($!==void 0)return $.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function F(k,A){for(var $=new Array(A),E=0;E<A;++E)$[E]=k[E];return $}function M(k,A){for(;A+1<k.length;A++)k[A]=k[A+1];k.pop()}function U(k){for(var A=new Array(k.length),$=0;$<A.length;++$)A[$]=k[$].listener||k[$];return A}function Y(k,A){return new Promise(function($,E){function R(b){k.removeListener(A,B),E(b)}function B(){typeof k.removeListener=="function"&&k.removeListener("error",R),$([].slice.call(arguments))}V(k,A,B,{once:!0}),A!=="error"&&W(k,R,{once:!0})})}function W(k,A,$){typeof k.on=="function"&&V(k,"error",A,$)}function V(k,A,$,E){if(typeof k.on=="function")E.once?k.once(A,$):k.on(A,$);else if(typeof k.addEventListener=="function")k.addEventListener(A,function R(B){E.once&&k.removeEventListener(A,R),$(B)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return al.exports}var om=ab(),Xd=(function(r){function e(){var t;return Ft(this,e),t=An(this,e),t.rawEmitter=t,t}return Nn(e,r),Ot(e)})(om.EventEmitter),od,Wg;function jo(){return Wg||(Wg=1,od=function(e){return e!==null&&typeof e=="object"&&typeof e.addUndirectedEdgeWithKey=="function"&&typeof e.dropNode=="function"&&typeof e.multi=="boolean"}),od}var lb=jo();const ub=qd(lb);var cb=function(e){return e},db=function(e){return e*e},hb=function(e){return e*(2-e)},fb=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},pb=function(e){return e*e*e},gb=function(e){return--e*e*e+1},yb=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},mb={linear:cb,quadraticIn:db,quadraticOut:hb,quadraticInOut:fb,cubicIn:pb,cubicOut:gb,cubicInOut:yb},vb={easing:"quadraticInOut",duration:150};function On(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}function ll(r,e,t){return r[0]=e,r[4]=typeof t=="number"?t:e,r}function Hg(r,e){var t=Math.sin(e),i=Math.cos(e);return r[0]=i,r[1]=t,r[3]=-t,r[4]=i,r}function Yg(r,e,t){return r[6]=e,r[7]=t,r}function Kr(r,e){var t=r[0],i=r[1],o=r[2],l=r[3],c=r[4],d=r[5],f=r[6],g=r[7],m=r[8],v=e[0],w=e[1],S=e[2],F=e[3],M=e[4],U=e[5],Y=e[6],W=e[7],V=e[8];return r[0]=v*t+w*l+S*f,r[1]=v*i+w*c+S*g,r[2]=v*o+w*d+S*m,r[3]=F*t+M*l+U*f,r[4]=F*i+M*c+U*g,r[5]=F*o+M*d+U*m,r[6]=Y*t+W*l+V*f,r[7]=Y*i+W*c+V*g,r[8]=Y*o+W*d+V*m,r}function Ld(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=r[0],o=r[1],l=r[3],c=r[4],d=r[6],f=r[7],g=e.x,m=e.y;return{x:g*i+m*l+d*t,y:g*o+m*c+f*t}}function wb(r,e){var t=r.height/r.width,i=e.height/e.width;return t<1&&i>1||t>1&&i<1?1:Math.min(Math.max(i,1/i),Math.max(1/t,t))}function So(r,e,t,i,o){var l=r.angle,c=r.ratio,d=r.x,f=r.y,g=e.width,m=e.height,v=On(),w=Math.min(g,m)-2*i,S=wb(e,t);return o?(Kr(v,Yg(On(),d,f)),Kr(v,ll(On(),c)),Kr(v,Hg(On(),l)),Kr(v,ll(On(),g/w/2/S,m/w/2/S))):(Kr(v,ll(On(),2*(w/g)*S,2*(w/m)*S)),Kr(v,Hg(On(),-l)),Kr(v,ll(On(),1/c)),Kr(v,Yg(On(),-d,-f))),v}function _b(r,e,t){var i=Ld(r,{x:Math.cos(e.angle),y:Math.sin(e.angle)},0),o=i.x,l=i.y;return 1/Math.sqrt(Math.pow(o,2)+Math.pow(l,2))/t.width}function bb(r){if(!r.order)return{x:[0,1],y:[0,1]};var e=1/0,t=-1/0,i=1/0,o=-1/0;return r.forEachNode(function(l,c){var d=c.x,f=c.y;d<e&&(e=d),d>t&&(t=d),f<i&&(i=f),f>o&&(o=f)}),{x:[e,t],y:[i,o]}}function Sb(r){if(!ub(r))throw new Error("Sigma: invalid graph instance.");r.forEachNode(function(e,t){if(!Number.isFinite(t.x)||!Number.isFinite(t.y))throw new Error("Sigma: Coordinates of node ".concat(e," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}function Eb(r,e,t){var i=document.createElement(r);if(e)for(var o in e)i.style[o]=e[o];if(t)for(var l in t)i.setAttribute(l,t[l]);return i}function Kg(){return typeof window.devicePixelRatio<"u"?window.devicePixelRatio:1}function qg(r,e,t){return t.sort(function(i,o){var l=e(i)||0,c=e(o)||0;return l<c?-1:l>c?1:0})}function Qg(r){var e=_s(r.x,2),t=e[0],i=e[1],o=_s(r.y,2),l=o[0],c=o[1],d=Math.max(i-t,c-l),f=(i+t)/2,g=(c+l)/2;(d===0||Math.abs(d)===1/0||isNaN(d))&&(d=1),isNaN(f)&&(f=0),isNaN(g)&&(g=0);var m=function(w){return{x:.5+(w.x-f)/d,y:.5+(w.y-g)/d}};return m.applyTo=function(v){v.x=.5+(v.x-f)/d,v.y=.5+(v.y-g)/d},m.inverse=function(v){return{x:f+d*(v.x-.5),y:g+d*(v.y-.5)}},m.ratio=d,m}function Fd(r){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(r)}function Zg(r,e){var t=e.size;if(t!==0){var i=r.length;r.length+=t;var o=0;e.forEach(function(l){r[i+o]=l,o++})}}function ad(r){r=r||{};for(var e=0,t=arguments.length<=1?0:arguments.length-1;e<t;e++){var i=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];i&&Object.assign(r,i)}return r}var Jd={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,defaultDrawEdgeLabel:M_,defaultDrawNodeLabel:Zy,defaultDrawNodeHover:P_,minEdgeThickness:1.7,antiAliasingFeather:1,dragTimeout:100,draggedEventsTolerance:3,inertiaDuration:200,inertiaRatio:3,zoomDuration:250,zoomingRatio:1.7,doubleClickTimeout:300,doubleClickZoomingRatio:2.2,doubleClickZoomingDuration:200,tapMoveTolerance:10,zoomToSizeRatioFunction:Math.sqrt,itemSizesReference:"screen",autoRescale:!0,autoCenter:!0,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,enableCameraZooming:!0,enableCameraPanning:!0,enableCameraRotation:!0,cameraPanBoundaries:null,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},xb={circle:Zl},Ab={arrow:nb,line:ob};function ld(r){if(typeof r.labelDensity!="number"||r.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var e=r.minCameraRatio,t=r.maxCameraRatio;if(typeof e=="number"&&typeof t=="number"&&t<e)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")}function Nb(r){var e=ad({},Jd,r);return e.nodeProgramClasses=ad({},xb,e.nodeProgramClasses),e.edgeProgramClasses=ad({},Ab,e.edgeProgramClasses),e}var ul=1.5,Xg=(function(r){function e(){var t;return Ft(this,e),t=An(this,e),K(t,"x",.5),K(t,"y",.5),K(t,"angle",0),K(t,"ratio",1),K(t,"minRatio",null),K(t,"maxRatio",null),K(t,"enabledZooming",!0),K(t,"enabledPanning",!0),K(t,"enabledRotation",!0),K(t,"clean",null),K(t,"nextFrame",null),K(t,"previousState",null),K(t,"enabled",!0),t.previousState=t.getState(),t}return Nn(e,r),Ot(e,[{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"getState",value:function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}}},{key:"hasState",value:function(i){return this.x===i.x&&this.y===i.y&&this.ratio===i.ratio&&this.angle===i.angle}},{key:"getPreviousState",value:function(){var i=this.previousState;return i?{x:i.x,y:i.y,angle:i.angle,ratio:i.ratio}:null}},{key:"getBoundedRatio",value:function(i){var o=i;return typeof this.minRatio=="number"&&(o=Math.max(o,this.minRatio)),typeof this.maxRatio=="number"&&(o=Math.min(o,this.maxRatio)),o}},{key:"validateState",value:function(i){var o={};return this.enabledPanning&&typeof i.x=="number"&&(o.x=i.x),this.enabledPanning&&typeof i.y=="number"&&(o.y=i.y),this.enabledZooming&&typeof i.ratio=="number"&&(o.ratio=this.getBoundedRatio(i.ratio)),this.enabledRotation&&typeof i.angle=="number"&&(o.angle=i.angle),this.clean?this.clean(ye(ye({},this.getState()),o)):o}},{key:"isAnimated",value:function(){return!!this.nextFrame}},{key:"setState",value:function(i){if(!this.enabled)return this;this.previousState=this.getState();var o=this.validateState(i);return typeof o.x=="number"&&(this.x=o.x),typeof o.y=="number"&&(this.y=o.y),typeof o.ratio=="number"&&(this.ratio=o.ratio),typeof o.angle=="number"&&(this.angle=o.angle),this.hasState(this.previousState)||this.emit("updated",this.getState()),this}},{key:"updateState",value:function(i){return this.setState(i(this.getState())),this}},{key:"animate",value:function(i){var o=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0;if(!c)return new Promise(function(S){return o.animate(i,l,S)});if(this.enabled){var d=ye(ye({},vb),l),f=this.validateState(i),g=typeof d.easing=="function"?d.easing:mb[d.easing],m=Date.now(),v=this.getState(),w=function(){var F=(Date.now()-m)/d.duration;if(F>=1){o.nextFrame=null,o.setState(f),o.animationCallback&&(o.animationCallback.call(null),o.animationCallback=void 0);return}var M=g(F),U={};typeof f.x=="number"&&(U.x=v.x+(f.x-v.x)*M),typeof f.y=="number"&&(U.y=v.y+(f.y-v.y)*M),o.enabledRotation&&typeof f.angle=="number"&&(U.angle=v.angle+(f.angle-v.angle)*M),typeof f.ratio=="number"&&(U.ratio=v.ratio+(f.ratio-v.ratio)*M),o.setState(U),o.nextFrame=requestAnimationFrame(w)};this.nextFrame?(cancelAnimationFrame(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=requestAnimationFrame(w)):w(),this.animationCallback=c}}},{key:"animatedZoom",value:function(i){return i?typeof i=="number"?this.animate({ratio:this.ratio/i}):this.animate({ratio:this.ratio/(i.factor||ul)},i):this.animate({ratio:this.ratio/ul})}},{key:"animatedUnzoom",value:function(i){return i?typeof i=="number"?this.animate({ratio:this.ratio*i}):this.animate({ratio:this.ratio*(i.factor||ul)},i):this.animate({ratio:this.ratio*ul})}},{key:"animatedReset",value:function(i){return this.animate({x:.5,y:.5,ratio:1,angle:0},i)}},{key:"copy",value:function(){return e.from(this.getState())}}],[{key:"from",value:function(i){var o=new e;return o.setState(i)}}])})(Xd);function Pn(r,e){var t=e.getBoundingClientRect();return{x:r.clientX-t.left,y:r.clientY-t.top}}function pr(r,e){var t=ye(ye({},Pn(r,e)),{},{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){t.sigmaDefaultPrevented=!0},original:r});return t}function Eo(r){var e="x"in r?r:ye(ye({},r.touches[0]||r.previousTouches[0]),{},{original:r.original,sigmaDefaultPrevented:r.sigmaDefaultPrevented,preventSigmaDefault:function(){r.sigmaDefaultPrevented=!0,e.sigmaDefaultPrevented=!0}});return e}function Tb(r,e){return ye(ye({},pr(r,e)),{},{delta:am(r)})}var Ib=2;function pl(r){for(var e=[],t=0,i=Math.min(r.length,Ib);t<i;t++)e.push(r[t]);return e}function xo(r,e,t){var i={touches:pl(r.touches).map(function(o){return Pn(o,t)}),previousTouches:e.map(function(o){return Pn(o,t)}),sigmaDefaultPrevented:!1,preventSigmaDefault:function(){i.sigmaDefaultPrevented=!0},original:r};return i}function am(r){if(typeof r.deltaY<"u")return r.deltaY*-3/360;if(typeof r.detail<"u")return r.detail/-9;throw new Error("Captor: could not extract delta from event.")}var lm=(function(r){function e(t,i){var o;return Ft(this,e),o=An(this,e),o.container=t,o.renderer=i,o}return Nn(e,r),Ot(e)})(Xd),Cb=["doubleClickTimeout","doubleClickZoomingDuration","doubleClickZoomingRatio","dragTimeout","draggedEventsTolerance","inertiaDuration","inertiaRatio","zoomDuration","zoomingRatio"],kb=Cb.reduce(function(r,e){return ye(ye({},r),{},K({},e,Jd[e]))},{}),Db=(function(r){function e(t,i){var o;return Ft(this,e),o=An(this,e,[t,i]),K(o,"enabled",!0),K(o,"draggedEvents",0),K(o,"downStartTime",null),K(o,"lastMouseX",null),K(o,"lastMouseY",null),K(o,"isMouseDown",!1),K(o,"isMoving",!1),K(o,"movingTimeout",null),K(o,"startCameraState",null),K(o,"clicks",0),K(o,"doubleClickTimeout",null),K(o,"currentWheelDirection",0),K(o,"settings",kb),o.handleClick=o.handleClick.bind(o),o.handleRightClick=o.handleRightClick.bind(o),o.handleDown=o.handleDown.bind(o),o.handleUp=o.handleUp.bind(o),o.handleMove=o.handleMove.bind(o),o.handleWheel=o.handleWheel.bind(o),o.handleLeave=o.handleLeave.bind(o),o.handleEnter=o.handleEnter.bind(o),t.addEventListener("click",o.handleClick,{capture:!1}),t.addEventListener("contextmenu",o.handleRightClick,{capture:!1}),t.addEventListener("mousedown",o.handleDown,{capture:!1}),t.addEventListener("wheel",o.handleWheel,{capture:!1}),t.addEventListener("mouseleave",o.handleLeave,{capture:!1}),t.addEventListener("mouseenter",o.handleEnter,{capture:!1}),document.addEventListener("mousemove",o.handleMove,{capture:!1}),document.addEventListener("mouseup",o.handleUp,{capture:!1}),o}return Nn(e,r),Ot(e,[{key:"kill",value:function(){var i=this.container;i.removeEventListener("click",this.handleClick),i.removeEventListener("contextmenu",this.handleRightClick),i.removeEventListener("mousedown",this.handleDown),i.removeEventListener("wheel",this.handleWheel),i.removeEventListener("mouseleave",this.handleLeave),i.removeEventListener("mouseenter",this.handleEnter),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)}},{key:"handleClick",value:function(i){var o=this;if(this.enabled){if(this.clicks++,this.clicks===2)return this.clicks=0,typeof this.doubleClickTimeout=="number"&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(i);setTimeout(function(){o.clicks=0,o.doubleClickTimeout=null},this.settings.doubleClickTimeout),this.draggedEvents<this.settings.draggedEventsTolerance&&this.emit("click",pr(i,this.container))}}},{key:"handleRightClick",value:function(i){this.enabled&&this.emit("rightClick",pr(i,this.container))}},{key:"handleDoubleClick",value:function(i){if(this.enabled){i.preventDefault(),i.stopPropagation();var o=pr(i,this.container);if(this.emit("doubleClick",o),!o.sigmaDefaultPrevented){var l=this.renderer.getCamera(),c=l.getBoundedRatio(l.getState().ratio/this.settings.doubleClickZoomingRatio);l.animate(this.renderer.getViewportZoomedState(Pn(i,this.container),c),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}}},{key:"handleDown",value:function(i){if(this.enabled){if(i.button===0){this.startCameraState=this.renderer.getCamera().getState();var o=Pn(i,this.container),l=o.x,c=o.y;this.lastMouseX=l,this.lastMouseY=c,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",pr(i,this.container))}}},{key:"handleUp",value:function(i){var o=this;if(!(!this.enabled||!this.isMouseDown)){var l=this.renderer.getCamera();this.isMouseDown=!1,typeof this.movingTimeout=="number"&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var c=Pn(i,this.container),d=c.x,f=c.y,g=l.getState(),m=l.getPreviousState()||{x:0,y:0};this.isMoving?l.animate({x:g.x+this.settings.inertiaRatio*(g.x-m.x),y:g.y+this.settings.inertiaRatio*(g.y-m.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"}):(this.lastMouseX!==d||this.lastMouseY!==f)&&l.setState({x:g.x,y:g.y}),this.isMoving=!1,setTimeout(function(){var v=o.draggedEvents>0;o.draggedEvents=0,v&&o.renderer.getSetting("hideEdgesOnMove")&&o.renderer.refresh()},0),this.emit("mouseup",pr(i,this.container))}}},{key:"handleMove",value:function(i){var o=this;if(this.enabled){var l=pr(i,this.container);if(this.emit("mousemovebody",l),(i.target===this.container||i.composedPath()[0]===this.container)&&this.emit("mousemove",l),!l.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,typeof this.movingTimeout=="number"&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){o.movingTimeout=null,o.isMoving=!1},this.settings.dragTimeout);var c=this.renderer.getCamera(),d=Pn(i,this.container),f=d.x,g=d.y,m=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),v=this.renderer.viewportToFramedGraph({x:f,y:g}),w=m.x-v.x,S=m.y-v.y,F=c.getState(),M=F.x+w,U=F.y+S;c.setState({x:M,y:U}),this.lastMouseX=f,this.lastMouseY=g,i.preventDefault(),i.stopPropagation()}}}},{key:"handleLeave",value:function(i){this.emit("mouseleave",pr(i,this.container))}},{key:"handleEnter",value:function(i){this.emit("mouseenter",pr(i,this.container))}},{key:"handleWheel",value:function(i){var o=this,l=this.renderer.getCamera();if(!(!this.enabled||!l.enabledZooming)){var c=am(i);if(c){var d=Tb(i,this.container);if(this.emit("wheel",d),d.sigmaDefaultPrevented){i.preventDefault(),i.stopPropagation();return}var f=l.getState().ratio,g=c>0?1/this.settings.zoomingRatio:this.settings.zoomingRatio,m=l.getBoundedRatio(f*g),v=c>0?1:-1,w=Date.now();f!==m&&(i.preventDefault(),i.stopPropagation(),!(this.currentWheelDirection===v&&this.lastWheelTriggerTime&&w-this.lastWheelTriggerTime<this.settings.zoomDuration/5)&&(l.animate(this.renderer.getViewportZoomedState(Pn(i,this.container),m),{easing:"quadraticOut",duration:this.settings.zoomDuration},function(){o.currentWheelDirection=0}),this.currentWheelDirection=v,this.lastWheelTriggerTime=w))}}}},{key:"setSettings",value:function(i){this.settings=i}}])})(lm),Rb=["dragTimeout","inertiaDuration","inertiaRatio","doubleClickTimeout","doubleClickZoomingRatio","doubleClickZoomingDuration","tapMoveTolerance"],Lb=Rb.reduce(function(r,e){return ye(ye({},r),{},K({},e,Jd[e]))},{}),Fb=(function(r){function e(t,i){var o;return Ft(this,e),o=An(this,e,[t,i]),K(o,"enabled",!0),K(o,"isMoving",!1),K(o,"hasMoved",!1),K(o,"touchMode",0),K(o,"startTouchesPositions",[]),K(o,"lastTouches",[]),K(o,"lastTap",null),K(o,"settings",Lb),o.handleStart=o.handleStart.bind(o),o.handleLeave=o.handleLeave.bind(o),o.handleMove=o.handleMove.bind(o),t.addEventListener("touchstart",o.handleStart,{capture:!1}),t.addEventListener("touchcancel",o.handleLeave,{capture:!1}),document.addEventListener("touchend",o.handleLeave,{capture:!1,passive:!1}),document.addEventListener("touchmove",o.handleMove,{capture:!1,passive:!1}),o}return Nn(e,r),Ot(e,[{key:"kill",value:function(){var i=this.container;i.removeEventListener("touchstart",this.handleStart),i.removeEventListener("touchcancel",this.handleLeave),document.removeEventListener("touchend",this.handleLeave),document.removeEventListener("touchmove",this.handleMove)}},{key:"getDimensions",value:function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}}},{key:"handleStart",value:function(i){var o=this;if(this.enabled){i.preventDefault();var l=pl(i.touches);if(this.touchMode=l.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=l.map(function(S){return Pn(S,o.container)}),this.touchMode===2){var c=_s(this.startTouchesPositions,2),d=c[0],f=d.x,g=d.y,m=c[1],v=m.x,w=m.y;this.startTouchesAngle=Math.atan2(w-g,v-f),this.startTouchesDistance=Math.sqrt(Math.pow(v-f,2)+Math.pow(w-g,2))}this.emit("touchdown",xo(i,this.lastTouches,this.container)),this.lastTouches=l,this.lastTouchesPositions=this.startTouchesPositions}}},{key:"handleLeave",value:function(i){if(!(!this.enabled||!this.startTouchesPositions.length)){switch(i.cancelable&&i.preventDefault(),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(i.touches.length===1){this.handleStart(i),i.preventDefault();break}case 1:if(this.isMoving){var o=this.renderer.getCamera(),l=o.getState(),c=o.getPreviousState()||{x:0,y:0};o.animate({x:l.x+this.settings.inertiaRatio*(l.x-c.x),y:l.y+this.settings.inertiaRatio*(l.y-c.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0;break}if(this.emit("touchup",xo(i,this.lastTouches,this.container)),!i.touches.length){var d=Pn(this.lastTouches[0],this.container),f=this.startTouchesPositions[0],g=Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2);if(!i.touches.length&&g<Math.pow(this.settings.tapMoveTolerance,2))if(this.lastTap&&Date.now()-this.lastTap.time<this.settings.doubleClickTimeout){var m=xo(i,this.lastTouches,this.container);if(this.emit("doubletap",m),this.lastTap=null,!m.sigmaDefaultPrevented){var v=this.renderer.getCamera(),w=v.getBoundedRatio(v.getState().ratio/this.settings.doubleClickZoomingRatio);v.animate(this.renderer.getViewportZoomedState(d,w),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}else{var S=xo(i,this.lastTouches,this.container);this.emit("tap",S),this.lastTap={time:Date.now(),position:S.touches[0]||S.previousTouches[0]}}}this.lastTouches=pl(i.touches),this.startTouchesPositions=[]}}},{key:"handleMove",value:function(i){var o=this;if(!(!this.enabled||!this.startTouchesPositions.length)){i.preventDefault();var l=pl(i.touches),c=l.map(function(T){return Pn(T,o.container)}),d=this.lastTouches;this.lastTouches=l,this.lastTouchesPositions=c;var f=xo(i,d,this.container);if(this.emit("touchmove",f),!f.sigmaDefaultPrevented&&(this.hasMoved||(this.hasMoved=c.some(function(T,G){var ce=o.startTouchesPositions[G];return ce&&(T.x!==ce.x||T.y!==ce.y)})),!!this.hasMoved)){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){o.isMoving=!1},this.settings.dragTimeout);var g=this.renderer.getCamera(),m=this.startCameraState,v=this.renderer.getSetting("stagePadding");switch(this.touchMode){case 1:{var w=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),S=w.x,F=w.y,M=this.renderer.viewportToFramedGraph(c[0]),U=M.x,Y=M.y;g.setState({x:m.x+S-U,y:m.y+F-Y});break}case 2:{var W={x:.5,y:.5,angle:0,ratio:1},V=c[0],k=V.x,A=V.y,$=c[1],E=$.x,R=$.y,B=Math.atan2(R-A,E-k)-this.startTouchesAngle,b=Math.hypot(R-A,E-k)/this.startTouchesDistance,z=g.getBoundedRatio(m.ratio/b);W.ratio=z,W.angle=m.angle+B;var L=this.getDimensions(),re=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:m}),ae=Math.min(L.width,L.height)-2*v,te=ae/L.width,ue=ae/L.height,ve=z/ae,Q=k-ae/2/te,se=A-ae/2/ue,Z=[Q*Math.cos(-W.angle)-se*Math.sin(-W.angle),se*Math.cos(-W.angle)+Q*Math.sin(-W.angle)];Q=Z[0],se=Z[1],W.x=re.x-Q*ve,W.y=re.y+se*ve,g.setState(W);break}}}}}},{key:"setSettings",value:function(i){this.settings=i}}])})(lm);function Ob(r){if(Array.isArray(r))return Dd(r)}function Bb(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Mb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jg(r){return Ob(r)||Bb(r)||Vy(r)||Mb()}function Pb(r,e){if(r==null)return{};var t={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;t[i]=r[i]}return t}function ud(r,e){if(r==null)return{};var t,i,o=Pb(r,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}var ey=(function(){function r(e,t){Ft(this,r),this.key=e,this.size=t}return Ot(r,null,[{key:"compare",value:function(t,i){return t.size>i.size?-1:t.size<i.size||t.key>i.key?1:-1}}])})(),ty=(function(){function r(){Ft(this,r),K(this,"width",0),K(this,"height",0),K(this,"cellSize",0),K(this,"columns",0),K(this,"rows",0),K(this,"cells",{})}return Ot(r,[{key:"resizeAndClear",value:function(t,i){this.width=t.width,this.height=t.height,this.cellSize=i,this.columns=Math.ceil(t.width/i),this.rows=Math.ceil(t.height/i),this.cells={}}},{key:"getIndex",value:function(t){var i=Math.floor(t.x/this.cellSize),o=Math.floor(t.y/this.cellSize);return o*this.columns+i}},{key:"add",value:function(t,i,o){var l=new ey(t,i),c=this.getIndex(o),d=this.cells[c];d||(d=[],this.cells[c]=d),d.push(l)}},{key:"organize",value:function(){for(var t in this.cells){var i=this.cells[t];i.sort(ey.compare)}}},{key:"getLabelsToDisplay",value:function(t,i){var o=this.cellSize*this.cellSize,l=o/t/t,c=l*i/o,d=Math.ceil(c),f=[];for(var g in this.cells)for(var m=this.cells[g],v=0;v<Math.min(d,m.length);v++)f.push(m[v].key);return f}}])})();function zb(r){var e=r.graph,t=r.hoveredNode,i=r.highlightedNodes,o=r.displayedNodeLabels,l=[];return e.forEachEdge(function(c,d,f,g){(f===t||g===t||i.has(f)||i.has(g)||o.has(f)&&o.has(g))&&l.push(c)}),l}var ny=150,ry=50,wr=Object.prototype.hasOwnProperty;function Ub(r,e,t){if(!wr.call(t,"x")||!wr.call(t,"y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(e,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return t.color||(t.color=r.defaultNodeColor),!t.label&&t.label!==""&&(t.label=null),t.label!==void 0&&t.label!==null?t.label=""+t.label:t.label=null,t.size||(t.size=2),wr.call(t,"hidden")||(t.hidden=!1),wr.call(t,"highlighted")||(t.highlighted=!1),wr.call(t,"forceLabel")||(t.forceLabel=!1),(!t.type||t.type==="")&&(t.type=r.defaultNodeType),t.zIndex||(t.zIndex=0),t}function $b(r,e,t){return t.color||(t.color=r.defaultEdgeColor),t.label||(t.label=""),t.size||(t.size=.5),wr.call(t,"hidden")||(t.hidden=!1),wr.call(t,"forceLabel")||(t.forceLabel=!1),(!t.type||t.type==="")&&(t.type=r.defaultEdgeType),t.zIndex||(t.zIndex=0),t}var jb=(function(r){function e(t,i){var o,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Ft(this,e),o=An(this,e),K(o,"elements",{}),K(o,"canvasContexts",{}),K(o,"webGLContexts",{}),K(o,"pickingLayers",new Set),K(o,"textures",{}),K(o,"frameBuffers",{}),K(o,"activeListeners",{}),K(o,"labelGrid",new ty),K(o,"nodeDataCache",{}),K(o,"edgeDataCache",{}),K(o,"nodeProgramIndex",{}),K(o,"edgeProgramIndex",{}),K(o,"nodesWithForcedLabels",new Set),K(o,"edgesWithForcedLabels",new Set),K(o,"nodeExtent",{x:[0,1],y:[0,1]}),K(o,"nodeZExtent",[1/0,-1/0]),K(o,"edgeZExtent",[1/0,-1/0]),K(o,"matrix",On()),K(o,"invMatrix",On()),K(o,"correctionRatio",1),K(o,"customBBox",null),K(o,"normalizationFunction",Qg({x:[0,1],y:[0,1]})),K(o,"graphToViewportRatio",1),K(o,"itemIDsIndex",{}),K(o,"nodeIndices",{}),K(o,"edgeIndices",{}),K(o,"width",0),K(o,"height",0),K(o,"pixelRatio",Kg()),K(o,"pickingDownSizingRatio",2*o.pixelRatio),K(o,"displayedNodeLabels",new Set),K(o,"displayedEdgeLabels",new Set),K(o,"highlightedNodes",new Set),K(o,"hoveredNode",null),K(o,"hoveredEdge",null),K(o,"renderFrame",null),K(o,"renderHighlightedNodesFrame",null),K(o,"needToProcess",!1),K(o,"checkEdgesEventsFrame",null),K(o,"nodePrograms",{}),K(o,"nodeHoverPrograms",{}),K(o,"edgePrograms",{}),o.settings=Nb(l),ld(o.settings),Sb(t),!(i instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");o.graph=t,o.container=i,o.createWebGLContext("edges",{picking:l.enableEdgeEvents}),o.createCanvasContext("edgeLabels"),o.createWebGLContext("nodes",{picking:!0}),o.createCanvasContext("labels"),o.createCanvasContext("hovers"),o.createWebGLContext("hoverNodes"),o.createCanvasContext("mouse",{style:{touchAction:"none",userSelect:"none"}}),o.resize();for(var c in o.settings.nodeProgramClasses)o.registerNodeProgram(c,o.settings.nodeProgramClasses[c],o.settings.nodeHoverProgramClasses[c]);for(var d in o.settings.edgeProgramClasses)o.registerEdgeProgram(d,o.settings.edgeProgramClasses[d]);return o.camera=new Xg,o.bindCameraHandlers(),o.mouseCaptor=new Db(o.elements.mouse,o),o.mouseCaptor.setSettings(o.settings),o.touchCaptor=new Fb(o.elements.mouse,o),o.touchCaptor.setSettings(o.settings),o.bindEventHandlers(),o.bindGraphHandlers(),o.handleSettingsUpdate(),o.refresh(),o}return Nn(e,r),Ot(e,[{key:"registerNodeProgram",value:function(i,o,l){return this.nodePrograms[i]&&this.nodePrograms[i].kill(),this.nodeHoverPrograms[i]&&this.nodeHoverPrograms[i].kill(),this.nodePrograms[i]=new o(this.webGLContexts.nodes,this.frameBuffers.nodes,this),this.nodeHoverPrograms[i]=new(l||o)(this.webGLContexts.hoverNodes,null,this),this}},{key:"registerEdgeProgram",value:function(i,o){return this.edgePrograms[i]&&this.edgePrograms[i].kill(),this.edgePrograms[i]=new o(this.webGLContexts.edges,this.frameBuffers.edges,this),this}},{key:"unregisterNodeProgram",value:function(i){if(this.nodePrograms[i]){var o=this.nodePrograms,l=o[i],c=ud(o,[i].map(ko));l.kill(),this.nodePrograms=c}if(this.nodeHoverPrograms[i]){var d=this.nodeHoverPrograms,f=d[i],g=ud(d,[i].map(ko));f.kill(),this.nodePrograms=g}return this}},{key:"unregisterEdgeProgram",value:function(i){if(this.edgePrograms[i]){var o=this.edgePrograms,l=o[i],c=ud(o,[i].map(ko));l.kill(),this.edgePrograms=c}return this}},{key:"resetWebGLTexture",value:function(i){var o=this.webGLContexts[i],l=this.frameBuffers[i],c=this.textures[i];c&&o.deleteTexture(c);var d=o.createTexture();return o.bindFramebuffer(o.FRAMEBUFFER,l),o.bindTexture(o.TEXTURE_2D,d),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,this.width,this.height,0,o.RGBA,o.UNSIGNED_BYTE,null),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,d,0),this.textures[i]=d,this}},{key:"bindCameraHandlers",value:function(){var i=this;return this.activeListeners.camera=function(){i.scheduleRender()},this.camera.on("updated",this.activeListeners.camera),this}},{key:"unbindCameraHandlers",value:function(){return this.camera.removeListener("updated",this.activeListeners.camera),this}},{key:"getNodeAtPosition",value:function(i){var o=i.x,l=i.y,c=Bg(this.webGLContexts.nodes,this.frameBuffers.nodes,o,l,this.pixelRatio,this.pickingDownSizingRatio),d=Og.apply(void 0,Jg(c)),f=this.itemIDsIndex[d];return f&&f.type==="node"?f.id:null}},{key:"bindEventHandlers",value:function(){var i=this;this.activeListeners.handleResize=function(){i.scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(l){var c=Eo(l),d={event:c,preventSigmaDefault:function(){c.preventSigmaDefault()}},f=i.getNodeAtPosition(c);if(f&&i.hoveredNode!==f&&!i.nodeDataCache[f].hidden){i.hoveredNode&&i.emit("leaveNode",ye(ye({},d),{},{node:i.hoveredNode})),i.hoveredNode=f,i.emit("enterNode",ye(ye({},d),{},{node:f})),i.scheduleHighlightedNodesRender();return}if(i.hoveredNode&&i.getNodeAtPosition(c)!==i.hoveredNode){var g=i.hoveredNode;i.hoveredNode=null,i.emit("leaveNode",ye(ye({},d),{},{node:g})),i.scheduleHighlightedNodesRender();return}if(i.settings.enableEdgeEvents){var m=i.hoveredNode?null:i.getEdgeAtPoint(d.event.x,d.event.y);m!==i.hoveredEdge&&(i.hoveredEdge&&i.emit("leaveEdge",ye(ye({},d),{},{edge:i.hoveredEdge})),m&&i.emit("enterEdge",ye(ye({},d),{},{edge:m})),i.hoveredEdge=m)}},this.activeListeners.handleMoveBody=function(l){var c=Eo(l);i.emit("moveBody",{event:c,preventSigmaDefault:function(){c.preventSigmaDefault()}})},this.activeListeners.handleLeave=function(l){var c=Eo(l),d={event:c,preventSigmaDefault:function(){c.preventSigmaDefault()}};i.hoveredNode&&(i.emit("leaveNode",ye(ye({},d),{},{node:i.hoveredNode})),i.scheduleHighlightedNodesRender()),i.settings.enableEdgeEvents&&i.hoveredEdge&&(i.emit("leaveEdge",ye(ye({},d),{},{edge:i.hoveredEdge})),i.scheduleHighlightedNodesRender()),i.emit("leaveStage",ye({},d))},this.activeListeners.handleEnter=function(l){var c=Eo(l),d={event:c,preventSigmaDefault:function(){c.preventSigmaDefault()}};i.emit("enterStage",ye({},d))};var o=function(c){return function(d){var f=Eo(d),g={event:f,preventSigmaDefault:function(){f.preventSigmaDefault()}},m=i.getNodeAtPosition(f);if(m)return i.emit("".concat(c,"Node"),ye(ye({},g),{},{node:m}));if(i.settings.enableEdgeEvents){var v=i.getEdgeAtPoint(f.x,f.y);if(v)return i.emit("".concat(c,"Edge"),ye(ye({},g),{},{edge:v}))}return i.emit("".concat(c,"Stage"),g)}};return this.activeListeners.handleClick=o("click"),this.activeListeners.handleRightClick=o("rightClick"),this.activeListeners.handleDoubleClick=o("doubleClick"),this.activeListeners.handleWheel=o("wheel"),this.activeListeners.handleDown=o("down"),this.activeListeners.handleUp=o("up"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("mousemovebody",this.activeListeners.handleMoveBody),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this.mouseCaptor.on("mouseup",this.activeListeners.handleUp),this.mouseCaptor.on("mouseleave",this.activeListeners.handleLeave),this.mouseCaptor.on("mouseenter",this.activeListeners.handleEnter),this.touchCaptor.on("touchdown",this.activeListeners.handleDown),this.touchCaptor.on("touchdown",this.activeListeners.handleMove),this.touchCaptor.on("touchup",this.activeListeners.handleUp),this.touchCaptor.on("touchmove",this.activeListeners.handleMove),this.touchCaptor.on("tap",this.activeListeners.handleClick),this.touchCaptor.on("doubletap",this.activeListeners.handleDoubleClick),this.touchCaptor.on("touchmove",this.activeListeners.handleMoveBody),this}},{key:"bindGraphHandlers",value:function(){var i=this,o=this.graph,l=new Set(["x","y","zIndex","type"]);return this.activeListeners.eachNodeAttributesUpdatedGraphUpdate=function(c){var d,f=(d=c.hints)===null||d===void 0?void 0:d.attributes;i.graph.forEachNode(function(m){return i.updateNode(m)});var g=!f||f.some(function(m){return l.has(m)});i.refresh({partialGraph:{nodes:o.nodes()},skipIndexation:!g,schedule:!0})},this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate=function(c){var d,f=(d=c.hints)===null||d===void 0?void 0:d.attributes;i.graph.forEachEdge(function(m){return i.updateEdge(m)});var g=f&&["zIndex","type"].some(function(m){return f==null?void 0:f.includes(m)});i.refresh({partialGraph:{edges:o.edges()},skipIndexation:!g,schedule:!0})},this.activeListeners.addNodeGraphUpdate=function(c){var d=c.key;i.addNode(d),i.refresh({partialGraph:{nodes:[d]},skipIndexation:!1,schedule:!0})},this.activeListeners.updateNodeGraphUpdate=function(c){var d=c.key;i.refresh({partialGraph:{nodes:[d]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropNodeGraphUpdate=function(c){var d=c.key;i.removeNode(d),i.refresh({schedule:!0})},this.activeListeners.addEdgeGraphUpdate=function(c){var d=c.key;i.addEdge(d),i.refresh({partialGraph:{edges:[d]},schedule:!0})},this.activeListeners.updateEdgeGraphUpdate=function(c){var d=c.key;i.refresh({partialGraph:{edges:[d]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropEdgeGraphUpdate=function(c){var d=c.key;i.removeEdge(d),i.refresh({schedule:!0})},this.activeListeners.clearEdgesGraphUpdate=function(){i.clearEdgeState(),i.clearEdgeIndices(),i.refresh({schedule:!0})},this.activeListeners.clearGraphUpdate=function(){i.clearEdgeState(),i.clearNodeState(),i.clearEdgeIndices(),i.clearNodeIndices(),i.refresh({schedule:!0})},o.on("nodeAdded",this.activeListeners.addNodeGraphUpdate),o.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),o.on("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),o.on("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),o.on("edgeAdded",this.activeListeners.addEdgeGraphUpdate),o.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),o.on("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),o.on("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),o.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),o.on("cleared",this.activeListeners.clearGraphUpdate),this}},{key:"unbindGraphHandlers",value:function(){var i=this.graph;i.removeListener("nodeAdded",this.activeListeners.addNodeGraphUpdate),i.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),i.removeListener("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),i.removeListener("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),i.removeListener("edgeAdded",this.activeListeners.addEdgeGraphUpdate),i.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),i.removeListener("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),i.removeListener("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),i.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),i.removeListener("cleared",this.activeListeners.clearGraphUpdate)}},{key:"getEdgeAtPoint",value:function(i,o){var l=Bg(this.webGLContexts.edges,this.frameBuffers.edges,i,o,this.pixelRatio,this.pickingDownSizingRatio),c=Og.apply(void 0,Jg(l)),d=this.itemIDsIndex[c];return d&&d.type==="edge"?d.id:null}},{key:"process",value:function(){var i=this;this.emit("beforeProcess");var o=this.graph,l=this.settings,c=this.getDimensions();if(this.nodeExtent=bb(this.graph),!this.settings.autoRescale){var d=c.width,f=c.height,g=this.nodeExtent,m=g.x,v=g.y;this.nodeExtent={x:[(m[0]+m[1])/2-d/2,(m[0]+m[1])/2+d/2],y:[(v[0]+v[1])/2-f/2,(v[0]+v[1])/2+f/2]}}this.normalizationFunction=Qg(this.customBBox||this.nodeExtent);var w=new Xg,S=So(w.getState(),c,this.getGraphDimensions(),this.getStagePadding());this.labelGrid.resizeAndClear(c,l.labelGridCellSize);for(var F={},M={},U={},Y={},W=1,V=o.nodes(),k=0,A=V.length;k<A;k++){var $=V[k],E=this.nodeDataCache[$],R=o.getNodeAttributes($);E.x=R.x,E.y=R.y,this.normalizationFunction.applyTo(E),typeof E.label=="string"&&!E.hidden&&this.labelGrid.add($,E.size,this.framedGraphToViewport(E,{matrix:S})),F[E.type]=(F[E.type]||0)+1}this.labelGrid.organize();for(var B in this.nodePrograms){if(!wr.call(this.nodePrograms,B))throw new Error('Sigma: could not find a suitable program for node type "'.concat(B,'"!'));this.nodePrograms[B].reallocate(F[B]||0),F[B]=0}this.settings.zIndex&&this.nodeZExtent[0]!==this.nodeZExtent[1]&&(V=qg(this.nodeZExtent,function(N){return i.nodeDataCache[N].zIndex},V));for(var b=0,z=V.length;b<z;b++){var L=V[b];M[L]=W,Y[M[L]]={type:"node",id:L},W++;var re=this.nodeDataCache[L];this.addNodeToProgram(L,M[L],F[re.type]++)}for(var ae={},te=o.edges(),ue=0,ve=te.length;ue<ve;ue++){var Q=te[ue],se=this.edgeDataCache[Q];ae[se.type]=(ae[se.type]||0)+1}this.settings.zIndex&&this.edgeZExtent[0]!==this.edgeZExtent[1]&&(te=qg(this.edgeZExtent,function(N){return i.edgeDataCache[N].zIndex},te));for(var Z in this.edgePrograms){if(!wr.call(this.edgePrograms,Z))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(Z,'"!'));this.edgePrograms[Z].reallocate(ae[Z]||0),ae[Z]=0}for(var T=0,G=te.length;T<G;T++){var ce=te[T];U[ce]=W,Y[U[ce]]={type:"edge",id:ce},W++;var Se=this.edgeDataCache[ce];this.addEdgeToProgram(ce,U[ce],ae[Se.type]++)}return this.itemIDsIndex=Y,this.nodeIndices=M,this.edgeIndices=U,this.emit("afterProcess"),this}},{key:"handleSettingsUpdate",value:function(i){var o=this,l=this.settings;if(this.camera.minRatio=l.minCameraRatio,this.camera.maxRatio=l.maxCameraRatio,this.camera.enabledZooming=l.enableCameraZooming,this.camera.enabledPanning=l.enableCameraPanning,this.camera.enabledRotation=l.enableCameraRotation,l.cameraPanBoundaries?this.camera.clean=function(m){return o.cleanCameraState(m,l.cameraPanBoundaries&&Fd(l.cameraPanBoundaries)==="object"?l.cameraPanBoundaries:{})}:this.camera.clean=null,this.camera.setState(this.camera.validateState(this.camera.getState())),i){if(i.edgeProgramClasses!==l.edgeProgramClasses){for(var c in l.edgeProgramClasses)l.edgeProgramClasses[c]!==i.edgeProgramClasses[c]&&this.registerEdgeProgram(c,l.edgeProgramClasses[c]);for(var d in i.edgeProgramClasses)l.edgeProgramClasses[d]||this.unregisterEdgeProgram(d)}if(i.nodeProgramClasses!==l.nodeProgramClasses||i.nodeHoverProgramClasses!==l.nodeHoverProgramClasses){for(var f in l.nodeProgramClasses)(l.nodeProgramClasses[f]!==i.nodeProgramClasses[f]||l.nodeHoverProgramClasses[f]!==i.nodeHoverProgramClasses[f])&&this.registerNodeProgram(f,l.nodeProgramClasses[f],l.nodeHoverProgramClasses[f]);for(var g in i.nodeProgramClasses)l.nodeProgramClasses[g]||this.unregisterNodeProgram(g)}}return this.mouseCaptor.setSettings(this.settings),this.touchCaptor.setSettings(this.settings),this}},{key:"cleanCameraState",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.tolerance,c=l===void 0?0:l,d=o.boundaries,f=ye({},i),g=d||this.nodeExtent,m=_s(g.x,2),v=m[0],w=m[1],S=_s(g.y,2),F=S[0],M=S[1],U=[this.graphToViewport({x:v,y:F},{cameraState:i}),this.graphToViewport({x:w,y:F},{cameraState:i}),this.graphToViewport({x:v,y:M},{cameraState:i}),this.graphToViewport({x:w,y:M},{cameraState:i})],Y=1/0,W=-1/0,V=1/0,k=-1/0;U.forEach(function(ae){var te=ae.x,ue=ae.y;Y=Math.min(Y,te),W=Math.max(W,te),V=Math.min(V,ue),k=Math.max(k,ue)});var A=W-Y,$=k-V,E=this.getDimensions(),R=E.width,B=E.height,b=0,z=0;if(A>=R?W<R-c?b=W-(R-c):Y>c&&(b=Y-c):W>R+c?b=W-(R+c):Y<-c&&(b=Y+c),$>=B?k<B-c?z=k-(B-c):V>c&&(z=V-c):k>B+c?z=k-(B+c):V<-c&&(z=V+c),b||z){var L=this.viewportToFramedGraph({x:0,y:0},{cameraState:i}),re=this.viewportToFramedGraph({x:b,y:z},{cameraState:i});b=re.x-L.x,z=re.y-L.y,f.x+=b,f.y+=z}return f}},{key:"renderLabels",value:function(){if(!this.settings.renderLabels)return this;var i=this.camera.getState(),o=this.labelGrid.getLabelsToDisplay(i.ratio,this.settings.labelDensity);Zg(o,this.nodesWithForcedLabels),this.displayedNodeLabels=new Set;for(var l=this.canvasContexts.labels,c=0,d=o.length;c<d;c++){var f=o[c],g=this.nodeDataCache[f];if(!this.displayedNodeLabels.has(f)&&!g.hidden){var m=this.framedGraphToViewport(g),v=m.x,w=m.y,S=this.scaleSize(g.size);if(!(!g.forceLabel&&S<this.settings.labelRenderedSizeThreshold)&&!(v<-ny||v>this.width+ny||w<-ry||w>this.height+ry)){this.displayedNodeLabels.add(f);var F=this.settings.defaultDrawNodeLabel,M=this.nodePrograms[g.type],U=(M==null?void 0:M.drawLabel)||F;U(l,ye(ye({key:f},g),{},{size:S,x:v,y:w}),this.settings)}}}return this}},{key:"renderEdgeLabels",value:function(){if(!this.settings.renderEdgeLabels)return this;var i=this.canvasContexts.edgeLabels;i.clearRect(0,0,this.width,this.height);var o=zb({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedNodeLabels,highlightedNodes:this.highlightedNodes});Zg(o,this.edgesWithForcedLabels);for(var l=new Set,c=0,d=o.length;c<d;c++){var f=o[c],g=this.graph.extremities(f),m=this.nodeDataCache[g[0]],v=this.nodeDataCache[g[1]],w=this.edgeDataCache[f];if(!l.has(f)&&!(w.hidden||m.hidden||v.hidden)){var S=this.settings.defaultDrawEdgeLabel,F=this.edgePrograms[w.type],M=(F==null?void 0:F.drawLabel)||S;M(i,ye(ye({key:f},w),{},{size:this.scaleSize(w.size)}),ye(ye(ye({key:g[0]},m),this.framedGraphToViewport(m)),{},{size:this.scaleSize(m.size)}),ye(ye(ye({key:g[1]},v),this.framedGraphToViewport(v)),{},{size:this.scaleSize(v.size)}),this.settings),l.add(f)}}return this.displayedEdgeLabels=l,this}},{key:"renderHighlightedNodes",value:function(){var i=this,o=this.canvasContexts.hovers;o.clearRect(0,0,this.width,this.height);var l=function(S){var F=i.nodeDataCache[S],M=i.framedGraphToViewport(F),U=M.x,Y=M.y,W=i.scaleSize(F.size),V=i.settings.defaultDrawNodeHover,k=i.nodePrograms[F.type],A=(k==null?void 0:k.drawHover)||V;A(o,ye(ye({key:S},F),{},{size:W,x:U,y:Y}),i.settings)},c=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&c.push(this.hoveredNode),this.highlightedNodes.forEach(function(w){w!==i.hoveredNode&&c.push(w)}),c.forEach(function(w){return l(w)});var d={};c.forEach(function(w){var S=i.nodeDataCache[w].type;d[S]=(d[S]||0)+1});for(var f in this.nodeHoverPrograms)this.nodeHoverPrograms[f].reallocate(d[f]||0),d[f]=0;c.forEach(function(w){var S=i.nodeDataCache[w];i.nodeHoverPrograms[S.type].process(0,d[S.type]++,S)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);var g=this.getRenderParams();for(var m in this.nodeHoverPrograms){var v=this.nodeHoverPrograms[m];v.render(g)}}},{key:"scheduleHighlightedNodesRender",value:function(){var i=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=requestAnimationFrame(function(){i.renderHighlightedNodesFrame=null,i.renderHighlightedNodes(),i.renderEdgeLabels()}))}},{key:"render",value:function(){var i=this;this.emit("beforeRender");var o=function(){return i.emit("afterRender"),i};if(this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.resize(),this.needToProcess&&this.process(),this.needToProcess=!1,this.clear(),this.pickingLayers.forEach(function(U){return i.resetWebGLTexture(U)}),!this.graph.order)return o();var l=this.mouseCaptor,c=this.camera.isAnimated()||l.isMoving||l.draggedEvents||l.currentWheelDirection,d=this.camera.getState(),f=this.getDimensions(),g=this.getGraphDimensions(),m=this.getStagePadding();this.matrix=So(d,f,g,m),this.invMatrix=So(d,f,g,m,!0),this.correctionRatio=_b(this.matrix,d,f),this.graphToViewportRatio=this.getGraphToViewportRatio();var v=this.getRenderParams();for(var w in this.nodePrograms){var S=this.nodePrograms[w];S.render(v)}if(!this.settings.hideEdgesOnMove||!c)for(var F in this.edgePrograms){var M=this.edgePrograms[F];M.render(v)}return this.settings.hideLabelsOnMove&&c||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),o()}},{key:"addNode",value:function(i){var o=Object.assign({},this.graph.getNodeAttributes(i));this.settings.nodeReducer&&(o=this.settings.nodeReducer(i,o));var l=Ub(this.settings,i,o);this.nodeDataCache[i]=l,this.nodesWithForcedLabels.delete(i),l.forceLabel&&!l.hidden&&this.nodesWithForcedLabels.add(i),this.highlightedNodes.delete(i),l.highlighted&&!l.hidden&&this.highlightedNodes.add(i),this.settings.zIndex&&(l.zIndex<this.nodeZExtent[0]&&(this.nodeZExtent[0]=l.zIndex),l.zIndex>this.nodeZExtent[1]&&(this.nodeZExtent[1]=l.zIndex))}},{key:"updateNode",value:function(i){this.addNode(i);var o=this.nodeDataCache[i];this.normalizationFunction.applyTo(o)}},{key:"removeNode",value:function(i){delete this.nodeDataCache[i],delete this.nodeProgramIndex[i],this.highlightedNodes.delete(i),this.hoveredNode===i&&(this.hoveredNode=null),this.nodesWithForcedLabels.delete(i)}},{key:"addEdge",value:function(i){var o=Object.assign({},this.graph.getEdgeAttributes(i));this.settings.edgeReducer&&(o=this.settings.edgeReducer(i,o));var l=$b(this.settings,i,o);this.edgeDataCache[i]=l,this.edgesWithForcedLabels.delete(i),l.forceLabel&&!l.hidden&&this.edgesWithForcedLabels.add(i),this.settings.zIndex&&(l.zIndex<this.edgeZExtent[0]&&(this.edgeZExtent[0]=l.zIndex),l.zIndex>this.edgeZExtent[1]&&(this.edgeZExtent[1]=l.zIndex))}},{key:"updateEdge",value:function(i){this.addEdge(i)}},{key:"removeEdge",value:function(i){delete this.edgeDataCache[i],delete this.edgeProgramIndex[i],this.hoveredEdge===i&&(this.hoveredEdge=null),this.edgesWithForcedLabels.delete(i)}},{key:"clearNodeIndices",value:function(){this.labelGrid=new ty,this.nodeExtent={x:[0,1],y:[0,1]},this.nodeDataCache={},this.edgeProgramIndex={},this.nodesWithForcedLabels=new Set,this.nodeZExtent=[1/0,-1/0],this.highlightedNodes=new Set}},{key:"clearEdgeIndices",value:function(){this.edgeDataCache={},this.edgeProgramIndex={},this.edgesWithForcedLabels=new Set,this.edgeZExtent=[1/0,-1/0]}},{key:"clearIndices",value:function(){this.clearEdgeIndices(),this.clearNodeIndices()}},{key:"clearNodeState",value:function(){this.displayedNodeLabels=new Set,this.highlightedNodes=new Set,this.hoveredNode=null}},{key:"clearEdgeState",value:function(){this.displayedEdgeLabels=new Set,this.highlightedNodes=new Set,this.hoveredEdge=null}},{key:"clearState",value:function(){this.clearEdgeState(),this.clearNodeState()}},{key:"addNodeToProgram",value:function(i,o,l){var c=this.nodeDataCache[i],d=this.nodePrograms[c.type];if(!d)throw new Error('Sigma: could not find a suitable program for node type "'.concat(c.type,'"!'));d.process(o,l,c),this.nodeProgramIndex[i]=l}},{key:"addEdgeToProgram",value:function(i,o,l){var c=this.edgeDataCache[i],d=this.edgePrograms[c.type];if(!d)throw new Error('Sigma: could not find a suitable program for edge type "'.concat(c.type,'"!'));var f=this.graph.extremities(i),g=this.nodeDataCache[f[0]],m=this.nodeDataCache[f[1]];d.process(o,l,g,m,c),this.edgeProgramIndex[i]=l}},{key:"getRenderParams",value:function(){return{matrix:this.matrix,invMatrix:this.invMatrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,cameraAngle:this.camera.angle,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio,downSizingRatio:this.pickingDownSizingRatio,minEdgeThickness:this.settings.minEdgeThickness,antiAliasingFeather:this.settings.antiAliasingFeather}}},{key:"getStagePadding",value:function(){var i=this.settings,o=i.stagePadding,l=i.autoRescale;return l&&o||0}},{key:"createLayer",value:function(i,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.elements[i])throw new Error('Sigma: a layer named "'.concat(i,'" already exists'));var c=Eb(o,{position:"absolute"},{class:"sigma-".concat(i)});return l.style&&Object.assign(c.style,l.style),this.elements[i]=c,"beforeLayer"in l&&l.beforeLayer?this.elements[l.beforeLayer].before(c):"afterLayer"in l&&l.afterLayer?this.elements[l.afterLayer].after(c):this.container.appendChild(c),c}},{key:"createCanvas",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.createLayer(i,"canvas",o)}},{key:"createCanvasContext",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.createCanvas(i,o),c={preserveDrawingBuffer:!1,antialias:!1};return this.canvasContexts[i]=l.getContext("2d",c),this}},{key:"createWebGLContext",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=(o==null?void 0:o.canvas)||this.createCanvas(i,o);o.hidden&&l.remove();var c=ye({preserveDrawingBuffer:!1,antialias:!1},o),d;d=l.getContext("webgl2",c),d||(d=l.getContext("webgl",c)),d||(d=l.getContext("experimental-webgl",c));var f=d;if(this.webGLContexts[i]=f,f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA),o.picking){this.pickingLayers.add(i);var g=f.createFramebuffer();if(!g)throw new Error("Sigma: cannot create a new frame buffer for layer ".concat(i));this.frameBuffers[i]=g}return f}},{key:"killLayer",value:function(i){var o=this.elements[i];if(!o)throw new Error("Sigma: cannot kill layer ".concat(i,", which does not exist"));if(this.webGLContexts[i]){var l,c=this.webGLContexts[i];(l=c.getExtension("WEBGL_lose_context"))===null||l===void 0||l.loseContext(),delete this.webGLContexts[i]}else this.canvasContexts[i]&&delete this.canvasContexts[i];return o.remove(),delete this.elements[i],this}},{key:"getCamera",value:function(){return this.camera}},{key:"setCamera",value:function(i){this.unbindCameraHandlers(),this.camera=i,this.bindCameraHandlers()}},{key:"getContainer",value:function(){return this.container}},{key:"getGraph",value:function(){return this.graph}},{key:"setGraph",value:function(i){i!==this.graph&&(this.hoveredNode&&!i.hasNode(this.hoveredNode)&&(this.hoveredNode=null),this.hoveredEdge&&!i.hasEdge(this.hoveredEdge)&&(this.hoveredEdge=null),this.unbindGraphHandlers(),this.checkEdgesEventsFrame!==null&&(cancelAnimationFrame(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=i,this.bindGraphHandlers(),this.refresh())}},{key:"getMouseCaptor",value:function(){return this.mouseCaptor}},{key:"getTouchCaptor",value:function(){return this.touchCaptor}},{key:"getDimensions",value:function(){return{width:this.width,height:this.height}}},{key:"getGraphDimensions",value:function(){var i=this.customBBox||this.nodeExtent;return{width:i.x[1]-i.x[0]||1,height:i.y[1]-i.y[0]||1}}},{key:"getNodeDisplayData",value:function(i){var o=this.nodeDataCache[i];return o?Object.assign({},o):void 0}},{key:"getEdgeDisplayData",value:function(i){var o=this.edgeDataCache[i];return o?Object.assign({},o):void 0}},{key:"getNodeDisplayedLabels",value:function(){return new Set(this.displayedNodeLabels)}},{key:"getEdgeDisplayedLabels",value:function(){return new Set(this.displayedEdgeLabels)}},{key:"getSettings",value:function(){return ye({},this.settings)}},{key:"getSetting",value:function(i){return this.settings[i]}},{key:"setSetting",value:function(i,o){var l=ye({},this.settings);return this.settings[i]=o,ld(this.settings),this.handleSettingsUpdate(l),this.scheduleRefresh(),this}},{key:"updateSetting",value:function(i,o){return this.setSetting(i,o(this.settings[i])),this}},{key:"setSettings",value:function(i){var o=ye({},this.settings);return this.settings=ye(ye({},this.settings),i),ld(this.settings),this.handleSettingsUpdate(o),this.scheduleRefresh(),this}},{key:"resize",value:function(i){var o=this.width,l=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=Kg(),this.width===0)if(this.settings.allowInvalidContainer)this.width=1;else throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(this.height===0)if(this.settings.allowInvalidContainer)this.height=1;else throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(!i&&o===this.width&&l===this.height)return this;for(var c in this.elements){var d=this.elements[c];d.style.width=this.width+"px",d.style.height=this.height+"px"}for(var f in this.canvasContexts)this.elements[f].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[f].setAttribute("height",this.height*this.pixelRatio+"px"),this.pixelRatio!==1&&this.canvasContexts[f].scale(this.pixelRatio,this.pixelRatio);for(var g in this.webGLContexts){this.elements[g].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[g].setAttribute("height",this.height*this.pixelRatio+"px");var m=this.webGLContexts[g];if(m.viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio),this.pickingLayers.has(g)){var v=this.textures[g];v&&m.deleteTexture(v)}}return this.emit("resize"),this}},{key:"clear",value:function(){return this.emit("beforeClear"),this.webGLContexts.nodes.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.nodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.edges.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.edges.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this.emit("afterClear"),this}},{key:"refresh",value:function(i){var o=this,l=(i==null?void 0:i.skipIndexation)!==void 0?i==null?void 0:i.skipIndexation:!1,c=(i==null?void 0:i.schedule)!==void 0?i.schedule:!1,d=!i||!i.partialGraph;if(d)this.clearEdgeIndices(),this.clearNodeIndices(),this.graph.forEachNode(function(k){return o.addNode(k)}),this.graph.forEachEdge(function(k){return o.addEdge(k)});else{for(var f,g,m=((f=i.partialGraph)===null||f===void 0?void 0:f.nodes)||[],v=0,w=(m==null?void 0:m.length)||0;v<w;v++){var S=m[v];if(this.updateNode(S),l){var F=this.nodeProgramIndex[S];if(F===void 0)throw new Error('Sigma: node "'.concat(S,`" can't be repaint`));this.addNodeToProgram(S,this.nodeIndices[S],F)}}for(var M=(i==null||(g=i.partialGraph)===null||g===void 0?void 0:g.edges)||[],U=0,Y=M.length;U<Y;U++){var W=M[U];if(this.updateEdge(W),l){var V=this.edgeProgramIndex[W];if(V===void 0)throw new Error('Sigma: edge "'.concat(W,`" can't be repaint`));this.addEdgeToProgram(W,this.edgeIndices[W],V)}}}return(d||!l)&&(this.needToProcess=!0),c?this.scheduleRender():this.render(),this}},{key:"scheduleRender",value:function(){var i=this;return this.renderFrame||(this.renderFrame=requestAnimationFrame(function(){i.render()})),this}},{key:"scheduleRefresh",value:function(i){return this.refresh(ye(ye({},i),{},{schedule:!0}))}},{key:"getViewportZoomedState",value:function(i,o){var l=this.camera.getState(),c=l.ratio,d=l.angle,f=l.x,g=l.y,m=this.settings,v=m.minCameraRatio,w=m.maxCameraRatio;typeof w=="number"&&(o=Math.min(o,w)),typeof v=="number"&&(o=Math.max(o,v));var S=o/c,F={x:this.width/2,y:this.height/2},M=this.viewportToFramedGraph(i),U=this.viewportToFramedGraph(F);return{angle:d,x:(M.x-U.x)*(1-S)+f,y:(M.y-U.y)*(1-S)+g,ratio:o}}},{key:"viewRectangle",value:function(){var i=this.viewportToFramedGraph({x:0,y:0}),o=this.viewportToFramedGraph({x:this.width,y:0}),l=this.viewportToFramedGraph({x:0,y:this.height});return{x1:i.x,y1:i.y,x2:o.x,y2:o.y,height:o.y-l.y}}},{key:"framedGraphToViewport",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=!!o.cameraState||!!o.viewportDimensions||!!o.graphDimensions,c=o.matrix?o.matrix:l?So(o.cameraState||this.camera.getState(),o.viewportDimensions||this.getDimensions(),o.graphDimensions||this.getGraphDimensions(),o.padding||this.getStagePadding()):this.matrix,d=Ld(c,i);return{x:(1+d.x)*this.width/2,y:(1-d.y)*this.height/2}}},{key:"viewportToFramedGraph",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=!!o.cameraState||!!o.viewportDimensions||!o.graphDimensions,c=o.matrix?o.matrix:l?So(o.cameraState||this.camera.getState(),o.viewportDimensions||this.getDimensions(),o.graphDimensions||this.getGraphDimensions(),o.padding||this.getStagePadding(),!0):this.invMatrix,d=Ld(c,{x:i.x/this.width*2-1,y:1-i.y/this.height*2});return isNaN(d.x)&&(d.x=0),isNaN(d.y)&&(d.y=0),d}},{key:"viewportToGraph",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.normalizationFunction.inverse(this.viewportToFramedGraph(i,o))}},{key:"graphToViewport",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.framedGraphToViewport(this.normalizationFunction(i),o)}},{key:"getGraphToViewportRatio",value:function(){var i={x:0,y:0},o={x:1,y:1},l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)),c=this.graphToViewport(i),d=this.graphToViewport(o),f=Math.sqrt(Math.pow(c.x-d.x,2)+Math.pow(c.y-d.y,2));return f/l}},{key:"getBBox",value:function(){return this.nodeExtent}},{key:"getCustomBBox",value:function(){return this.customBBox}},{key:"setCustomBBox",value:function(i){return this.customBBox=i,this.scheduleRender(),this}},{key:"kill",value:function(){this.emit("kill"),this.removeAllListeners(),this.unbindCameraHandlers(),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.clearIndices(),this.clearState(),this.nodeDataCache={},this.edgeDataCache={},this.highlightedNodes.clear(),this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&(cancelAnimationFrame(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var i=this.container;i.firstChild;)i.removeChild(i.firstChild);for(var o in this.nodePrograms)this.nodePrograms[o].kill();for(var l in this.nodeHoverPrograms)this.nodeHoverPrograms[l].kill();for(var c in this.edgePrograms)this.edgePrograms[c].kill();this.nodePrograms={},this.nodeHoverPrograms={},this.edgePrograms={};for(var d in this.elements)this.killLayer(d);this.canvasContexts={},this.webGLContexts={},this.elements={}}},{key:"scaleSize",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.camera.ratio;return i/this.settings.zoomToSizeRatioFunction(o)*(this.getSetting("itemSizesReference")==="positions"?o*this.graphToViewportRatio:1)}},{key:"getCanvases",value:function(){var i={};for(var o in this.elements)this.elements[o]instanceof HTMLCanvasElement&&(i[o]=this.elements[o]);return i}}])})(Xd),Gb=jb,is={},cd,iy;function Xl(){if(iy)return cd;iy=1;function r(t){return!t||typeof t!="object"||typeof t=="function"||Array.isArray(t)||t instanceof Set||t instanceof Map||t instanceof RegExp||t instanceof Date}function e(t,i){t=t||{};var o={};for(var l in i){var c=t[l],d=i[l];if(!r(d)){o[l]=e(c,d);continue}c===void 0?o[l]=d:o[l]=c}return o}return cd=e,cd}var dd,sy;function Vb(){if(sy)return dd;sy=1;function r(t){return function(i,o){return i+Math.floor(t()*(o-i+1))}}var e=r(Math.random);return e.createRandom=r,dd=e,dd}var hd,oy;function Wb(){if(oy)return hd;oy=1;var r=Vb().createRandom;function e(i){var o=r(i);return function(l){for(var c=l.length,d=c-1,f=-1;++f<c;){var g=o(f,d),m=l[g];l[g]=l[f],l[f]=m}}}var t=e(Math.random);return t.createShuffleInPlace=e,hd=t,hd}var fd,ay;function Hb(){if(ay)return fd;ay=1;var r=Xl(),e=jo(),t=Wb(),i={attributes:{x:"x",y:"y"},center:0,hierarchyAttributes:[],rng:Math.random,scale:1};function o(E,R,B,b,z){this.wrappedCircle=z||null,this.children={},this.countChildren=0,this.id=E||null,this.next=null,this.previous=null,this.x=R||null,this.y=B||null,z?this.r=1010101:this.r=b||999}o.prototype.hasChildren=function(){return this.countChildren>0},o.prototype.addChild=function(E,R){this.children[E]=R,++this.countChildren},o.prototype.getChild=function(E){if(!this.children.hasOwnProperty(E)){var R=new o;this.children[E]=R,++this.countChildren}return this.children[E]},o.prototype.applyPositionToChildren=function(){if(this.hasChildren()){var E=this;for(var R in E.children){var B=E.children[R];B.x+=E.x,B.y+=E.y,B.applyPositionToChildren()}}};function l(E,R,B){for(var b in R.children){var z=R.children[b];z.hasChildren()?l(E,z,B):B[z.id]={x:z.x,y:z.y}}}function c(E,R){var B=E.r-R.r,b=R.x-E.x,z=R.y-E.y;return B<0||B*B<b*b+z*z}function d(E,R){var B=E.r-R.r+1e-6,b=R.x-E.x,z=R.y-E.y;return B>0&&B*B>b*b+z*z}function f(E,R){for(var B=0;B<R.length;++B)if(!d(E,R[B]))return!1;return!0}function g(E){return new o(null,E.x,E.y,E.r)}function m(E,R){var B=E.x,b=E.y,z=E.r,L=R.x,re=R.y,ae=R.r,te=L-B,ue=re-b,ve=ae-z,Q=Math.sqrt(te*te+ue*ue);return new o(null,(B+L+te/Q*ve)/2,(b+re+ue/Q*ve)/2,(Q+z+ae)/2)}function v(E,R,B){var b=E.x,z=E.y,L=E.r,re=R.x,ae=R.y,te=R.r,ue=B.x,ve=B.y,Q=B.r,se=b-re,Z=b-ue,T=z-ae,G=z-ve,ce=te-L,Se=Q-L,N=b*b+z*z-L*L,j=N-re*re-ae*ae+te*te,ie=N-ue*ue-ve*ve+Q*Q,de=Z*T-se*G,fe=(T*ie-G*j)/(de*2)-b,Be=(G*ce-T*Se)/de,ht=(Z*j-se*ie)/(de*2)-z,$e=(se*Se-Z*ce)/de,at=Be*Be+$e*$e-1,Et=2*(L+fe*Be+ht*$e),Ls=fe*fe+ht*ht-L*L,Ri=-(at?(Et+Math.sqrt(Et*Et-4*at*Ls))/(2*at):Ls/Et);return new o(null,b+fe+Be*Ri,z+ht+$e*Ri,Ri)}function w(E){switch(E.length){case 1:return g(E[0]);case 2:return m(E[0],E[1]);case 3:return v(E[0],E[1],E[2]);default:throw new Error("graphology-layout/circlepack: Invalid basis length "+E.length)}}function S(E,R){var B,b;if(f(R,E))return[R];for(B=0;B<E.length;++B)if(c(R,E[B])&&f(m(E[B],R),E))return[E[B],R];for(B=0;B<E.length-1;++B)for(b=B+1;b<E.length;++b)if(c(m(E[B],E[b]),R)&&c(m(E[B],R),E[b])&&c(m(E[b],R),E[B])&&f(v(E[B],E[b],R),E))return[E[B],E[b],R];throw new Error("graphology-layout/circlepack: extendBasis failure !")}function F(E){var R=E.wrappedCircle,B=E.next.wrappedCircle,b=R.r+B.r,z=(R.x*B.r+B.x*R.r)/b,L=(R.y*B.r+B.y*R.r)/b;return z*z+L*L}function M(E,R){var B=0,b=E.slice(),z=E.length,L=[],re,ae;for(R(b);B<z;)re=b[B],ae&&d(ae,re)?++B:(L=S(L,re),ae=w(L),B=0);return ae}function U(E,R,B){var b=E.x-R.x,z,L,re=E.y-R.y,ae,te,ue=b*b+re*re;ue?(L=R.r+B.r,L*=L,te=E.r+B.r,te*=te,L>te?(z=(ue+te-L)/(2*ue),ae=Math.sqrt(Math.max(0,te/ue-z*z)),B.x=E.x-z*b-ae*re,B.y=E.y-z*re+ae*b):(z=(ue+L-te)/(2*ue),ae=Math.sqrt(Math.max(0,L/ue-z*z)),B.x=R.x+z*b-ae*re,B.y=R.y+z*re+ae*b)):(B.x=R.x+B.r,B.y=R.y)}function Y(E,R){var B=E.r+R.r-1e-6,b=R.x-E.x,z=R.y-E.y;return B>0&&B*B>b*b+z*z}function W(E,R){var B=E.length;if(B===0)return 0;var b,z,L,re,ae,te,ue,ve,Q,se;if(b=E[0],b.x=0,b.y=0,B<=1)return b.r;if(z=E[1],b.x=-z.r,z.x=b.r,z.y=0,B<=2)return b.r+z.r;L=E[2],U(z,b,L),b=new o(null,null,null,null,b),z=new o(null,null,null,null,z),L=new o(null,null,null,null,L),b.next=L.previous=z,z.next=b.previous=L,L.next=z.previous=b;e:for(te=3;te<B;++te){L=E[te],U(b.wrappedCircle,z.wrappedCircle,L),L=new o(null,null,null,null,L),ue=z.next,ve=b.previous,Q=z.wrappedCircle.r,se=b.wrappedCircle.r;do if(Q<=se){if(Y(ue.wrappedCircle,L.wrappedCircle)){z=ue,b.next=z,z.previous=b,--te;continue e}Q+=ue.wrappedCircle.r,ue=ue.next}else{if(Y(ve.wrappedCircle,L.wrappedCircle)){b=ve,b.next=z,z.previous=b,--te;continue e}se+=ve.wrappedCircle.r,ve=ve.previous}while(ue!==ve.next);for(L.previous=b,L.next=z,b.next=z.previous=z=L,re=F(b);(L=L.next)!==z;)(ae=F(L))<re&&(b=L,re=ae);z=b.next}b=[z.wrappedCircle],L=z;for(var Z=1e4;(L=L.next)!==z&&--Z!==0;)b.push(L.wrappedCircle);for(L=M(b,R),te=0;te<B;++te)b=E[te],b.x-=L.x,b.y-=L.y;return L.r}function V(E,R){var B=0;if(E.hasChildren()){for(var b in E.children){var z=E.children[b];z.hasChildren()&&(z.r=V(z,R))}B=W(Object.values(E.children),R)}return B}function k(E,R){V(E,R);for(var B in E.children){var b=E.children[B];b.applyPositionToChildren()}}function A(E,R,B){if(!e(R))throw new Error("graphology-layout/circlepack: the given graph is not a valid graphology instance.");B=r(B,i);var b={},z={},L=R.nodes(),re=B.center,ae=B.hierarchyAttributes,te=t.createShuffleInPlace(B.rng),ue=B.scale,ve=new o;R.forEachNode(function(ce,Se){var N=Se.size?Se.size:1,j=new o(ce,null,null,N),ie=ve;ae.forEach(function(de){var fe=Se[de];ie=ie.getChild(fe)}),ie.addChild(ce,j)}),k(ve,te),l(R,ve,b);var Q=L.length,se,Z,T;for(T=0;T<Q;T++){var G=L[T];se=re+ue*b[G].x,Z=re+ue*b[G].y,z[G]={x:se,y:Z},E&&(R.setNodeAttribute(G,B.attributes.x,se),R.setNodeAttribute(G,B.attributes.y,Z))}return z}var $=A.bind(null,!1);return $.assign=A.bind(null,!0),fd=$,fd}var pd,ly;function Yb(){if(ly)return pd;ly=1;var r=Xl(),e=jo(),t={dimensions:["x","y"],center:.5,scale:1};function i(l,c,d){if(!e(c))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");d=r(d,t);var f=d.dimensions;if(!Array.isArray(f)||f.length!==2)throw new Error("graphology-layout/random: given dimensions are invalid.");var g=d.center,m=d.scale,v=Math.PI*2,w=(g-.5)*m,S=c.order,F=f[0],M=f[1];function U(V,k){return k[F]=m*Math.cos(V*v/S)+w,k[M]=m*Math.sin(V*v/S)+w,k}var Y=0;if(!l){var W={};return c.forEachNode(function(V){W[V]=U(Y++,{})}),W}c.updateEachNodeAttributes(function(V,k){return U(Y++,k),k},{attributes:f})}var o=i.bind(null,!1);return o.assign=i.bind(null,!0),pd=o,pd}var gd,uy;function Kb(){if(uy)return gd;uy=1;var r=Xl(),e=jo(),t={dimensions:["x","y"],center:.5,rng:Math.random,scale:1};function i(l,c,d){if(!e(c))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");d=r(d,t);var f=d.dimensions;if(!Array.isArray(f)||f.length<1)throw new Error("graphology-layout/random: given dimensions are invalid.");var g=f.length,m=d.center,v=d.rng,w=d.scale,S=(m-.5)*w;function F(U){for(var Y=0;Y<g;Y++)U[f[Y]]=v()*w+S;return U}if(!l){var M={};return c.forEachNode(function(U){M[U]=F({})}),M}c.updateEachNodeAttributes(function(U,Y){return F(Y),Y},{attributes:f})}var o=i.bind(null,!1);return o.assign=i.bind(null,!0),gd=o,gd}var yd,cy;function qb(){if(cy)return yd;cy=1;var r=Xl(),e=jo(),t=Math.PI/180,i={dimensions:["x","y"],centeredOnZero:!1,degrees:!1};function o(c,d,f,g){if(!e(d))throw new Error("graphology-layout/rotation: the given graph is not a valid graphology instance.");g=r(g,i),g.degrees&&(f*=t);var m=g.dimensions;if(!Array.isArray(m)||m.length!==2)throw new Error("graphology-layout/random: given dimensions are invalid.");if(d.order===0)return c?void 0:{};var v=m[0],w=m[1],S=0,F=0;if(!g.centeredOnZero){var M=1/0,U=-1/0,Y=1/0,W=-1/0;d.forEachNode(function(E,R){var B=R[v],b=R[w];B<M&&(M=B),B>U&&(U=B),b<Y&&(Y=b),b>W&&(W=b)}),S=(M+U)/2,F=(Y+W)/2}var V=Math.cos(f),k=Math.sin(f);function A(E){var R=E[v],B=E[w];return E[v]=S+(R-S)*V-(B-F)*k,E[w]=F+(R-S)*k+(B-F)*V,E}if(!c){var $={};return d.forEachNode(function(E,R){var B={};B[v]=R[v],B[w]=R[w],$[E]=A(B)}),$}d.updateEachNodeAttributes(function(E,R){return A(R),R},{attributes:m})}var l=o.bind(null,!1);return l.assign=o.bind(null,!0),yd=l,yd}var dy;function Qb(){return dy||(dy=1,is.circlepack=Hb(),is.circular=Yb(),is.random=Kb(),is.rotation=qb()),is}var Zb=Qb(),md={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function Xb(){if(hy)return We;hy=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,g=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,v=r?Symbol.for("react.suspense"):60113,w=r?Symbol.for("react.suspense_list"):60120,S=r?Symbol.for("react.memo"):60115,F=r?Symbol.for("react.lazy"):60116,M=r?Symbol.for("react.block"):60121,U=r?Symbol.for("react.fundamental"):60117,Y=r?Symbol.for("react.responder"):60118,W=r?Symbol.for("react.scope"):60119;function V(A){if(typeof A=="object"&&A!==null){var $=A.$$typeof;switch($){case e:switch(A=A.type,A){case f:case g:case i:case l:case o:case v:return A;default:switch(A=A&&A.$$typeof,A){case d:case m:case F:case S:case c:return A;default:return $}}case t:return $}}}function k(A){return V(A)===g}return We.AsyncMode=f,We.ConcurrentMode=g,We.ContextConsumer=d,We.ContextProvider=c,We.Element=e,We.ForwardRef=m,We.Fragment=i,We.Lazy=F,We.Memo=S,We.Portal=t,We.Profiler=l,We.StrictMode=o,We.Suspense=v,We.isAsyncMode=function(A){return k(A)||V(A)===f},We.isConcurrentMode=k,We.isContextConsumer=function(A){return V(A)===d},We.isContextProvider=function(A){return V(A)===c},We.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},We.isForwardRef=function(A){return V(A)===m},We.isFragment=function(A){return V(A)===i},We.isLazy=function(A){return V(A)===F},We.isMemo=function(A){return V(A)===S},We.isPortal=function(A){return V(A)===t},We.isProfiler=function(A){return V(A)===l},We.isStrictMode=function(A){return V(A)===o},We.isSuspense=function(A){return V(A)===v},We.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===i||A===g||A===l||A===o||A===v||A===w||typeof A=="object"&&A!==null&&(A.$$typeof===F||A.$$typeof===S||A.$$typeof===c||A.$$typeof===d||A.$$typeof===m||A.$$typeof===U||A.$$typeof===Y||A.$$typeof===W||A.$$typeof===M)},We.typeOf=V,We}var fy;function Jb(){return fy||(fy=1,md.exports=Xb()),md.exports}var vd,py;function eS(){if(py)return vd;py=1;var r=Jb(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[r.ForwardRef]=i,l[r.Memo]=o;function c(F){return r.isMemo(F)?o:l[F.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,w=Object.prototype;function S(F,M,U){if(typeof M!="string"){if(w){var Y=v(M);Y&&Y!==w&&S(F,Y,U)}var W=f(M);g&&(W=W.concat(g(M)));for(var V=c(F),k=c(M),A=0;A<W.length;++A){var $=W[A];if(!t[$]&&!(U&&U[$])&&!(k&&k[$])&&!(V&&V[$])){var E=m(M,$);try{d(F,$,E)}catch{}}}}return F}return vd=S,vd}var tS=eS();const nS=qd(tS);var wd={exports:{}},He={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var _d,gy;function rS(){if(gy)return _d;gy=1;var r=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function i(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function o(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var c={},d=0;d<10;d++)c["_"+String.fromCharCode(d)]=d;var f=Object.getOwnPropertyNames(c).map(function(m){return c[m]});if(f.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(m){g[m]=m}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return _d=o()?Object.assign:function(l,c){for(var d,f=i(l),g,m=1;m<arguments.length;m++){d=Object(arguments[m]);for(var v in d)e.call(d,v)&&(f[v]=d[v]);if(r){g=r(d);for(var w=0;w<g.length;w++)t.call(d,g[w])&&(f[g[w]]=d[g[w]])}}return f},_d}/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function iS(){if(yy)return He;yy=1;var r=rS(),e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,i=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,l=e?Symbol.for("react.strict_mode"):60108,c=e?Symbol.for("react.profiler"):60114,d=e?Symbol.for("react.provider"):60109,f=e?Symbol.for("react.context"):60110,g=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,S=typeof Symbol=="function"&&Symbol.iterator;function F(N){for(var j="https://reactjs.org/docs/error-decoder.html?invariant="+N,ie=1;ie<arguments.length;ie++)j+="&args[]="+encodeURIComponent(arguments[ie]);return"Minified React error #"+N+"; visit "+j+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U={};function Y(N,j,ie){this.props=N,this.context=j,this.refs=U,this.updater=ie||M}Y.prototype.isReactComponent={},Y.prototype.setState=function(N,j){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error(F(85));this.updater.enqueueSetState(this,N,j,"setState")},Y.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function W(){}W.prototype=Y.prototype;function V(N,j,ie){this.props=N,this.context=j,this.refs=U,this.updater=ie||M}var k=V.prototype=new W;k.constructor=V,r(k,Y.prototype),k.isPureReactComponent=!0;var A={current:null},$=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function R(N,j,ie){var de,fe={},Be=null,ht=null;if(j!=null)for(de in j.ref!==void 0&&(ht=j.ref),j.key!==void 0&&(Be=""+j.key),j)$.call(j,de)&&!E.hasOwnProperty(de)&&(fe[de]=j[de]);var $e=arguments.length-2;if($e===1)fe.children=ie;else if(1<$e){for(var at=Array($e),Et=0;Et<$e;Et++)at[Et]=arguments[Et+2];fe.children=at}if(N&&N.defaultProps)for(de in $e=N.defaultProps,$e)fe[de]===void 0&&(fe[de]=$e[de]);return{$$typeof:t,type:N,key:Be,ref:ht,props:fe,_owner:A.current}}function B(N,j){return{$$typeof:t,type:N.type,key:j,ref:N.ref,props:N.props,_owner:N._owner}}function b(N){return typeof N=="object"&&N!==null&&N.$$typeof===t}function z(N){var j={"=":"=0",":":"=2"};return"$"+(""+N).replace(/[=:]/g,function(ie){return j[ie]})}var L=/\/+/g,re=[];function ae(N,j,ie,de){if(re.length){var fe=re.pop();return fe.result=N,fe.keyPrefix=j,fe.func=ie,fe.context=de,fe.count=0,fe}return{result:N,keyPrefix:j,func:ie,context:de,count:0}}function te(N){N.result=null,N.keyPrefix=null,N.func=null,N.context=null,N.count=0,10>re.length&&re.push(N)}function ue(N,j,ie,de){var fe=typeof N;(fe==="undefined"||fe==="boolean")&&(N=null);var Be=!1;if(N===null)Be=!0;else switch(fe){case"string":case"number":Be=!0;break;case"object":switch(N.$$typeof){case t:case i:Be=!0}}if(Be)return ie(de,N,j===""?"."+Q(N,0):j),1;if(Be=0,j=j===""?".":j+":",Array.isArray(N))for(var ht=0;ht<N.length;ht++){fe=N[ht];var $e=j+Q(fe,ht);Be+=ue(fe,$e,ie,de)}else if(N===null||typeof N!="object"?$e=null:($e=S&&N[S]||N["@@iterator"],$e=typeof $e=="function"?$e:null),typeof $e=="function")for(N=$e.call(N),ht=0;!(fe=N.next()).done;)fe=fe.value,$e=j+Q(fe,ht++),Be+=ue(fe,$e,ie,de);else if(fe==="object")throw ie=""+N,Error(F(31,ie==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ie,""));return Be}function ve(N,j,ie){return N==null?0:ue(N,"",j,ie)}function Q(N,j){return typeof N=="object"&&N!==null&&N.key!=null?z(N.key):j.toString(36)}function se(N,j){N.func.call(N.context,j,N.count++)}function Z(N,j,ie){var de=N.result,fe=N.keyPrefix;N=N.func.call(N.context,j,N.count++),Array.isArray(N)?T(N,de,ie,function(Be){return Be}):N!=null&&(b(N)&&(N=B(N,fe+(!N.key||j&&j.key===N.key?"":(""+N.key).replace(L,"$&/")+"/")+ie)),de.push(N))}function T(N,j,ie,de,fe){var Be="";ie!=null&&(Be=(""+ie).replace(L,"$&/")+"/"),j=ae(j,Be,de,fe),ve(N,Z,j),te(j)}var G={current:null};function ce(){var N=G.current;if(N===null)throw Error(F(321));return N}var Se={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:A,IsSomeRendererActing:{current:!1},assign:r};return He.Children={map:function(N,j,ie){if(N==null)return N;var de=[];return T(N,de,null,j,ie),de},forEach:function(N,j,ie){if(N==null)return N;j=ae(null,null,j,ie),ve(N,se,j),te(j)},count:function(N){return ve(N,function(){return null},null)},toArray:function(N){var j=[];return T(N,j,null,function(ie){return ie}),j},only:function(N){if(!b(N))throw Error(F(143));return N}},He.Component=Y,He.Fragment=o,He.Profiler=c,He.PureComponent=V,He.StrictMode=l,He.Suspense=m,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Se,He.cloneElement=function(N,j,ie){if(N==null)throw Error(F(267,N));var de=r({},N.props),fe=N.key,Be=N.ref,ht=N._owner;if(j!=null){if(j.ref!==void 0&&(Be=j.ref,ht=A.current),j.key!==void 0&&(fe=""+j.key),N.type&&N.type.defaultProps)var $e=N.type.defaultProps;for(at in j)$.call(j,at)&&!E.hasOwnProperty(at)&&(de[at]=j[at]===void 0&&$e!==void 0?$e[at]:j[at])}var at=arguments.length-2;if(at===1)de.children=ie;else if(1<at){$e=Array(at);for(var Et=0;Et<at;Et++)$e[Et]=arguments[Et+2];de.children=$e}return{$$typeof:t,type:N.type,key:fe,ref:Be,props:de,_owner:ht}},He.createContext=function(N,j){return j===void 0&&(j=null),N={$$typeof:f,_calculateChangedBits:j,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider={$$typeof:d,_context:N},N.Consumer=N},He.createElement=R,He.createFactory=function(N){var j=R.bind(null,N);return j.type=N,j},He.createRef=function(){return{current:null}},He.forwardRef=function(N){return{$$typeof:g,render:N}},He.isValidElement=b,He.lazy=function(N){return{$$typeof:w,_ctor:N,_status:-1,_result:null}},He.memo=function(N,j){return{$$typeof:v,type:N,compare:j===void 0?null:j}},He.useCallback=function(N,j){return ce().useCallback(N,j)},He.useContext=function(N,j){return ce().useContext(N,j)},He.useDebugValue=function(){},He.useEffect=function(N,j){return ce().useEffect(N,j)},He.useImperativeHandle=function(N,j,ie){return ce().useImperativeHandle(N,j,ie)},He.useLayoutEffect=function(N,j){return ce().useLayoutEffect(N,j)},He.useMemo=function(N,j){return ce().useMemo(N,j)},He.useReducer=function(N,j,ie){return ce().useReducer(N,j,ie)},He.useRef=function(N){return ce().useRef(N)},He.useState=function(N){return ce().useState(N)},He.version="16.14.0",He}var my;function sS(){return my||(my=1,wd.exports=iS()),wd.exports}var oS=sS();const as=qd(oS);function xe(r,e,t,i){function o(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(m){try{g(i.next(m))}catch(v){c(v)}}function f(m){try{g(i.throw(m))}catch(v){c(v)}}function g(m){m.done?l(m.value):o(m.value).then(d,f)}g((i=i.apply(r,e||[])).next())})}function vy(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(r){return this instanceof Fe?(this.v=r,this):new Fe(r)}function tr(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(S){return function(F){return Promise.resolve(F).then(S,v)}}function d(S,F){i[S]&&(o[S]=function(M){return new Promise(function(U,Y){l.push([S,M,U,Y])>1||f(S,M)})},F&&(o[S]=F(o[S])))}function f(S,F){try{g(i[S](F))}catch(M){w(l[0][3],M)}}function g(S){S.value instanceof Fe?Promise.resolve(S.value.v).then(m,v):w(l[0][2],S)}function m(S){f("next",S)}function v(S){f("throw",S)}function w(S,F){S(F),l.shift(),l.length&&f(l[0][0],l[0][1])}}function gl(r){var e,t;return e={},i("next"),i("throw",function(o){throw o}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(o,l){e[o]=r[o]?function(c){return(t=!t)?{value:Fe(r[o](c)),done:!1}:l?l(c):c}:l}}function Ii(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof vy=="function"?vy(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(l){t[l]=r[l]&&function(c){return new Promise(function(d,f){c=r[l](c),o(d,f,c.done,c.value)})}}function o(l,c,d,f){Promise.resolve(f).then(function(g){l({value:g,done:d})},c)}}const aS=new TextDecoder("utf-8"),Od=r=>aS.decode(r),lS=new TextEncoder,eh=r=>lS.encode(r),[yA,uS]=(()=>{const r=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw r()}return e.asIntN=()=>{throw r()},e.asUintN=()=>{throw r()},typeof BigInt<"u"?[BigInt,!0]:[e,!1]})(),[Go]=(()=>{const r=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[e,!1]})(),[Vo]=(()=>{const r=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[e,!1]})(),cS=r=>typeof r=="number",um=r=>typeof r=="boolean",_t=r=>typeof r=="function",Jt=r=>r!=null&&Object(r)===r,Xr=r=>Jt(r)&&_t(r.then),Wo=r=>Jt(r)&&_t(r[Symbol.iterator]),Is=r=>Jt(r)&&_t(r[Symbol.asyncIterator]),Bd=r=>Jt(r)&&Jt(r.schema),cm=r=>Jt(r)&&"done"in r&&"value"in r,dm=r=>Jt(r)&&_t(r.stat)&&cS(r.fd),hm=r=>Jt(r)&&th(r.body),Jl=r=>"_getDOMStream"in r&&"_getNodeStream"in r,dS=r=>Jt(r)&&_t(r.abort)&&_t(r.getWriter)&&!Jl(r),th=r=>Jt(r)&&_t(r.cancel)&&_t(r.getReader)&&!Jl(r),hS=r=>Jt(r)&&_t(r.end)&&_t(r.write)&&um(r.writable)&&!Jl(r),fm=r=>Jt(r)&&_t(r.read)&&_t(r.pipe)&&um(r.readable)&&!Jl(r),fS=r=>Jt(r)&&_t(r.clear)&&_t(r.bytes)&&_t(r.position)&&_t(r.setPosition)&&_t(r.capacity)&&_t(r.getBufferIdentifier)&&_t(r.createLong),nh=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function pS(r){const e=r[0]?[r[0]]:[];let t,i,o,l;for(let c,d,f=0,g=0,m=r.length;++f<m;){if(c=e[g],d=r[f],!c||!d||c.buffer!==d.buffer||d.byteOffset<c.byteOffset){d&&(e[++g]=d);continue}if({byteOffset:t,byteLength:o}=c,{byteOffset:i,byteLength:l}=d,t+o<i||i+l<t){d&&(e[++g]=d);continue}e[g]=new Uint8Array(c.buffer,t,i-t+l)}return e}function wy(r,e,t=0,i=e.byteLength){const o=r.byteLength,l=new Uint8Array(r.buffer,r.byteOffset,o),c=new Uint8Array(e.buffer,e.byteOffset,Math.min(i,o));return l.set(c,t),r}function rr(r,e){const t=pS(r),i=t.reduce((m,v)=>m+v.byteLength,0);let o,l,c,d=0,f=-1;const g=Math.min(e||Number.POSITIVE_INFINITY,i);for(const m=t.length;++f<m;){if(o=t[f],l=o.subarray(0,Math.min(o.length,g-d)),g<=d+l.length){l.length<o.length?t[f]=o.subarray(l.length):l.length===o.length&&f++,c?wy(c,l,d):c=l;break}wy(c||(c=new Uint8Array(g)),l,d),d+=l.length}return[c||new Uint8Array(0),t.slice(f),i-(c?c.byteLength:0)]}function Je(r,e){let t=cm(e)?e.value:e;return t instanceof r?r===Uint8Array?new r(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=eh(t)),t instanceof ArrayBuffer?new r(t):t instanceof nh?new r(t):fS(t)?Je(r,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new r(0):new r(t.buffer,t.byteOffset,t.byteLength/r.BYTES_PER_ELEMENT):r.from(t)):new r(0)}const Ao=r=>Je(Int32Array,r),Ge=r=>Je(Uint8Array,r),Md=r=>(r.next(),r);function*gS(r,e){const t=function*(o){yield o},i=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof nh?t(e):Wo(e)?e:t(e);return yield*Md((function*(o){let l=null;do l=o.next(yield Je(r,l));while(!l.done)})(i[Symbol.iterator]())),new r}const yS=r=>gS(Uint8Array,r);function pm(r,e){return tr(this,arguments,function*(){if(Xr(e))return yield Fe(yield Fe(yield*gl(Ii(pm(r,yield Fe(e))))));const i=function(c){return tr(this,arguments,function*(){yield yield Fe(yield Fe(c))})},o=function(c){return tr(this,arguments,function*(){yield Fe(yield*gl(Ii(Md((function*(d){let f=null;do f=d.next(yield f==null?void 0:f.value);while(!f.done)})(c[Symbol.iterator]())))))})},l=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof nh?i(e):Wo(e)?o(e):Is(e)?e:i(e);return yield Fe(yield*gl(Ii(Md((function(c){return tr(this,arguments,function*(){let d=null;do d=yield Fe(c.next(yield yield Fe(Je(r,d))));while(!d.done)})})(l[Symbol.asyncIterator]()))))),yield Fe(new r)})}const mS=r=>pm(Uint8Array,r);function rh(r,e,t){if(r!==0){t=t.slice(0,e+1);for(let i=-1;++i<=e;)t[i]+=r}return t}function vS(r,e){let t=0;const i=r.length;if(i!==e.length)return!1;if(i>0)do if(r[t]!==e[t])return!1;while(++t<i);return!0}const _n={fromIterable(r){return cl(wS(r))},fromAsyncIterable(r){return cl(_S(r))},fromDOMStream(r){return cl(bS(r))},fromNodeStream(r){return cl(ES(r))},toDOMStream(r,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,e){throw new Error('"toNodeStream" not available in this environment')}},cl=r=>(r.next(),r);function*wS(r){let e,t=!1,i=[],o,l,c,d=0;function f(){return l==="peek"?rr(i,c)[0]:([o,i,d]=rr(i,c),o)}({cmd:l,size:c}=yield null);const g=yS(r)[Symbol.iterator]();try{do if({done:e,value:o}=Number.isNaN(c-d)?g.next():g.next(c-d),!e&&o.byteLength>0&&(i.push(o),d+=o.byteLength),e||c<=d)do({cmd:l,size:c}=yield f());while(c<d);while(!e)}catch(m){(t=!0)&&typeof g.throw=="function"&&g.throw(m)}finally{t===!1&&typeof g.return=="function"&&g.return(null)}return null}function _S(r){return tr(this,arguments,function*(){let t,i=!1,o=[],l,c,d,f=0;function g(){return c==="peek"?rr(o,d)[0]:([l,o,f]=rr(o,d),l)}({cmd:c,size:d}=yield yield Fe(null));const m=mS(r)[Symbol.asyncIterator]();try{do if({done:t,value:l}=Number.isNaN(d-f)?yield Fe(m.next()):yield Fe(m.next(d-f)),!t&&l.byteLength>0&&(o.push(l),f+=l.byteLength),t||d<=f)do({cmd:c,size:d}=yield yield Fe(g()));while(d<f);while(!t)}catch(v){(i=!0)&&typeof m.throw=="function"&&(yield Fe(m.throw(v)))}finally{i===!1&&typeof m.return=="function"&&(yield Fe(m.return(new Uint8Array(0))))}return yield Fe(null)})}function bS(r){return tr(this,arguments,function*(){let t=!1,i=!1,o=[],l,c,d,f=0;function g(){return c==="peek"?rr(o,d)[0]:([l,o,f]=rr(o,d),l)}({cmd:c,size:d}=yield yield Fe(null));const m=new SS(r);try{do if({done:t,value:l}=Number.isNaN(d-f)?yield Fe(m.read()):yield Fe(m.read(d-f)),!t&&l.byteLength>0&&(o.push(Ge(l)),f+=l.byteLength),t||d<=f)do({cmd:c,size:d}=yield yield Fe(g()));while(d<f);while(!t)}catch(v){(i=!0)&&(yield Fe(m.cancel(v)))}finally{i===!1?yield Fe(m.cancel()):r.locked&&m.releaseLock()}return yield Fe(null)})}class SS{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return xe(this,void 0,void 0,function*(){const{reader:t,source:i}=this;t&&(yield t.cancel(e).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(e){return xe(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const t=yield this.reader.read();return!t.done&&(t.value=Ge(t)),t})}}const bd=(r,e)=>{const t=o=>i([e,o]);let i;return[e,t,new Promise(o=>(i=o)&&r.once(e,t))]};function ES(r){return tr(this,arguments,function*(){const t=[];let i="error",o=!1,l=null,c,d,f=0,g=[],m;function v(){return c==="peek"?rr(g,d)[0]:([m,g,f]=rr(g,d),m)}if({cmd:c,size:d}=yield yield Fe(null),r.isTTY)return yield yield Fe(new Uint8Array(0)),yield Fe(null);try{t[0]=bd(r,"end"),t[1]=bd(r,"error");do{if(t[2]=bd(r,"readable"),[i,l]=yield Fe(Promise.race(t.map(S=>S[2]))),i==="error")break;if((o=i==="end")||(Number.isFinite(d-f)?(m=Ge(r.read(d-f)),m.byteLength<d-f&&(m=Ge(r.read()))):m=Ge(r.read()),m.byteLength>0&&(g.push(m),f+=m.byteLength)),o||d<=f)do({cmd:c,size:d}=yield yield Fe(v()));while(d<f)}while(!o)}finally{yield Fe(w(t,i==="error"?l:null))}return yield Fe(null);function w(S,F){return m=g=null,new Promise((M,U)=>{for(const[Y,W]of S)r.off(Y,W);try{const Y=r.destroy;Y&&Y.call(r,F),F=void 0}catch(Y){F=Y||F}finally{F!=null?U(F):M()}})}})}var un;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(un||(un={}));var cn;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(cn||(cn={}));var Xt;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(Xt||(Xt={}));var Ar;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(Ar||(Ar={}));var Ve;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(Ve||(Ve={}));var Jr;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Jr||(Jr={}));var Ye;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(Ye||(Ye={}));var C;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth"})(C||(C={}));var yr;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(yr||(yr={}));const xS=void 0;function Fo(r){if(r===null)return"null";if(r===xS)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?r instanceof Go||r instanceof Vo?`[${[...r].map(e=>Fo(e))}]`:`[${r}]`:ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r,(e,t)=>typeof t=="bigint"?`${t}`:t)}const AS=Symbol.for("isArrowBigNum");function Un(r,...e){return e.length===0?Object.setPrototypeOf(Je(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...e),this.constructor.prototype)}Un.prototype[AS]=!0;Un.prototype.toJSON=function(){return`"${Ci(this)}"`};Un.prototype.valueOf=function(){return gm(this)};Un.prototype.toString=function(){return Ci(this)};Un.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return gm(this);case"string":return Ci(this);case"default":return Pd(this)}return Ci(this)};function ps(...r){return Un.apply(this,r)}function gs(...r){return Un.apply(this,r)}function Oo(...r){return Un.apply(this,r)}Object.setPrototypeOf(ps.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(gs.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Oo.prototype,Object.create(Uint32Array.prototype));Object.assign(ps.prototype,Un.prototype,{constructor:ps,signed:!0,TypedArray:Int32Array,BigIntArray:Go});Object.assign(gs.prototype,Un.prototype,{constructor:gs,signed:!1,TypedArray:Uint32Array,BigIntArray:Vo});Object.assign(Oo.prototype,Un.prototype,{constructor:Oo,signed:!0,TypedArray:Uint32Array,BigIntArray:Vo});function gm(r){const{buffer:e,byteOffset:t,length:i,signed:o}=r,l=new Vo(e,t,i),c=o&&l[l.length-1]&BigInt(1)<<BigInt(63);let d=BigInt(c?1:0),f=BigInt(0);if(c){for(const g of l)d+=~g*(BigInt(1)<<BigInt(32)*f++);d*=BigInt(-1)}else for(const g of l)d+=g*(BigInt(1)<<BigInt(32)*f++);return d}let Ci,Pd;uS?(Pd=(r=>r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:Sd(r)),Ci=(r=>r.byteLength===8?`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`:Sd(r))):(Ci=Sd,Pd=Ci);function Sd(r){let e="";const t=new Uint32Array(2);let i=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);const o=new Uint32Array((i=new Uint16Array(i).reverse()).buffer);let l=-1;const c=i.length-1;do{for(t[0]=i[l=0];l<c;)i[l++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+i[l];i[l]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(o[0]||o[1]||o[2]||o[3]);return e??"0"}class ih{static new(e,t){switch(t){case!0:return new ps(e);case!1:return new gs(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case Go:return new ps(e)}return e.byteLength===16?new Oo(e):new gs(e)}static signed(e){return new ps(e)}static unsigned(e){return new gs(e)}static decimal(e){return new Oo(e)}constructor(e,t){return ih.new(e,t)}}var ym,mm,vm,wm,_m,bm,Sm,Em,xm,Am,Nm,Tm,Im,Cm,km,Dm,Rm,Lm,Fm;class Ae{static isNull(e){return(e==null?void 0:e.typeId)===C.Null}static isInt(e){return(e==null?void 0:e.typeId)===C.Int}static isFloat(e){return(e==null?void 0:e.typeId)===C.Float}static isBinary(e){return(e==null?void 0:e.typeId)===C.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===C.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===C.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===C.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===C.Date}static isTime(e){return(e==null?void 0:e.typeId)===C.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===C.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===C.Interval}static isList(e){return(e==null?void 0:e.typeId)===C.List}static isStruct(e){return(e==null?void 0:e.typeId)===C.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===C.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===C.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===C.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===C.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===C.Dictionary}static isDenseUnion(e){return Ae.isUnion(e)&&e.mode===cn.Dense}static isSparseUnion(e){return Ae.isUnion(e)&&e.mode===cn.Sparse}get typeId(){return C.NONE}}ym=Symbol.toStringTag;Ae[ym]=(r=>(r.children=null,r.ArrayType=Array,r[Symbol.toStringTag]="DataType"))(Ae.prototype);let ei=class extends Ae{toString(){return"Null"}get typeId(){return C.Null}};mm=Symbol.toStringTag;ei[mm]=(r=>r[Symbol.toStringTag]="Null")(ei.prototype);class ti extends Ae{constructor(e,t){super(),this.isSigned=e,this.bitWidth=t}get typeId(){return C.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?Go:Vo}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}vm=Symbol.toStringTag;ti[vm]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(ti.prototype);class Bo extends ti{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Bo.prototype,"ArrayType",{value:Int32Array});class Mo extends Ae{constructor(e){super(),this.precision=e}get typeId(){return C.Float}get ArrayType(){switch(this.precision){case Xt.HALF:return Uint16Array;case Xt.SINGLE:return Float32Array;case Xt.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}wm=Symbol.toStringTag;Mo[wm]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(Mo.prototype);let Sl=class extends Ae{constructor(){super()}get typeId(){return C.Binary}toString(){return"Binary"}};_m=Symbol.toStringTag;Sl[_m]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))(Sl.prototype);let El=class extends Ae{constructor(){super()}get typeId(){return C.Utf8}toString(){return"Utf8"}};bm=Symbol.toStringTag;El[bm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))(El.prototype);let xl=class extends Ae{constructor(){super()}get typeId(){return C.Bool}toString(){return"Bool"}};Sm=Symbol.toStringTag;xl[Sm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(xl.prototype);let Al=class extends Ae{constructor(e,t,i=128){super(),this.scale=e,this.precision=t,this.bitWidth=i}get typeId(){return C.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Em=Symbol.toStringTag;Al[Em]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(Al.prototype);class Nl extends Ae{constructor(e){super(),this.unit=e}get typeId(){return C.Date}toString(){return`Date${(this.unit+1)*32}<${Ar[this.unit]}>`}}xm=Symbol.toStringTag;Nl[xm]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Date"))(Nl.prototype);class Po extends Ae{constructor(e,t){super(),this.unit=e,this.bitWidth=t}get typeId(){return C.Time}toString(){return`Time${this.bitWidth}<${Ve[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return Go}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}Am=Symbol.toStringTag;Po[Am]=(r=>(r.unit=null,r.bitWidth=null,r[Symbol.toStringTag]="Time"))(Po.prototype);class Tl extends Ae{constructor(e,t){super(),this.unit=e,this.timezone=t}get typeId(){return C.Timestamp}toString(){return`Timestamp<${Ve[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}Nm=Symbol.toStringTag;Tl[Nm]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Timestamp"))(Tl.prototype);class Il extends Ae{constructor(e){super(),this.unit=e}get typeId(){return C.Interval}toString(){return`Interval<${Jr[this.unit]}>`}}Tm=Symbol.toStringTag;Il[Tm]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(Il.prototype);let Cl=class extends Ae{constructor(e){super(),this.children=[e]}get typeId(){return C.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};Im=Symbol.toStringTag;Cl[Im]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(Cl.prototype);class Ut extends Ae{constructor(e){super(),this.children=e}get typeId(){return C.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}Cm=Symbol.toStringTag;Ut[Cm]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))(Ut.prototype);class kl extends Ae{constructor(e,t,i){super(),this.mode=e,this.children=i,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((o,l,c)=>(o[l]=c)&&o||o,Object.create(null))}get typeId(){return C.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}km=Symbol.toStringTag;kl[km]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(kl.prototype);let Dl=class extends Ae{constructor(e){super(),this.byteWidth=e}get typeId(){return C.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Dm=Symbol.toStringTag;Dl[Dm]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(Dl.prototype);let Rl=class extends Ae{constructor(e,t){super(),this.listSize=e,this.children=[t]}get typeId(){return C.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Rm=Symbol.toStringTag;Rl[Rm]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(Rl.prototype);class Ll extends Ae{constructor(e,t=!1){super(),this.children=[e],this.keysSorted=t}get typeId(){return C.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}Lm=Symbol.toStringTag;Ll[Lm]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))(Ll.prototype);const NS=(r=>()=>++r)(-1);class bs extends Ae{constructor(e,t,i,o){super(),this.indices=t,this.dictionary=e,this.isOrdered=o||!1,this.id=i==null?NS():typeof i=="number"?i:i.low}get typeId(){return C.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}Fm=Symbol.toStringTag;bs[Fm]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(bs.prototype);function mr(r){const e=r;switch(r.typeId){case C.Decimal:return r.bitWidth/32;case C.Timestamp:return 2;case C.Date:return 1+e.unit;case C.Interval:return 1+e.unit;case C.FixedSizeList:return e.listSize;case C.FixedSizeBinary:return e.byteWidth;default:return 1}}class ze{visitMany(e,...t){return e.map((i,o)=>this.visit(i,...t.map(l=>l[o])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return TS(this,e,t)}getVisitFnByTypeId(e,t=!0){return ls(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}}function TS(r,e,t=!0){return typeof e=="number"?ls(r,e,t):typeof e=="string"&&e in C?ls(r,C[e],t):e&&e instanceof Ae?ls(r,_y(e),t):e!=null&&e.type&&e.type instanceof Ae?ls(r,_y(e.type),t):ls(r,C.NONE,t)}function ls(r,e,t=!0){let i=null;switch(e){case C.Null:i=r.visitNull;break;case C.Bool:i=r.visitBool;break;case C.Int:i=r.visitInt;break;case C.Int8:i=r.visitInt8||r.visitInt;break;case C.Int16:i=r.visitInt16||r.visitInt;break;case C.Int32:i=r.visitInt32||r.visitInt;break;case C.Int64:i=r.visitInt64||r.visitInt;break;case C.Uint8:i=r.visitUint8||r.visitInt;break;case C.Uint16:i=r.visitUint16||r.visitInt;break;case C.Uint32:i=r.visitUint32||r.visitInt;break;case C.Uint64:i=r.visitUint64||r.visitInt;break;case C.Float:i=r.visitFloat;break;case C.Float16:i=r.visitFloat16||r.visitFloat;break;case C.Float32:i=r.visitFloat32||r.visitFloat;break;case C.Float64:i=r.visitFloat64||r.visitFloat;break;case C.Utf8:i=r.visitUtf8;break;case C.Binary:i=r.visitBinary;break;case C.FixedSizeBinary:i=r.visitFixedSizeBinary;break;case C.Date:i=r.visitDate;break;case C.DateDay:i=r.visitDateDay||r.visitDate;break;case C.DateMillisecond:i=r.visitDateMillisecond||r.visitDate;break;case C.Timestamp:i=r.visitTimestamp;break;case C.TimestampSecond:i=r.visitTimestampSecond||r.visitTimestamp;break;case C.TimestampMillisecond:i=r.visitTimestampMillisecond||r.visitTimestamp;break;case C.TimestampMicrosecond:i=r.visitTimestampMicrosecond||r.visitTimestamp;break;case C.TimestampNanosecond:i=r.visitTimestampNanosecond||r.visitTimestamp;break;case C.Time:i=r.visitTime;break;case C.TimeSecond:i=r.visitTimeSecond||r.visitTime;break;case C.TimeMillisecond:i=r.visitTimeMillisecond||r.visitTime;break;case C.TimeMicrosecond:i=r.visitTimeMicrosecond||r.visitTime;break;case C.TimeNanosecond:i=r.visitTimeNanosecond||r.visitTime;break;case C.Decimal:i=r.visitDecimal;break;case C.List:i=r.visitList;break;case C.Struct:i=r.visitStruct;break;case C.Union:i=r.visitUnion;break;case C.DenseUnion:i=r.visitDenseUnion||r.visitUnion;break;case C.SparseUnion:i=r.visitSparseUnion||r.visitUnion;break;case C.Dictionary:i=r.visitDictionary;break;case C.Interval:i=r.visitInterval;break;case C.IntervalDayTime:i=r.visitIntervalDayTime||r.visitInterval;break;case C.IntervalYearMonth:i=r.visitIntervalYearMonth||r.visitInterval;break;case C.FixedSizeList:i=r.visitFixedSizeList;break;case C.Map:i=r.visitMap;break}if(typeof i=="function")return i;if(!t)return()=>null;throw new Error(`Unrecognized type '${C[e]}'`)}function _y(r){switch(r.typeId){case C.Null:return C.Null;case C.Int:{const{bitWidth:e,isSigned:t}=r;switch(e){case 8:return t?C.Int8:C.Uint8;case 16:return t?C.Int16:C.Uint16;case 32:return t?C.Int32:C.Uint32;case 64:return t?C.Int64:C.Uint64}return C.Int}case C.Float:switch(r.precision){case Xt.HALF:return C.Float16;case Xt.SINGLE:return C.Float32;case Xt.DOUBLE:return C.Float64}return C.Float;case C.Binary:return C.Binary;case C.Utf8:return C.Utf8;case C.Bool:return C.Bool;case C.Decimal:return C.Decimal;case C.Time:switch(r.unit){case Ve.SECOND:return C.TimeSecond;case Ve.MILLISECOND:return C.TimeMillisecond;case Ve.MICROSECOND:return C.TimeMicrosecond;case Ve.NANOSECOND:return C.TimeNanosecond}return C.Time;case C.Timestamp:switch(r.unit){case Ve.SECOND:return C.TimestampSecond;case Ve.MILLISECOND:return C.TimestampMillisecond;case Ve.MICROSECOND:return C.TimestampMicrosecond;case Ve.NANOSECOND:return C.TimestampNanosecond}return C.Timestamp;case C.Date:switch(r.unit){case Ar.DAY:return C.DateDay;case Ar.MILLISECOND:return C.DateMillisecond}return C.Date;case C.Interval:switch(r.unit){case Jr.DAY_TIME:return C.IntervalDayTime;case Jr.YEAR_MONTH:return C.IntervalYearMonth}return C.Interval;case C.Map:return C.Map;case C.List:return C.List;case C.Struct:return C.Struct;case C.Union:switch(r.mode){case cn.Dense:return C.DenseUnion;case cn.Sparse:return C.SparseUnion}return C.Union;case C.FixedSizeBinary:return C.FixedSizeBinary;case C.FixedSizeList:return C.FixedSizeList;case C.Dictionary:return C.Dictionary}throw new Error(`Unrecognized type '${C[r.typeId]}'`)}ze.prototype.visitInt8=null;ze.prototype.visitInt16=null;ze.prototype.visitInt32=null;ze.prototype.visitInt64=null;ze.prototype.visitUint8=null;ze.prototype.visitUint16=null;ze.prototype.visitUint32=null;ze.prototype.visitUint64=null;ze.prototype.visitFloat16=null;ze.prototype.visitFloat32=null;ze.prototype.visitFloat64=null;ze.prototype.visitDateDay=null;ze.prototype.visitDateMillisecond=null;ze.prototype.visitTimestampSecond=null;ze.prototype.visitTimestampMillisecond=null;ze.prototype.visitTimestampMicrosecond=null;ze.prototype.visitTimestampNanosecond=null;ze.prototype.visitTimeSecond=null;ze.prototype.visitTimeMillisecond=null;ze.prototype.visitTimeMicrosecond=null;ze.prototype.visitTimeNanosecond=null;ze.prototype.visitDenseUnion=null;ze.prototype.visitSparseUnion=null;ze.prototype.visitIntervalDayTime=null;ze.prototype.visitIntervalYearMonth=null;const Om=new Float64Array(1),ss=new Uint32Array(Om.buffer);function Bm(r){const e=(r&31744)>>10,t=(r&1023)/1024,i=Math.pow(-1,(r&32768)>>15);switch(e){case 31:return i*(t?Number.NaN:1/0);case 0:return i*(t?6103515625e-14*t:0)}return i*Math.pow(2,e-15)*(1+t)}function IS(r){if(r!==r)return 32256;Om[0]=r;const e=(ss[1]&2147483648)>>16&65535;let t=ss[1]&2146435072,i=0;return t>=1089470464?ss[0]>0?t=31744:(t=(t&2080374784)>>16,i=(ss[1]&1048575)>>10):t<=1056964608?(i=1048576+(ss[1]&1048575),i=1048576+(i<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,i=(ss[1]&1048575)+512>>10),e|t|i&65535}class ke extends ze{}function Le(r){return(e,t,i)=>{if(e.setValid(t,i!=null))return r(e,t,i)}}const CS=(r,e,t)=>{r[e]=Math.trunc(t/864e5)},sh=(r,e,t)=>{r[e]=Math.trunc(t%4294967296),r[e+1]=Math.trunc(t/4294967296)},kS=(r,e,t)=>{r[e]=Math.trunc(t*1e3%4294967296),r[e+1]=Math.trunc(t*1e3/4294967296)},DS=(r,e,t)=>{r[e]=Math.trunc(t*1e6%4294967296),r[e+1]=Math.trunc(t*1e6/4294967296)},Mm=(r,e,t,i)=>{if(t+1<e.length){const{[t]:o,[t+1]:l}=e;r.set(i.subarray(0,l-o),o)}},RS=({offset:r,values:e},t,i)=>{const o=r+t;i?e[o>>3]|=1<<o%8:e[o>>3]&=~(1<<o%8)},Nr=({values:r},e,t)=>{r[e]=t},oh=({values:r},e,t)=>{r[e]=t},Pm=({values:r},e,t)=>{r[e]=IS(t)},LS=(r,e,t)=>{switch(r.type.precision){case Xt.HALF:return Pm(r,e,t);case Xt.SINGLE:case Xt.DOUBLE:return oh(r,e,t)}},zm=({values:r},e,t)=>{CS(r,e,t.valueOf())},Um=({values:r},e,t)=>{sh(r,e*2,t.valueOf())},FS=({stride:r,values:e},t,i)=>{e.set(i.subarray(0,r),r*t)},OS=({values:r,valueOffsets:e},t,i)=>Mm(r,e,t,i),BS=({values:r,valueOffsets:e},t,i)=>{Mm(r,e,t,eh(i))},MS=(r,e,t)=>{r.type.unit===Ar.DAY?zm(r,e,t):Um(r,e,t)},$m=({values:r},e,t)=>sh(r,e*2,t/1e3),jm=({values:r},e,t)=>sh(r,e*2,t),Gm=({values:r},e,t)=>kS(r,e*2,t),Vm=({values:r},e,t)=>DS(r,e*2,t),PS=(r,e,t)=>{switch(r.type.unit){case Ve.SECOND:return $m(r,e,t);case Ve.MILLISECOND:return jm(r,e,t);case Ve.MICROSECOND:return Gm(r,e,t);case Ve.NANOSECOND:return Vm(r,e,t)}},Wm=({values:r},e,t)=>{r[e]=t},Hm=({values:r},e,t)=>{r[e]=t},Ym=({values:r},e,t)=>{r[e]=t},Km=({values:r},e,t)=>{r[e]=t},zS=(r,e,t)=>{switch(r.type.unit){case Ve.SECOND:return Wm(r,e,t);case Ve.MILLISECOND:return Hm(r,e,t);case Ve.MICROSECOND:return Ym(r,e,t);case Ve.NANOSECOND:return Km(r,e,t)}},US=({values:r,stride:e},t,i)=>{r.set(i.subarray(0,e),e*t)},$S=(r,e,t)=>{const i=r.children[0],o=r.valueOffsets,l=xn.getVisitFn(i);if(Array.isArray(t))for(let c=-1,d=o[e],f=o[e+1];d<f;)l(i,d++,t[++c]);else for(let c=-1,d=o[e],f=o[e+1];d<f;)l(i,d++,t.get(++c))},jS=(r,e,t)=>{const i=r.children[0],{valueOffsets:o}=r,l=xn.getVisitFn(i);let{[e]:c,[e+1]:d}=o;const f=t instanceof Map?t.entries():Object.entries(t);for(const g of f)if(l(i,c,g),++c>=d)break},GS=(r,e)=>(t,i,o,l)=>i&&t(i,r,e[l]),VS=(r,e)=>(t,i,o,l)=>i&&t(i,r,e.get(l)),WS=(r,e)=>(t,i,o,l)=>i&&t(i,r,e.get(o.name)),HS=(r,e)=>(t,i,o,l)=>i&&t(i,r,e[o.name]),YS=(r,e,t)=>{const i=r.type.children.map(l=>xn.getVisitFn(l.type)),o=t instanceof Map?WS(e,t):t instanceof Ke?VS(e,t):Array.isArray(t)?GS(e,t):HS(e,t);r.type.children.forEach((l,c)=>o(i[c],r.children[c],l,c))},KS=(r,e,t)=>{r.type.mode===cn.Dense?qm(r,e,t):Qm(r,e,t)},qm=(r,e,t)=>{const i=r.type.typeIdToChildIndex[r.typeIds[e]],o=r.children[i];xn.visit(o,r.valueOffsets[e],t)},Qm=(r,e,t)=>{const i=r.type.typeIdToChildIndex[r.typeIds[e]],o=r.children[i];xn.visit(o,e,t)},qS=(r,e,t)=>{var i;(i=r.dictionary)===null||i===void 0||i.set(r.values[e],t)},QS=(r,e,t)=>{r.type.unit===Jr.DAY_TIME?Zm(r,e,t):Xm(r,e,t)},Zm=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},Xm=({values:r},e,t)=>{r[e]=t[0]*12+t[1]%12},ZS=(r,e,t)=>{const{stride:i}=r,o=r.children[0],l=xn.getVisitFn(o);if(Array.isArray(t))for(let c=-1,d=e*i;++c<i;)l(o,d+c,t[c]);else for(let c=-1,d=e*i;++c<i;)l(o,d+c,t.get(c))};ke.prototype.visitBool=Le(RS);ke.prototype.visitInt=Le(Nr);ke.prototype.visitInt8=Le(Nr);ke.prototype.visitInt16=Le(Nr);ke.prototype.visitInt32=Le(Nr);ke.prototype.visitInt64=Le(Nr);ke.prototype.visitUint8=Le(Nr);ke.prototype.visitUint16=Le(Nr);ke.prototype.visitUint32=Le(Nr);ke.prototype.visitUint64=Le(Nr);ke.prototype.visitFloat=Le(LS);ke.prototype.visitFloat16=Le(Pm);ke.prototype.visitFloat32=Le(oh);ke.prototype.visitFloat64=Le(oh);ke.prototype.visitUtf8=Le(BS);ke.prototype.visitBinary=Le(OS);ke.prototype.visitFixedSizeBinary=Le(FS);ke.prototype.visitDate=Le(MS);ke.prototype.visitDateDay=Le(zm);ke.prototype.visitDateMillisecond=Le(Um);ke.prototype.visitTimestamp=Le(PS);ke.prototype.visitTimestampSecond=Le($m);ke.prototype.visitTimestampMillisecond=Le(jm);ke.prototype.visitTimestampMicrosecond=Le(Gm);ke.prototype.visitTimestampNanosecond=Le(Vm);ke.prototype.visitTime=Le(zS);ke.prototype.visitTimeSecond=Le(Wm);ke.prototype.visitTimeMillisecond=Le(Hm);ke.prototype.visitTimeMicrosecond=Le(Ym);ke.prototype.visitTimeNanosecond=Le(Km);ke.prototype.visitDecimal=Le(US);ke.prototype.visitList=Le($S);ke.prototype.visitStruct=Le(YS);ke.prototype.visitUnion=Le(KS);ke.prototype.visitDenseUnion=Le(qm);ke.prototype.visitSparseUnion=Le(Qm);ke.prototype.visitDictionary=Le(qS);ke.prototype.visitInterval=Le(QS);ke.prototype.visitIntervalDayTime=Le(Zm);ke.prototype.visitIntervalYearMonth=Le(Xm);ke.prototype.visitFixedSizeList=Le(ZS);ke.prototype.visitMap=Le(jS);const xn=new ke,Bn=Symbol.for("parent"),ys=Symbol.for("rowIndex");class ah{constructor(e,t){return this[Bn]=e,this[ys]=t,new Proxy(this,new JS)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[ys],t=this[Bn],i=t.type.children,o={};for(let l=-1,c=i.length;++l<c;)o[i[l].name]=en.visit(t.children[l],e);return o}toString(){return`{${[...this].map(([e,t])=>`${Fo(e)}: ${Fo(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new XS(this[Bn],this[ys])}}class XS{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,en.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(ah.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Bn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ys]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class JS{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Bn].type.children.map(t=>t.name)}has(e,t){return e[Bn].type.children.findIndex(i=>i.name===t)!==-1}getOwnPropertyDescriptor(e,t){if(e[Bn].type.children.findIndex(i=>i.name===t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const i=e[Bn].type.children.findIndex(o=>o.name===t);if(i!==-1){const o=en.visit(e[Bn].children[i],e[ys]);return Reflect.set(e,t,o),o}}set(e,t,i){const o=e[Bn].type.children.findIndex(l=>l.name===t);return o!==-1?(xn.visit(e[Bn].children[o],e[ys],i),Reflect.set(e,t,i)):Reflect.has(e,t)||typeof t=="symbol"?Reflect.set(e,t,i):!1}}class Ne extends ze{}function De(r){return(e,t)=>e.getValid(t)?r(e,t):null}const e1=(r,e)=>864e5*r[e],lh=(r,e)=>4294967296*r[e+1]+(r[e]>>>0),t1=(r,e)=>4294967296*(r[e+1]/1e3)+(r[e]>>>0)/1e3,n1=(r,e)=>4294967296*(r[e+1]/1e6)+(r[e]>>>0)/1e6,Jm=r=>new Date(r),r1=(r,e)=>Jm(e1(r,e)),i1=(r,e)=>Jm(lh(r,e)),s1=(r,e)=>null,ev=(r,e,t)=>{if(t+1>=e.length)return null;const i=e[t],o=e[t+1];return r.subarray(i,o)},o1=({offset:r,values:e},t)=>{const i=r+t;return(e[i>>3]&1<<i%8)!==0},tv=({values:r},e)=>r1(r,e),nv=({values:r},e)=>i1(r,e*2),ii=({stride:r,values:e},t)=>e[r*t],a1=({stride:r,values:e},t)=>Bm(e[r*t]),rv=({values:r},e)=>r[e],l1=({stride:r,values:e},t)=>e.subarray(r*t,r*(t+1)),u1=({values:r,valueOffsets:e},t)=>ev(r,e,t),c1=({values:r,valueOffsets:e},t)=>{const i=ev(r,e,t);return i!==null?Od(i):null},d1=({values:r},e)=>r[e],h1=({type:r,values:e},t)=>r.precision!==Xt.HALF?e[t]:Bm(e[t]),f1=(r,e)=>r.type.unit===Ar.DAY?tv(r,e):nv(r,e),iv=({values:r},e)=>1e3*lh(r,e*2),sv=({values:r},e)=>lh(r,e*2),ov=({values:r},e)=>t1(r,e*2),av=({values:r},e)=>n1(r,e*2),p1=(r,e)=>{switch(r.type.unit){case Ve.SECOND:return iv(r,e);case Ve.MILLISECOND:return sv(r,e);case Ve.MICROSECOND:return ov(r,e);case Ve.NANOSECOND:return av(r,e)}},lv=({values:r},e)=>r[e],uv=({values:r},e)=>r[e],cv=({values:r},e)=>r[e],dv=({values:r},e)=>r[e],g1=(r,e)=>{switch(r.type.unit){case Ve.SECOND:return lv(r,e);case Ve.MILLISECOND:return uv(r,e);case Ve.MICROSECOND:return cv(r,e);case Ve.NANOSECOND:return dv(r,e)}},y1=({values:r,stride:e},t)=>ih.decimal(r.subarray(e*t,e*(t+1))),m1=(r,e)=>{const{valueOffsets:t,stride:i,children:o}=r,{[e*i]:l,[e*i+1]:c}=t,f=o[0].slice(l,c-l);return new Ke([f])},v1=(r,e)=>{const{valueOffsets:t,children:i}=r,{[e]:o,[e+1]:l}=t,c=i[0];return new uh(c.slice(o,l-o))},w1=(r,e)=>new ah(r,e),_1=(r,e)=>r.type.mode===cn.Dense?hv(r,e):fv(r,e),hv=(r,e)=>{const t=r.type.typeIdToChildIndex[r.typeIds[e]],i=r.children[t];return en.visit(i,r.valueOffsets[e])},fv=(r,e)=>{const t=r.type.typeIdToChildIndex[r.typeIds[e]],i=r.children[t];return en.visit(i,e)},b1=(r,e)=>{var t;return(t=r.dictionary)===null||t===void 0?void 0:t.get(r.values[e])},S1=(r,e)=>r.type.unit===Jr.DAY_TIME?pv(r,e):gv(r,e),pv=({values:r},e)=>r.subarray(2*e,2*(e+1)),gv=({values:r},e)=>{const t=r[e],i=new Int32Array(2);return i[0]=Math.trunc(t/12),i[1]=Math.trunc(t%12),i},E1=(r,e)=>{const{stride:t,children:i}=r,l=i[0].slice(e*t,t);return new Ke([l])};Ne.prototype.visitNull=De(s1);Ne.prototype.visitBool=De(o1);Ne.prototype.visitInt=De(d1);Ne.prototype.visitInt8=De(ii);Ne.prototype.visitInt16=De(ii);Ne.prototype.visitInt32=De(ii);Ne.prototype.visitInt64=De(rv);Ne.prototype.visitUint8=De(ii);Ne.prototype.visitUint16=De(ii);Ne.prototype.visitUint32=De(ii);Ne.prototype.visitUint64=De(rv);Ne.prototype.visitFloat=De(h1);Ne.prototype.visitFloat16=De(a1);Ne.prototype.visitFloat32=De(ii);Ne.prototype.visitFloat64=De(ii);Ne.prototype.visitUtf8=De(c1);Ne.prototype.visitBinary=De(u1);Ne.prototype.visitFixedSizeBinary=De(l1);Ne.prototype.visitDate=De(f1);Ne.prototype.visitDateDay=De(tv);Ne.prototype.visitDateMillisecond=De(nv);Ne.prototype.visitTimestamp=De(p1);Ne.prototype.visitTimestampSecond=De(iv);Ne.prototype.visitTimestampMillisecond=De(sv);Ne.prototype.visitTimestampMicrosecond=De(ov);Ne.prototype.visitTimestampNanosecond=De(av);Ne.prototype.visitTime=De(g1);Ne.prototype.visitTimeSecond=De(lv);Ne.prototype.visitTimeMillisecond=De(uv);Ne.prototype.visitTimeMicrosecond=De(cv);Ne.prototype.visitTimeNanosecond=De(dv);Ne.prototype.visitDecimal=De(y1);Ne.prototype.visitList=De(m1);Ne.prototype.visitStruct=De(w1);Ne.prototype.visitUnion=De(_1);Ne.prototype.visitDenseUnion=De(hv);Ne.prototype.visitSparseUnion=De(fv);Ne.prototype.visitDictionary=De(b1);Ne.prototype.visitInterval=De(S1);Ne.prototype.visitIntervalDayTime=De(pv);Ne.prototype.visitIntervalYearMonth=De(gv);Ne.prototype.visitFixedSizeList=De(E1);Ne.prototype.visitMap=De(v1);const en=new Ne,qn=Symbol.for("keys"),ms=Symbol.for("vals");class uh{constructor(e){return this[qn]=new Ke([e.children[0]]).memoize(),this[ms]=e.children[1],new Proxy(this,new A1)}[Symbol.iterator](){return new x1(this[qn],this[ms])}get size(){return this[qn].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[qn],t=this[ms],i={};for(let o=-1,l=e.length;++o<l;)i[e.get(o)]=en.visit(t,o);return i}toString(){return`{${[...this].map(([e,t])=>`${Fo(e)}: ${Fo(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class x1{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),en.visit(this.vals,e)]})}}class A1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[qn].toArray().map(String)}has(e,t){return e[qn].includes(t)}getOwnPropertyDescriptor(e,t){if(e[qn].indexOf(t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const i=e[qn].indexOf(t);if(i!==-1){const o=en.visit(Reflect.get(e,ms),i);return Reflect.set(e,t,o),o}}set(e,t,i){const o=e[qn].indexOf(t);return o!==-1?(xn.visit(Reflect.get(e,ms),o,i),Reflect.set(e,t,i)):Reflect.has(e,t)?Reflect.set(e,t,i):!1}}Object.defineProperties(uh.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[qn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ms]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let by;function yv(r,e,t,i){const{length:o=0}=r;let l=typeof e!="number"?0:e,c=typeof t!="number"?o:t;return l<0&&(l=(l%o+o)%o),c<0&&(c=(c%o+o)%o),c<l&&(by=l,l=c,c=by),c>o&&(c=o),i?i(r,l,c):[l,c]}const Sy=r=>r!==r;function Cs(r){if(typeof r!=="object"||r===null)return Sy(r)?Sy:t=>t===r;if(r instanceof Date){const t=r.valueOf();return i=>i instanceof Date?i.valueOf()===t:!1}return ArrayBuffer.isView(r)?t=>t?vS(r,t):!1:r instanceof Map?T1(r):Array.isArray(r)?N1(r):r instanceof Ke?I1(r):C1(r,!0)}function N1(r){const e=[];for(let t=-1,i=r.length;++t<i;)e[t]=Cs(r[t]);return eu(e)}function T1(r){let e=-1;const t=[];for(const i of r.values())t[++e]=Cs(i);return eu(t)}function I1(r){const e=[];for(let t=-1,i=r.length;++t<i;)e[t]=Cs(r.get(t));return eu(e)}function C1(r,e=!1){const t=Object.keys(r);if(!e&&t.length===0)return()=>!1;const i=[];for(let o=-1,l=t.length;++o<l;)i[o]=Cs(r[t[o]]);return eu(i,t)}function eu(r,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return k1(r,t);case Map:return Ey(r,t,t.keys());case uh:case ah:case Object:case void 0:return Ey(r,t,e||Object.keys(t))}return t instanceof Ke?D1(r,t):!1}}function k1(r,e){const t=r.length;if(e.length!==t)return!1;for(let i=-1;++i<t;)if(!r[i](e[i]))return!1;return!0}function D1(r,e){const t=r.length;if(e.length!==t)return!1;for(let i=-1;++i<t;)if(!r[i](e.get(i)))return!1;return!0}function Ey(r,e,t){const i=t[Symbol.iterator](),o=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),l=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let c=0;const d=r.length;let f=l.next(),g=i.next(),m=o.next();for(;c<d&&!g.done&&!m.done&&!f.done&&!(g.value!==m.value||!r[c](f.value));++c,g=i.next(),m=o.next(),f=l.next());return c===d&&g.done&&m.done&&f.done?!0:(i.return&&i.return(),o.return&&o.return(),l.return&&l.return(),!1)}function mv(r,e,t,i){return(t&1<<i)!==0}function R1(r,e,t,i){return(t&1<<i)>>i}function ch(r,e,t){const i=t.byteLength+7&-8;if(r>0||t.byteLength<i){const o=new Uint8Array(i);return o.set(r%8===0?t.subarray(r>>3):Fl(new dh(t,r,e,null,mv)).subarray(0,i)),o}return t}function Fl(r){const e=[];let t=0,i=0,o=0;for(const c of r)c&&(o|=1<<i),++i===8&&(e[t++]=o,o=i=0);(t===0||i>0)&&(e[t++]=o);const l=new Uint8Array(e.length+7&-8);return l.set(e),l}class dh{constructor(e,t,i,o,l){this.bytes=e,this.length=i,this.context=o,this.get=l,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function zd(r,e,t){if(t-e<=0)return 0;if(t-e<8){let l=0;for(const c of new dh(r,e,t-e,r,R1))l+=c;return l}const i=t>>3<<3,o=e+(e%8===0?0:8-e%8);return zd(r,e,o)+zd(r,i,t)+L1(r,o>>3,i-o>>3)}function L1(r,e,t){let i=0,o=Math.trunc(e);const l=new DataView(r.buffer,r.byteOffset,r.byteLength),c=t===void 0?r.byteLength:o+t;for(;c-o>=4;)i+=Ed(l.getUint32(o)),o+=4;for(;c-o>=2;)i+=Ed(l.getUint16(o)),o+=2;for(;c-o>=1;)i+=Ed(l.getUint8(o)),o+=1;return i}function Ed(r){let e=Math.trunc(r);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const F1=-1;class nt{constructor(e,t,i,o,l,c=[],d){this.type=e,this.children=c,this.dictionary=d,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(o||0,-1));let f;l instanceof nt?(this.stride=l.stride,this.values=l.values,this.typeIds=l.typeIds,this.nullBitmap=l.nullBitmap,this.valueOffsets=l.valueOffsets):(this.stride=mr(e),l&&((f=l[0])&&(this.valueOffsets=f),(f=l[1])&&(this.values=f),(f=l[2])&&(this.nullBitmap=f),(f=l[3])&&(this.typeIds=f))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0;const{valueOffsets:t,values:i,nullBitmap:o,typeIds:l}=this;return t&&(e+=t.byteLength),i&&(e+=i.byteLength),o&&(e+=o.byteLength),l&&(e+=l.byteLength),this.children.reduce((c,d)=>c+d.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=F1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-zd(t,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){const t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){const{nullBitmap:f}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:f,_nullCount:0})}const{nullBitmap:i,offset:o}=this,l=o+e>>3,c=(o+e)%8,d=i[l]>>c&1;return t?d===0&&(i[l]|=1<<c,this._nullCount=this.nullCount+1):d===1&&(i[l]&=~(1<<c),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,i=this.length,o=this._nullCount,l=this,c=this.children){return new nt(e,t,i,o,l,c,this.dictionary)}slice(e,t){const{stride:i,typeId:o,children:l}=this,c=+(this._nullCount===0)-1,d=o===16?i:1,f=this._sliceBuffers(e,t,i,o);return this.clone(this.type,this.offset+e,t,c,f,l.length===0||this.valueOffsets?l:this._sliceChildren(l,d*e,d*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===C.Null)return this.clone(this.type,0,e,0);const{length:t,nullCount:i}=this,o=new Uint8Array((e+63&-64)>>3).fill(255,0,t>>3);o[t>>3]=(1<<t-(t&-8))-1,i>0&&o.set(ch(this.offset,t,this.nullBitmap),0);const l=this.buffers;return l[yr.VALIDITY]=o,this.clone(this.type,0,e,i+(e-t),l)}_sliceBuffers(e,t,i,o){let l;const{buffers:c}=this;return(l=c[yr.TYPE])&&(c[yr.TYPE]=l.subarray(e,e+t)),(l=c[yr.OFFSET])&&(c[yr.OFFSET]=l.subarray(e,e+t+1))||(l=c[yr.DATA])&&(c[yr.DATA]=o===6?l:l.subarray(i*e,i*(e+t))),c}_sliceChildren(e,t,i){return e.map(o=>o.slice(t,i))}}nt.prototype.children=Object.freeze([]);class Do extends ze{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:t,["offset"]:i=0,["length"]:o=0}=e;return new nt(t,i,o,0)}visitBool(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.nullBitmap),l=Je(t.ArrayType,e.data),{["length"]:c=l.length>>3,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,l,o])}visitInt(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.nullBitmap),l=Je(t.ArrayType,e.data),{["length"]:c=l.length,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,l,o])}visitFloat(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.nullBitmap),l=Je(t.ArrayType,e.data),{["length"]:c=l.length,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,l,o])}visitUtf8(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.data),l=Ge(e.nullBitmap),c=Ao(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new nt(t,i,d,f,[c,o,l])}visitBinary(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.data),l=Ge(e.nullBitmap),c=Ao(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new nt(t,i,d,f,[c,o,l])}visitFixedSizeBinary(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.nullBitmap),l=Je(t.ArrayType,e.data),{["length"]:c=l.length/mr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,l,o])}visitDate(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.nullBitmap),l=Je(t.ArrayType,e.data),{["length"]:c=l.length/mr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,l,o])}visitTimestamp(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.nullBitmap),l=Je(t.ArrayType,e.data),{["length"]:c=l.length/mr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,l,o])}visitTime(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.nullBitmap),l=Je(t.ArrayType,e.data),{["length"]:c=l.length/mr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,l,o])}visitDecimal(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.nullBitmap),l=Je(t.ArrayType,e.data),{["length"]:c=l.length/mr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,l,o])}visitList(e){const{["type"]:t,["offset"]:i=0,["child"]:o}=e,l=Ge(e.nullBitmap),c=Ao(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new nt(t,i,d,f,[c,void 0,l],[o])}visitStruct(e){const{["type"]:t,["offset"]:i=0,["children"]:o=[]}=e,l=Ge(e.nullBitmap),{length:c=o.reduce((f,{length:g})=>Math.max(f,g),0),nullCount:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,void 0,l],o)}visitUnion(e){const{["type"]:t,["offset"]:i=0,["children"]:o=[]}=e,l=Ge(e.nullBitmap),c=Je(t.ArrayType,e.typeIds),{["length"]:d=c.length,["nullCount"]:f=e.nullBitmap?-1:0}=e;if(Ae.isSparseUnion(t))return new nt(t,i,d,f,[void 0,void 0,l,c],o);const g=Ao(e.valueOffsets);return new nt(t,i,d,f,[g,void 0,l,c],o)}visitDictionary(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.nullBitmap),l=Je(t.indices.ArrayType,e.data),{["dictionary"]:c=new Ke([new Do().visit({type:t.dictionary})])}=e,{["length"]:d=l.length,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new nt(t,i,d,f,[void 0,l,o],[],c)}visitInterval(e){const{["type"]:t,["offset"]:i=0}=e,o=Ge(e.nullBitmap),l=Je(t.ArrayType,e.data),{["length"]:c=l.length/mr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,l,o])}visitFixedSizeList(e){const{["type"]:t,["offset"]:i=0,["child"]:o=new Do().visit({type:t.valueType})}=e,l=Ge(e.nullBitmap),{["length"]:c=o.length/mr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new nt(t,i,c,d,[void 0,void 0,l],[o])}visitMap(e){const{["type"]:t,["offset"]:i=0,["child"]:o=new Do().visit({type:t.childType})}=e,l=Ge(e.nullBitmap),c=Ao(e.valueOffsets),{["length"]:d=c.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new nt(t,i,d,f,[c,void 0,l],[o])}}function Pe(r){return new Do().visit(r)}class xy{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function vv(r){return r.reduce((e,t)=>e+t.nullCount,0)}function wv(r){return r.reduce((e,t,i)=>(e[i+1]=e[i]+t.length,e),new Uint32Array(r.length+1))}function _v(r,e,t,i){const o=[];for(let l=-1,c=r.length;++l<c;){const d=r[l],f=e[l],{length:g}=d;if(f>=i)break;if(t>=f+g)continue;if(f>=t&&f+g<=i){o.push(d);continue}const m=Math.max(0,t-f),v=Math.min(i-f,g);o.push(d.slice(m,v-m))}return o.length===0&&o.push(r[0].slice(0,0)),o}function hh(r,e,t,i){let o=0,l=0,c=e.length-1;do{if(o>=c-1)return t<e[c]?i(r,o,t-e[o]):null;l=o+Math.trunc((c-o)*.5),t<e[l]?c=l:o=l}while(o<c)}function fh(r,e){return r.getValid(e)}function vs(r){function e(t,i,o){return r(t[i],o)}return function(t){const i=this.data;return hh(i,this._offsets,t,e)}}function bv(r){let e;function t(i,o,l){return r(i[o],l,e)}return function(i,o){const l=this.data;e=o;const c=hh(l,this._offsets,i,t);return e=void 0,c}}function Sv(r){let e;function t(i,o,l){let c=l,d=0,f=0;for(let g=o-1,m=i.length;++g<m;){const v=i[g];if(~(d=r(v,e,c)))return f+d;c=0,f+=v.length}return-1}return function(i,o){e=i;const l=this.data,c=typeof o!="number"?t(l,0,0):hh(l,this._offsets,o,t);return e=void 0,c}}class Te extends ze{}function O1(r,e){return e===null&&r.length>0?0:-1}function B1(r,e){const{nullBitmap:t}=r;if(!t||r.nullCount<=0)return-1;let i=0;for(const o of new dh(t,r.offset+(e||0),r.length,t,mv)){if(!o)return i;++i}return-1}function Oe(r,e,t){if(e===void 0)return-1;if(e===null)return B1(r,t);const i=en.getVisitFn(r),o=Cs(e);for(let l=(t||0)-1,c=r.length;++l<c;)if(o(i(r,l)))return l;return-1}function Ev(r,e,t){const i=en.getVisitFn(r),o=Cs(e);for(let l=(t||0)-1,c=r.length;++l<c;)if(o(i(r,l)))return l;return-1}Te.prototype.visitNull=O1;Te.prototype.visitBool=Oe;Te.prototype.visitInt=Oe;Te.prototype.visitInt8=Oe;Te.prototype.visitInt16=Oe;Te.prototype.visitInt32=Oe;Te.prototype.visitInt64=Oe;Te.prototype.visitUint8=Oe;Te.prototype.visitUint16=Oe;Te.prototype.visitUint32=Oe;Te.prototype.visitUint64=Oe;Te.prototype.visitFloat=Oe;Te.prototype.visitFloat16=Oe;Te.prototype.visitFloat32=Oe;Te.prototype.visitFloat64=Oe;Te.prototype.visitUtf8=Oe;Te.prototype.visitBinary=Oe;Te.prototype.visitFixedSizeBinary=Oe;Te.prototype.visitDate=Oe;Te.prototype.visitDateDay=Oe;Te.prototype.visitDateMillisecond=Oe;Te.prototype.visitTimestamp=Oe;Te.prototype.visitTimestampSecond=Oe;Te.prototype.visitTimestampMillisecond=Oe;Te.prototype.visitTimestampMicrosecond=Oe;Te.prototype.visitTimestampNanosecond=Oe;Te.prototype.visitTime=Oe;Te.prototype.visitTimeSecond=Oe;Te.prototype.visitTimeMillisecond=Oe;Te.prototype.visitTimeMicrosecond=Oe;Te.prototype.visitTimeNanosecond=Oe;Te.prototype.visitDecimal=Oe;Te.prototype.visitList=Oe;Te.prototype.visitStruct=Oe;Te.prototype.visitUnion=Oe;Te.prototype.visitDenseUnion=Ev;Te.prototype.visitSparseUnion=Ev;Te.prototype.visitDictionary=Oe;Te.prototype.visitInterval=Oe;Te.prototype.visitIntervalDayTime=Oe;Te.prototype.visitIntervalYearMonth=Oe;Te.prototype.visitFixedSizeList=Oe;Te.prototype.visitMap=Oe;const Ol=new Te;class Ie extends ze{}function Re(r){const{type:e}=r;if(r.nullCount===0&&r.stride===1&&(e.typeId===C.Timestamp||e instanceof ti&&e.bitWidth!==64||e instanceof Po&&e.bitWidth!==64||e instanceof Mo&&e.precision!==Xt.HALF))return new xy(r.data.length,i=>{const o=r.data[i];return o.values.subarray(0,o.length)[Symbol.iterator]()});let t=0;return new xy(r.data.length,i=>{const l=r.data[i].length,c=r.slice(t,t+l);return t+=l,new M1(c)})}class M1{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Ie.prototype.visitNull=Re;Ie.prototype.visitBool=Re;Ie.prototype.visitInt=Re;Ie.prototype.visitInt8=Re;Ie.prototype.visitInt16=Re;Ie.prototype.visitInt32=Re;Ie.prototype.visitInt64=Re;Ie.prototype.visitUint8=Re;Ie.prototype.visitUint16=Re;Ie.prototype.visitUint32=Re;Ie.prototype.visitUint64=Re;Ie.prototype.visitFloat=Re;Ie.prototype.visitFloat16=Re;Ie.prototype.visitFloat32=Re;Ie.prototype.visitFloat64=Re;Ie.prototype.visitUtf8=Re;Ie.prototype.visitBinary=Re;Ie.prototype.visitFixedSizeBinary=Re;Ie.prototype.visitDate=Re;Ie.prototype.visitDateDay=Re;Ie.prototype.visitDateMillisecond=Re;Ie.prototype.visitTimestamp=Re;Ie.prototype.visitTimestampSecond=Re;Ie.prototype.visitTimestampMillisecond=Re;Ie.prototype.visitTimestampMicrosecond=Re;Ie.prototype.visitTimestampNanosecond=Re;Ie.prototype.visitTime=Re;Ie.prototype.visitTimeSecond=Re;Ie.prototype.visitTimeMillisecond=Re;Ie.prototype.visitTimeMicrosecond=Re;Ie.prototype.visitTimeNanosecond=Re;Ie.prototype.visitDecimal=Re;Ie.prototype.visitList=Re;Ie.prototype.visitStruct=Re;Ie.prototype.visitUnion=Re;Ie.prototype.visitDenseUnion=Re;Ie.prototype.visitSparseUnion=Re;Ie.prototype.visitDictionary=Re;Ie.prototype.visitInterval=Re;Ie.prototype.visitIntervalDayTime=Re;Ie.prototype.visitIntervalYearMonth=Re;Ie.prototype.visitFixedSizeList=Re;Ie.prototype.visitMap=Re;const ph=new Ie,P1=(r,e)=>r+e;class si extends ze{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===Ve.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((i,o)=>i+ir.visit(o,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((i,o)=>i+ir.visit(o,t),0)}visitDictionary(e,t){var i;return e.type.indices.bitWidth/8+(((i=e.dictionary)===null||i===void 0?void 0:i.getByteLength(e.values[t]))||0)}}const z1=({valueOffsets:r},e)=>8+(r[e+1]-r[e]),U1=({valueOffsets:r},e)=>8+(r[e+1]-r[e]),$1=({valueOffsets:r,stride:e,children:t},i)=>{const o=t[0],{[i*e]:l}=r,{[i*e+1]:c}=r,d=ir.getVisitFn(o.type),f=o.slice(l,c-l);let g=8;for(let m=-1,v=c-l;++m<v;)g+=d(f,m);return g},j1=({stride:r,children:e},t)=>{const i=e[0],o=i.slice(t*r,r),l=ir.getVisitFn(i.type);let c=0;for(let d=-1,f=o.length;++d<f;)c+=l(o,d);return c},G1=(r,e)=>r.type.mode===cn.Dense?xv(r,e):Av(r,e),xv=({type:r,children:e,typeIds:t,valueOffsets:i},o)=>{const l=r.typeIdToChildIndex[t[o]];return 8+ir.visit(e[l],i[o])},Av=({children:r},e)=>4+ir.visitMany(r,r.map(()=>e)).reduce(P1,0);si.prototype.visitUtf8=z1;si.prototype.visitBinary=U1;si.prototype.visitList=$1;si.prototype.visitFixedSizeList=j1;si.prototype.visitUnion=G1;si.prototype.visitDenseUnion=xv;si.prototype.visitSparseUnion=Av;const ir=new si;var Nv;const Tv={},Iv={};class Ke{constructor(e){var t,i,o;const l=e[0]instanceof Ke?e.flatMap(d=>d.data):e;if(l.length===0||l.some(d=>!(d instanceof nt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const c=(t=l[0])===null||t===void 0?void 0:t.type;switch(l.length){case 0:this._offsets=[0];break;case 1:{const{get:d,set:f,indexOf:g,byteLength:m}=Tv[c.typeId],v=l[0];this.isValid=w=>fh(v,w),this.get=w=>d(v,w),this.set=(w,S)=>f(v,w,S),this.indexOf=w=>g(v,w),this.getByteLength=w=>m(v,w),this._offsets=[0,v.length];break}default:Object.setPrototypeOf(this,Iv[c.typeId]),this._offsets=wv(l);break}this.data=l,this.type=c,this.stride=mr(c),this.numChildren=(o=(i=c.children)===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=vv(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${C[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return ph.visit(this)}concat(...e){return new Ke(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new Ke(yv(this,e,t,({data:i,_offsets:o},l,c)=>_v(i,o,l,c)))}toJSON(){return[...this]}toArray(){const{type:e,data:t,length:i,stride:o,ArrayType:l}=this;switch(e.typeId){case C.Int:case C.Float:case C.Decimal:case C.Time:case C.Timestamp:switch(t.length){case 0:return new l;case 1:return t[0].values.subarray(0,i*o);default:return t.reduce((c,{values:d,length:f})=>(c.array.set(d.subarray(0,f*o),c.offset),c.offset+=f*o,c),{array:new l(i*o),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt((t=this.type.children)===null||t===void 0?void 0:t.findIndex(i=>i.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Ke(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return Ae.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Ae.isDictionary(this.type)){const e=new Bl(this.data[0].dictionary),t=this.data.map(i=>{const o=i.clone();return o.dictionary=e,o});return new Ke(t)}return new Bl(this)}unmemoize(){if(Ae.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),t=this.data.map(i=>{const o=i.clone();return o.dictionary=e,o});return new Ke(t)}return this}}Nv=Symbol.toStringTag;Ke[Nv]=(r=>{r.type=Ae.prototype,r.data=[],r.length=0,r.stride=1,r.numChildren=0,r._nullCount=-1,r._byteLength=-1,r._offsets=new Uint32Array([0]),r[Symbol.isConcatSpreadable]=!0;const e=Object.keys(C).map(t=>C[t]).filter(t=>typeof t=="number"&&t!==C.NONE);for(const t of e){const i=en.getVisitFnByTypeId(t),o=xn.getVisitFnByTypeId(t),l=Ol.getVisitFnByTypeId(t),c=ir.getVisitFnByTypeId(t);Tv[t]={get:i,set:o,indexOf:l,byteLength:c},Iv[t]=Object.create(r,{isValid:{value:vs(fh)},get:{value:vs(en.getVisitFnByTypeId(t))},set:{value:bv(xn.getVisitFnByTypeId(t))},indexOf:{value:Sv(Ol.getVisitFnByTypeId(t))},getByteLength:{value:vs(ir.getVisitFnByTypeId(t))}})}return"Vector"})(Ke.prototype);class Bl extends Ke{constructor(e){super(e.data);const t=this.get,i=this.set,o=this.slice,l=new Array(this.length);Object.defineProperty(this,"get",{value(c){const d=l[c];if(d!==void 0)return d;const f=t.call(this,c);return l[c]=f,f}}),Object.defineProperty(this,"set",{value(c,d){i.call(this,c,d),l[c]=d}}),Object.defineProperty(this,"slice",{value:(c,d)=>new Bl(o.call(this,c,d))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Ke(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Ud{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,t,i,o){return e.prep(8,24),e.writeInt64(o),e.pad(4),e.writeInt32(i),e.writeInt64(t),e.offset()}}const xd=2,Qn=4,_r=4,et=4,Qr=new Int32Array(2),Ay=new Float32Array(Qr.buffer),Ny=new Float64Array(Qr.buffer),dl=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let Sr=class $d{constructor(e,t){this.low=e|0,this.high=t|0}static create(e,t){return e==0&&t==0?$d.ZERO:new $d(e,t)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(e){return this.low==e.low&&this.high==e.high}};Sr.ZERO=new Sr(0,0);var jd;(function(r){r[r.UTF8_BYTES=1]="UTF8_BYTES",r[r.UTF16_STRING=2]="UTF16_STRING"})(jd||(jd={}));let Ss=class Cv{constructor(e){this.bytes_=e,this.position_=0}static allocate(e){return new Cv(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return new Sr(this.readInt32(e),this.readInt32(e+4))}readUint64(e){return new Sr(this.readUint32(e),this.readUint32(e+4))}readFloat32(e){return Qr[0]=this.readInt32(e),Ay[0]}readFloat64(e){return Qr[dl?0:1]=this.readInt32(e),Qr[dl?1:0]=this.readInt32(e+4),Ny[0]}writeInt8(e,t){this.bytes_[e]=t}writeUint8(e,t){this.bytes_[e]=t}writeInt16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeUint16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeInt32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeUint32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeInt64(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)}writeUint64(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)}writeFloat32(e,t){Ay[0]=t,this.writeInt32(e,Qr[0])}writeFloat64(e,t){Ny[0]=t,this.writeInt32(e,Qr[dl?0:1]),this.writeInt32(e+4,Qr[dl?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Qn+_r)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let t=0;t<_r;t++)e+=String.fromCharCode(this.readInt8(this.position_+Qn+t));return e}__offset(e,t){const i=e-this.readInt32(e);return t<this.readInt16(i)?this.readInt16(i+t):0}__union(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e}__string(e,t){e+=this.readInt32(e);const i=this.readInt32(e);let o="",l=0;if(e+=Qn,t===jd.UTF8_BYTES)return this.bytes_.subarray(e,e+i);for(;l<i;){let c;const d=this.readUint8(e+l++);if(d<192)c=d;else{const f=this.readUint8(e+l++);if(d<224)c=(d&31)<<6|f&63;else{const g=this.readUint8(e+l++);if(d<240)c=(d&15)<<12|(f&63)<<6|g&63;else{const m=this.readUint8(e+l++);c=(d&7)<<18|(f&63)<<12|(g&63)<<6|m&63}}}c<65536?o+=String.fromCharCode(c):(c-=65536,o+=String.fromCharCode((c>>10)+55296,(c&1023)+56320))}return o}__union_with_string(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+Qn}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=_r)throw new Error("FlatBuffers: file identifier must be length "+_r);for(let t=0;t<_r;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+Qn+t))return!1;return!0}createLong(e,t){return Sr.create(e,t)}createScalarList(e,t){const i=[];for(let o=0;o<t;++o)e(o)!==null&&i.push(e(o));return i}createObjList(e,t){const i=[];for(let o=0;o<t;++o){const l=e(o);l!==null&&i.push(l.unpack())}return i}},kv=class Dv{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let t;e?t=e:t=1024,this.bb=Ss.allocate(t),this.space=t}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,t){e>this.minalign&&(this.minalign=e);const i=~(this.bb.capacity()-this.space+t)+1&e-1;for(;this.space<i+e+t;){const o=this.bb.capacity();this.bb=Dv.growByteBuffer(this.bb),this.space+=this.bb.capacity()-o}this.pad(i)}pad(e){for(let t=0;t<e;t++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,t,i){(this.force_defaults||t!=i)&&(this.addInt8(t),this.slot(e))}addFieldInt16(e,t,i){(this.force_defaults||t!=i)&&(this.addInt16(t),this.slot(e))}addFieldInt32(e,t,i){(this.force_defaults||t!=i)&&(this.addInt32(t),this.slot(e))}addFieldInt64(e,t,i){(this.force_defaults||!t.equals(i))&&(this.addInt64(t),this.slot(e))}addFieldFloat32(e,t,i){(this.force_defaults||t!=i)&&(this.addFloat32(t),this.slot(e))}addFieldFloat64(e,t,i){(this.force_defaults||t!=i)&&(this.addFloat64(t),this.slot(e))}addFieldOffset(e,t,i){(this.force_defaults||t!=i)&&(this.addOffset(t),this.slot(e))}addFieldStruct(e,t,i){t!=i&&(this.nested(t),this.slot(e))}nested(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=t<<1,o=Ss.allocate(i);return o.setPosition(i-t),o.bytes().set(e.bytes(),i-t),o}addOffset(e){this.prep(Qn,0),this.writeInt32(this.offset()-e+Qn)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let t=this.vtable_in_use-1;for(;t>=0&&this.vtable[t]==0;t--);const i=t+1;for(;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);const o=2;this.addInt16(e-this.object_start);const l=(i+o)*xd;this.addInt16(l);let c=0;const d=this.space;e:for(t=0;t<this.vtables.length;t++){const f=this.bb.capacity()-this.vtables[t];if(l==this.bb.readInt16(f)){for(let g=xd;g<l;g+=xd)if(this.bb.readInt16(d+g)!=this.bb.readInt16(f+g))continue e;c=this.vtables[t];break}}return c?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,c-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,t,i){const o=i?et:0;if(t){const l=t;if(this.prep(this.minalign,Qn+_r+o),l.length!=_r)throw new Error("FlatBuffers: file identifier must be length "+_r);for(let c=_r-1;c>=0;c--)this.writeInt8(l.charCodeAt(c))}this.prep(this.minalign,Qn+o),this.addOffset(e),o&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,t){this.finish(e,t,!0)}requiredField(e,t){const i=this.bb.capacity()-e,o=i-this.bb.readInt32(i);if(!(this.bb.readInt16(o+t)!=0))throw new Error("FlatBuffers: field "+t+" must be set")}startVector(e,t,i){this.notNested(),this.vector_num_elems=t,this.prep(Qn,e*t),this.prep(i,e*t)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const t=this.createString(e);return this.string_maps.set(e,t),t}createString(e){if(!e)return 0;let t;if(e instanceof Uint8Array)t=e;else{t=[];let i=0;for(;i<e.length;){let o;const l=e.charCodeAt(i++);if(l<55296||l>=56320)o=l;else{const c=e.charCodeAt(i++);o=(l<<10)+c+-56613888}o<128?t.push(o):(o<2048?t.push(o>>6&31|192):(o<65536?t.push(o>>12&15|224):t.push(o>>18&7|240,o>>12&63|128),t.push(o>>6&63|128)),t.push(o&63|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(let i=0,o=this.space,l=this.bb.bytes();i<t.length;i++)l[o++]=t[i];return this.endVector()}createLong(e,t){return Sr.create(e,t)}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const t=[];for(let i=0;i<e.length;++i){const o=e[i];if(o!==null)t.push(this.createObjectOffset(o));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t}createStructOffsetList(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()}};class St{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new St).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+et),(t||new St).__init(e.readInt32(e.position())+e.position(),e)}key(e){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,i){return St.startKeyValue(e),St.addKey(e,t),St.addValue(e,i),St.endKeyValue(e)}}var Es;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(Es||(Es={}));var xs;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(xs||(xs={}));var Ml;(function(r){r[r.DenseArray=0]="DenseArray"})(Ml||(Ml={}));class ln{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new ln).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+et),(t||new ln).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,i){return ln.startInt(e),ln.addBitWidth(e,t),ln.addIsSigned(e,i),ln.endInt(e)}}class br{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new br).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+et),(t||new br).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){const t=this.bb.__offset(this.bb_pos,6);return t?(e||new ln).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Ml.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,Ml.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class Si{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new Si).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+et),(t||new Si).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return Si.startBinary(e),Si.endBinary(e)}}class Ei{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new Ei).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+et),(t||new Ei).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return Ei.startBool(e),Ei.endBool(e)}}var Pl;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(Pl||(Pl={}));let yl=class us{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new us).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+et),(t||new us).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Pl.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Pl.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return us.startDate(e),us.addUnit(e,t),us.endDate(e)}};class qt{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new qt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+et),(t||new qt).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,i,o){return qt.startDecimal(e),qt.addPrecision(e,t),qt.addScale(e,i),qt.addBitWidth(e,o),qt.endDecimal(e)}}var As;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(As||(As={}));class Zn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new Zn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+et),(t||new Zn).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return Zn.startFixedSizeBinary(e),Zn.addByteWidth(e,t),Zn.endFixedSizeBinary(e)}}class Xn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new Xn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+et),(t||new Xn).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return Xn.startFixedSizeList(e),Xn.addListSize(e,t),Xn.endFixedSizeList(e)}}var zl;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(zl||(zl={}));class Jn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new Jn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+et),(t||new Jn).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):zl.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,zl.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return Jn.startFloatingPoint(e),Jn.addPrecision(e,t),Jn.endFloatingPoint(e)}}var Ul;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Ul||(Ul={}));class er{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new er).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+et),(t||new er).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ul.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Ul.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return er.startInterval(e),er.addUnit(e,t),er.endInterval(e)}}class xi{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new xi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+et),(t||new xi).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return xi.startList(e),xi.endList(e)}}let ml=class cs{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new cs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+et),(t||new cs).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return cs.startMap(e),cs.addKeysSorted(e,t),cs.endMap(e)}};class Ai{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new Ai).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+et),(t||new Ai).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return Ai.startNull(e),Ai.endNull(e)}}class Ni{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new Ni).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+et),(t||new Ni).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Ni.startStruct_(e),Ni.endStruct_(e)}}class bn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new bn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+et),(t||new bn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):As.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,As.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,i){return bn.startTime(e),bn.addUnit(e,t),bn.addBitWidth(e,i),bn.endTime(e)}}class Sn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new Sn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+et),(t||new Sn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):As.SECOND}timezone(e){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,As.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,i){return Sn.startTimestamp(e),Sn.addUnit(e,t),Sn.addTimezone(e,i),Sn.endTimestamp(e)}}var $l;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})($l||($l={}));class Qt{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new Qt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+et),(t||new Qt).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):$l.Sparse}typeIds(e){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,$l.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addInt32(t[i]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,i){return Qt.startUnion(e),Qt.addMode(e,t),Qt.addTypeIds(e,i),Qt.endUnion(e)}}class Ti{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new Ti).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+et),(t||new Ti).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Ti.startUtf8(e),Ti.endUtf8(e)}}var ct;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList"})(ct||(ct={}));let wn=class vl{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new vl).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+et),(t||new vl).__init(e.readInt32(e.position())+e.position(),e)}name(e){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):ct.NONE}type(e){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){const t=this.bb.__offset(this.bb_pos,12);return t?(e||new br).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){const i=this.bb.__offset(this.bb_pos,14);return i?(t||new vl).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){const i=this.bb.__offset(this.bb_pos,16);return i?(t||new St).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,ct.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}},Yn=class gr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new gr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+et),(t||new gr).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):xs.Little}fields(e,t){const i=this.bb.__offset(this.bb_pos,6);return i?(t||new wn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){const i=this.bb.__offset(this.bb_pos,8);return i?(t||new St).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,xs.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let i=t.length-1;i>=0;i--)e.addInt64(t[i]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,i,o,l){return gr.startSchema(e),gr.addEndianness(e,t),gr.addFields(e,i),gr.addCustomMetadata(e,o),gr.addFeatures(e,l),gr.endSchema(e)}};class an{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new an).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+et),(t||new an).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Es.V1}schema(e){const t=this.bb.__offset(this.bb_pos,6);return t?(e||new Yn).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){const i=this.bb.__offset(this.bb_pos,8);return i?(t||new Ud).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){const i=this.bb.__offset(this.bb_pos,10);return i?(t||new Ud).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){const i=this.bb.__offset(this.bb_pos,12);return i?(t||new St).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,Es.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}}class qe{constructor(e=[],t,i){this.fields=e||[],this.metadata=t||new Map,i||(i=Gd(e)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){const t=new Set(e),i=this.fields.filter(o=>t.has(o.name));return new qe(i,this.metadata)}selectAt(e){const t=e.map(i=>this.fields[i]).filter(Boolean);return new qe(t,this.metadata)}assign(...e){const t=e[0]instanceof qe?e[0]:Array.isArray(e[0])?new qe(e[0]):new qe(e),i=[...this.fields],o=hl(hl(new Map,this.metadata),t.metadata),l=t.fields.filter(d=>{const f=i.findIndex(g=>g.name===d.name);return~f?(i[f]=d.clone({metadata:hl(hl(new Map,i[f].metadata),d.metadata)}))&&!1:!0}),c=Gd(l,new Map);return new qe([...i,...l],o,new Map([...this.dictionaries,...c]))}}qe.prototype.fields=null;qe.prototype.metadata=null;qe.prototype.dictionaries=null;class st{constructor(e,t,i=!1,o){this.name=e,this.type=t,this.nullable=i,this.metadata=o||new Map}static new(...e){let[t,i,o,l]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],i===void 0&&(i=e[0].type),o===void 0&&(o=e[0].nullable),l===void 0&&(l=e[0].metadata)),new st(`${t}`,i,o,l)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,i,o,l]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,i=this.type,o=this.nullable,l=this.metadata]=e:{name:t=this.name,type:i=this.type,nullable:o=this.nullable,metadata:l=this.metadata}=e[0],st.new(t,i,o,l)}}st.prototype.type=null;st.prototype.name=null;st.prototype.nullable=null;st.prototype.metadata=null;function hl(r,e){return new Map([...r||new Map,...e||new Map])}function Gd(r,e=new Map){for(let t=-1,i=r.length;++t<i;){const l=r[t].type;if(Ae.isDictionary(l)){if(!e.has(l.id))e.set(l.id,l.dictionary);else if(e.get(l.id)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}l.children&&l.children.length>0&&Gd(l.children,e)}return e}var Ty=Sr,V1=kv,W1=Ss;class zo{constructor(e,t=un.V4,i,o){this.schema=e,this.version=t,i&&(this._recordBatches=i),o&&(this._dictionaryBatches=o)}static decode(e){e=new W1(Ge(e));const t=an.getRootAsFooter(e),i=qe.decode(t.schema());return new H1(i,t)}static encode(e){const t=new V1,i=qe.encode(t,e.schema);an.startRecordBatchesVector(t,e.numRecordBatches);for(const c of[...e.recordBatches()].slice().reverse())ni.encode(t,c);const o=t.endVector();an.startDictionariesVector(t,e.numDictionaries);for(const c of[...e.dictionaryBatches()].slice().reverse())ni.encode(t,c);const l=t.endVector();return an.startFooter(t),an.addSchema(t,i),an.addVersion(t,un.V4),an.addRecordBatches(t,o),an.addDictionaries(t,l),an.finishFooterBuffer(t,an.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,i=this.numRecordBatches;++t<i;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,i=this.numDictionaries;++t<i;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class H1 extends zo{constructor(e,t){super(e,t.version()),this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const t=this._footer.recordBatches(e);if(t)return ni.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const t=this._footer.dictionaries(e);if(t)return ni.decode(t)}return null}}class ni{constructor(e,t,i){this.metaDataLength=e,this.offset=typeof i=="number"?i:i.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new ni(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){const{metaDataLength:i}=t,o=new Ty(t.offset,0),l=new Ty(t.bodyLength,0);return Ud.createBlock(e,o,i,l)}}const dt=Object.freeze({done:!0,value:void 0});class Iy{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class gh{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Y1 extends gh{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return xe(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(dt);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return _n.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return _n.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return xe(this,void 0,void 0,function*(){return yield this.abort(e),dt})}return(e){return xe(this,void 0,void 0,function*(){return yield this.close(),dt})}read(e){return xe(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return xe(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,i)=>{this.resolvers.push({resolve:t,reject:i})}):Promise.resolve(dt)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class wl extends Y1{write(e){if((e=Ge(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?Od(this.toUint8Array(!0)):this.toUint8Array(!1).then(Od)}toUint8Array(e=!1){return e?rr(this._values)[0]:xe(this,void 0,void 0,function*(){var t,i;const o=[];let l=0;try{for(var c=Ii(this),d;d=yield c.next(),!d.done;){const f=d.value;o.push(f),l+=f.byteLength}}catch(f){t={error:f}}finally{try{d&&!d.done&&(i=c.return)&&(yield i.call(c))}finally{if(t)throw t.error}}return rr(o,l)[0]})}}class jl{constructor(e){e&&(this.source=new K1(_n.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class Ns{constructor(e){e instanceof Ns?this.source=e.source:e instanceof wl?this.source=new bi(_n.fromAsyncIterable(e)):fm(e)?this.source=new bi(_n.fromNodeStream(e)):th(e)?this.source=new bi(_n.fromDOMStream(e)):hm(e)?this.source=new bi(_n.fromDOMStream(e.body)):Wo(e)?this.source=new bi(_n.fromIterable(e)):Xr(e)?this.source=new bi(_n.fromAsyncIterable(e)):Is(e)&&(this.source=new bi(_n.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class K1{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||dt)}return(e){return Object.create(this.source.return&&this.source.return(e)||dt)}}class bi{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return xe(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return xe(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return xe(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return xe(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return xe(this,void 0,void 0,function*(){const t=this.source.throw&&(yield this.source.throw(e))||dt;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return xe(this,void 0,void 0,function*(){const t=this.source.return&&(yield this.source.return(e))||dt;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}class Cy extends jl{constructor(e,t){super(),this.position=0,this.buffer=Ge(e),this.size=typeof t>"u"?this.buffer.byteLength:t}readInt32(e){const{buffer:t,byteOffset:i}=this.readAt(e,4);return new DataView(t,i).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:t,size:i,position:o}=this;return t&&o<i?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(i,o+Math.min(i-o,e)),t.subarray(o,this.position)):null}readAt(e,t){const i=this.buffer,o=Math.min(this.size,e+t);return i?i.subarray(e,o):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class Gl extends Ns{constructor(e,t){super(),this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=xe(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return xe(this,void 0,void 0,function*(){const{buffer:t,byteOffset:i}=yield this.readAt(e,4);return new DataView(t,i).getInt32(0,!0)})}seek(e){return xe(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return xe(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:t,size:i,position:o}=this;if(t&&o<i){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let l=o,c=0,d=0;const f=Math.min(i,l+Math.min(i-l,e)),g=new Uint8Array(Math.max(0,(this.position=f)-l));for(;(l+=d)<f&&(c+=d)<g.byteLength;)({bytesRead:d}=yield t.read(g,c,g.byteLength-c,l));return g}return null})}readAt(e,t){return xe(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:i,size:o}=this;if(i&&e+t<o){const l=Math.min(o,e+t),c=new Uint8Array(l-e);return(yield i.read(c,0,t,e)).buffer}return new Uint8Array(t)})}close(){return xe(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return xe(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return xe(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const q1=65536;function hs(r){return r<0&&(r=4294967295+r+1),`0x${r.toString(16)}`}const Ts=8,yh=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class Rv{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),i=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let o=t[3]*i[3];this.buffer[0]=o&65535;let l=o>>>16;return o=t[2]*i[3],l+=o,o=t[3]*i[2]>>>0,l+=o,this.buffer[0]+=l<<16,this.buffer[1]=l>>>0<o?q1:0,this.buffer[1]+=l>>>16,this.buffer[1]+=t[1]*i[3]+t[2]*i[2]+t[3]*i[1],this.buffer[1]+=t[0]*i[3]+t[1]*i[2]+t[2]*i[1]+t[3]*i[0]<<16,this}_plus(e){const t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${hs(this.buffer[1])} ${hs(this.buffer[0])}`}}class Ze extends Rv{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return Ze.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Ze.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){const i=e.length,o=new Ze(t);for(let l=0;l<i;){const c=Ts<i-l?Ts:i-l,d=new Ze(new Uint32Array([Number.parseInt(e.slice(l,l+c),10),0])),f=new Ze(new Uint32Array([yh[c],0]));o.times(f),o.plus(d),l+=c}return o}static convertArray(e){const t=new Uint32Array(e.length*2);for(let i=-1,o=e.length;++i<o;)Ze.from(e[i],new Uint32Array(t.buffer,t.byteOffset+2*i*4,2));return t}static multiply(e,t){return new Ze(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Ze(new Uint32Array(e.buffer)).plus(t)}}class Kt extends Rv{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const t=this.buffer[1]<<0,i=e.buffer[1]<<0;return t<i||t===i&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return Kt.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Kt.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){const i=e.startsWith("-"),o=e.length,l=new Kt(t);for(let c=i?1:0;c<o;){const d=Ts<o-c?Ts:o-c,f=new Kt(new Uint32Array([Number.parseInt(e.slice(c,c+d),10),0])),g=new Kt(new Uint32Array([yh[d],0]));l.times(g),l.plus(f),c+=d}return i?l.negate():l}static convertArray(e){const t=new Uint32Array(e.length*2);for(let i=-1,o=e.length;++i<o;)Kt.from(e[i],new Uint32Array(t.buffer,t.byteOffset+2*i*4,2));return t}static multiply(e,t){return new Kt(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Kt(new Uint32Array(e.buffer)).plus(t)}}class Kn{constructor(e){this.buffer=e}high(){return new Kt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Kt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const t=new Ze(new Uint32Array([this.buffer[3],0])),i=new Ze(new Uint32Array([this.buffer[2],0])),o=new Ze(new Uint32Array([this.buffer[1],0])),l=new Ze(new Uint32Array([this.buffer[0],0])),c=new Ze(new Uint32Array([e.buffer[3],0])),d=new Ze(new Uint32Array([e.buffer[2],0])),f=new Ze(new Uint32Array([e.buffer[1],0])),g=new Ze(new Uint32Array([e.buffer[0],0]));let m=Ze.multiply(l,g);this.buffer[0]=m.low();const v=new Ze(new Uint32Array([m.high(),0]));return m=Ze.multiply(o,g),v.plus(m),m=Ze.multiply(l,f),v.plus(m),this.buffer[1]=v.low(),this.buffer[3]=v.lessThan(m)?1:0,this.buffer[2]=v.high(),new Ze(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Ze.multiply(i,g)).plus(Ze.multiply(o,f)).plus(Ze.multiply(l,d)),this.buffer[3]+=Ze.multiply(t,g).plus(Ze.multiply(i,f)).plus(Ze.multiply(o,d)).plus(Ze.multiply(l,c)).low(),this}plus(e){const t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${hs(this.buffer[3])} ${hs(this.buffer[2])} ${hs(this.buffer[1])} ${hs(this.buffer[0])}`}static multiply(e,t){return new Kn(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Kn(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return Kn.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return Kn.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){const i=e.startsWith("-"),o=e.length,l=new Kn(t);for(let c=i?1:0;c<o;){const d=Ts<o-c?Ts:o-c,f=new Kn(new Uint32Array([Number.parseInt(e.slice(c,c+d),10),0,0,0])),g=new Kn(new Uint32Array([yh[d],0,0,0]));l.times(g),l.plus(f),c+=d}return i?l.negate():l}static convertArray(e){const t=new Uint32Array(e.length*4);for(let i=-1,o=e.length;++i<o;)Kn.from(e[i],new Uint32Array(t.buffer,t.byteOffset+16*i,4));return t}}class Lv extends ze{constructor(e,t,i,o){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=i,this.dictionaries=o}visit(e){return super.visit(e instanceof st?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return Pe({type:e,length:t})}visitBool(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitInt(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitFloat(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitUtf8(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitDate(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitTimestamp(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitTime(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitDecimal(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitList(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===cn.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitFixedSizeList(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),child:this.visit(e.children[0])})}visitMap(e,{length:t,nullCount:i}=this.nextFieldNode()){return Pe({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,i=this.nextBufferRange()){return t>0&&this.readData(e,i)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+t)}readDictionary(e){return this.dictionaries.get(e.id)}}class Q1 extends Lv{constructor(e,t,i,o){super(new Uint8Array(0),t,i,o),this.sources=e}readNullBitmap(e,t,{offset:i}=this.nextBufferRange()){return t<=0?new Uint8Array(0):Fl(this.sources[i])}readOffsets(e,{offset:t}=this.nextBufferRange()){return Je(Uint8Array,Je(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return Je(Uint8Array,Je(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){const{sources:i}=this;return Ae.isTimestamp(e)||(Ae.isInt(e)||Ae.isTime(e))&&e.bitWidth===64||Ae.isDate(e)&&e.unit===Ar.MILLISECOND?Je(Uint8Array,Kt.convertArray(i[t])):Ae.isDecimal(e)?Je(Uint8Array,Kn.convertArray(i[t])):Ae.isBinary(e)||Ae.isFixedSizeBinary(e)?Z1(i[t]):Ae.isBool(e)?Fl(i[t]):Ae.isUtf8(e)?eh(i[t].join("")):Je(Uint8Array,Je(e.ArrayType,i[t].map(o=>+o)))}}function Z1(r){const e=r.join(""),t=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=Number.parseInt(e.slice(i,i+2),16);return t}class Ce extends ze{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((i,o)=>this.compareFields(i,t[o]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}}function tn(r,e){return e instanceof r.constructor}function Ho(r,e){return r===e||tn(r,e)}function Tr(r,e){return r===e||tn(r,e)&&r.bitWidth===e.bitWidth&&r.isSigned===e.isSigned}function tu(r,e){return r===e||tn(r,e)&&r.precision===e.precision}function X1(r,e){return r===e||tn(r,e)&&r.byteWidth===e.byteWidth}function mh(r,e){return r===e||tn(r,e)&&r.unit===e.unit}function Yo(r,e){return r===e||tn(r,e)&&r.unit===e.unit&&r.timezone===e.timezone}function Ko(r,e){return r===e||tn(r,e)&&r.unit===e.unit&&r.bitWidth===e.bitWidth}function J1(r,e){return r===e||tn(r,e)&&r.children.length===e.children.length&&ri.compareManyFields(r.children,e.children)}function eE(r,e){return r===e||tn(r,e)&&r.children.length===e.children.length&&ri.compareManyFields(r.children,e.children)}function vh(r,e){return r===e||tn(r,e)&&r.mode===e.mode&&r.typeIds.every((t,i)=>t===e.typeIds[i])&&ri.compareManyFields(r.children,e.children)}function tE(r,e){return r===e||tn(r,e)&&r.id===e.id&&r.isOrdered===e.isOrdered&&ri.visit(r.indices,e.indices)&&ri.visit(r.dictionary,e.dictionary)}function wh(r,e){return r===e||tn(r,e)&&r.unit===e.unit}function nE(r,e){return r===e||tn(r,e)&&r.listSize===e.listSize&&r.children.length===e.children.length&&ri.compareManyFields(r.children,e.children)}function rE(r,e){return r===e||tn(r,e)&&r.keysSorted===e.keysSorted&&r.children.length===e.children.length&&ri.compareManyFields(r.children,e.children)}Ce.prototype.visitNull=Ho;Ce.prototype.visitBool=Ho;Ce.prototype.visitInt=Tr;Ce.prototype.visitInt8=Tr;Ce.prototype.visitInt16=Tr;Ce.prototype.visitInt32=Tr;Ce.prototype.visitInt64=Tr;Ce.prototype.visitUint8=Tr;Ce.prototype.visitUint16=Tr;Ce.prototype.visitUint32=Tr;Ce.prototype.visitUint64=Tr;Ce.prototype.visitFloat=tu;Ce.prototype.visitFloat16=tu;Ce.prototype.visitFloat32=tu;Ce.prototype.visitFloat64=tu;Ce.prototype.visitUtf8=Ho;Ce.prototype.visitBinary=Ho;Ce.prototype.visitFixedSizeBinary=X1;Ce.prototype.visitDate=mh;Ce.prototype.visitDateDay=mh;Ce.prototype.visitDateMillisecond=mh;Ce.prototype.visitTimestamp=Yo;Ce.prototype.visitTimestampSecond=Yo;Ce.prototype.visitTimestampMillisecond=Yo;Ce.prototype.visitTimestampMicrosecond=Yo;Ce.prototype.visitTimestampNanosecond=Yo;Ce.prototype.visitTime=Ko;Ce.prototype.visitTimeSecond=Ko;Ce.prototype.visitTimeMillisecond=Ko;Ce.prototype.visitTimeMicrosecond=Ko;Ce.prototype.visitTimeNanosecond=Ko;Ce.prototype.visitDecimal=Ho;Ce.prototype.visitList=J1;Ce.prototype.visitStruct=eE;Ce.prototype.visitUnion=vh;Ce.prototype.visitDenseUnion=vh;Ce.prototype.visitSparseUnion=vh;Ce.prototype.visitDictionary=tE;Ce.prototype.visitInterval=wh;Ce.prototype.visitIntervalDayTime=wh;Ce.prototype.visitIntervalYearMonth=wh;Ce.prototype.visitFixedSizeList=nE;Ce.prototype.visitMap=rE;const ri=new Ce;function Vd(r,e){return ri.compareSchemas(r,e)}function Ad(r,e){return iE(r,e.map(t=>t.data.concat()))}function iE(r,e){const t=[...r.fields],i=[],o={numBatches:e.reduce((v,w)=>Math.max(v,w.length),0)};let l=0,c=0,d=-1;const f=e.length;let g,m=[];for(;o.numBatches-- >0;){for(c=Number.POSITIVE_INFINITY,d=-1;++d<f;)m[d]=g=e[d].shift(),c=Math.min(c,g?g.length:c);Number.isFinite(c)&&(m=sE(t,c,m,e,o),c>0&&(i[l++]=Pe({type:new Ut(t),length:c,nullCount:0,children:m.slice()})))}return[r=r.assign(t),i.map(v=>new Zt(r,v))]}function sE(r,e,t,i,o){var l;const c=(e+63&-64)>>3;for(let d=-1,f=i.length;++d<f;){const g=t[d],m=g==null?void 0:g.length;if(m>=e)m===e?t[d]=g:(t[d]=g.slice(0,e),o.numBatches=Math.max(o.numBatches,i[d].unshift(g.slice(e,m-e))));else{const v=r[d];r[d]=v.clone({nullable:!0}),t[d]=(l=g==null?void 0:g._changeLengthAndBackfillNullBitmap(e))!==null&&l!==void 0?l:Pe({type:v.type,length:e,nullCount:e,nullBitmap:new Uint8Array(c)})}}return t}var Fv;class zt{constructor(...e){var t,i;if(e.length===0)return this.batches=[],this.schema=new qe([]),this._offsets=[0],this;let o,l;e[0]instanceof qe&&(o=e.shift()),e[e.length-1]instanceof Uint32Array&&(l=e.pop());const c=f=>{if(f){if(f instanceof Zt)return[f];if(f instanceof zt)return f.batches;if(f instanceof nt){if(f.type instanceof Ut)return[new Zt(new qe(f.type.children),f)]}else{if(Array.isArray(f))return f.flatMap(g=>c(g));if(typeof f[Symbol.iterator]=="function")return[...f].flatMap(g=>c(g));if(typeof f=="object"){const g=Object.keys(f),m=g.map(S=>new Ke([f[S]])),v=new qe(g.map((S,F)=>new st(String(S),m[F].type))),[,w]=Ad(v,m);return w.length===0?[new Zt(f)]:w}}}return[]},d=e.flatMap(f=>c(f));if(o=(i=o??((t=d[0])===null||t===void 0?void 0:t.schema))!==null&&i!==void 0?i:new qe([]),!(o instanceof qe))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const f of d){if(!(f instanceof Zt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Vd(o,f.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=o,this.batches=d,this._offsets=l??wv(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=vv(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?ph.visit(new Ke(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const t=this.schema,i=this.data.concat(e.flatMap(({data:o})=>o));return new zt(t,i.map(o=>new Zt(t,o)))}slice(e,t){const i=this.schema;[e,t]=yv({length:this.numRows},e,t);const o=_v(this.data,this._offsets,e,t);return new zt(i,o.map(l=>new Zt(i,l)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const t=this.data.map(i=>i.children[e]);if(t.length===0){const{type:i}=this.schema.fields[e],o=Pe({type:i,length:0,nullCount:0});t.push(o._changeLengthAndBackfillNullBitmap(this.numRows))}return new Ke(t)}return null}setChild(e,t){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(o=>o.name===e),t)}setChildAt(e,t){let i=this.schema,o=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new Ke([Pe({type:new ei,length:this.numRows})]));const l=i.fields.slice(),c=l[e].clone({type:t.type}),d=this.schema.fields.map((f,g)=>this.getChildAt(g));[l[e],d[e]]=[c,t],[i,o]=Ad(i,d)}return new zt(i,o)}select(e){const t=this.schema.fields.reduce((i,o,l)=>i.set(o.name,l),new Map);return this.selectAt(e.map(i=>t.get(i)).filter(i=>i>-1))}selectAt(e){const t=this.schema.selectAt(e),i=this.batches.map(o=>o.selectAt(e));return new zt(t,i)}assign(e){const t=this.schema.fields,[i,o]=e.schema.fields.reduce((d,f,g)=>{const[m,v]=d,w=t.findIndex(S=>S.name===f.name);return~w?v[w]=g:m.push(g),d},[[],[]]),l=this.schema.assign(e.schema),c=[...t.map((d,f)=>[f,o[f]]).map(([d,f])=>f===void 0?this.getChildAt(d):e.getChildAt(f)),...i.map(d=>e.getChildAt(d))].filter(Boolean);return new zt(...Ad(l,c))}}Fv=Symbol.toStringTag;zt[Fv]=(r=>(r.schema=null,r.batches=[],r._offsets=new Uint32Array([0]),r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,r.isValid=vs(fh),r.get=vs(en.getVisitFn(C.Struct)),r.set=bv(xn.getVisitFn(C.Struct)),r.indexOf=Sv(Ol.getVisitFn(C.Struct)),r.getByteLength=vs(ir.getVisitFn(C.Struct)),"Table"))(zt.prototype);var Ov;let Zt=class Io{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof qe))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Pe({nullCount:0,type:new Ut(this.schema.fields),children:this.schema.fields.map(t=>Pe({type:t.type,nullCount:0}))})]=e,!(this.data instanceof nt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=ky(this.schema,this.data.children);break}case 1:{const[t]=e,{fields:i,children:o,length:l}=Object.keys(t).reduce((f,g,m)=>(f.children[m]=t[g],f.length=Math.max(f.length,t[g].length),f.fields[m]=st.new({name:g,type:t[g].type,nullable:!0}),f),{length:0,fields:new Array,children:new Array}),c=new qe(i),d=Pe({type:new Ut(i),length:l,children:o,nullCount:0});[this.schema,this.data]=ky(c,d.children,l);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Bv(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return en.visit(this.data,e)}set(e,t){return xn.visit(this.data,e,t)}indexOf(e,t){return Ol.visit(this.data,e,t)}getByteLength(e){return ir.visit(this.data,e)}[Symbol.iterator](){return ph.visit(new Ke([this.data]))}toArray(){return[...this]}concat(...e){return new zt(this.schema,[this,...e])}slice(e,t){const[i]=new Ke([this.data]).slice(e,t).data;return new Io(this.schema,i)}getChild(e){var t;return this.getChildAt((t=this.schema.fields)===null||t===void 0?void 0:t.findIndex(i=>i.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new Ke([this.data.children[e]]):null}setChild(e,t){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(o=>o.name===e),t)}setChildAt(e,t){let i=this.schema,o=this.data;if(e>-1&&e<this.numCols){t||(t=new Ke([Pe({type:new ei,length:this.numRows})]));const l=i.fields.slice(),c=o.children.slice(),d=l[e].clone({type:t.type});[l[e],c[e]]=[d,t.data[0]],i=new qe(l,new Map(this.schema.metadata)),o=Pe({type:new Ut(l),children:c})}return new Io(i,o)}select(e){const t=this.schema.select(e),i=new Ut(t.fields),o=[];for(const l of e){const c=this.schema.fields.findIndex(d=>d.name===l);~c&&(o[c]=this.data.children[c])}return new Io(t,Pe({type:i,length:this.numRows,children:o}))}selectAt(e){const t=this.schema.selectAt(e),i=e.map(l=>this.data.children[l]).filter(Boolean),o=Pe({type:new Ut(t.fields),length:this.numRows,children:i});return new Io(t,o)}};Ov=Symbol.toStringTag;Zt[Ov]=(r=>(r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Zt.prototype);function ky(r,e,t=e.reduce((i,o)=>Math.max(i,o.length),0)){var i;const o=[...r.fields],l=[...e],c=(t+63&-64)>>3;for(const[d,f]of r.fields.entries()){const g=e[d];(!g||g.length!==t)&&(o[d]=f.clone({nullable:!0}),l[d]=(i=g==null?void 0:g._changeLengthAndBackfillNullBitmap(t))!==null&&i!==void 0?i:Pe({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(c)}))}return[r.assign(o),Pe({type:new Ut(o),length:t,children:l})]}function Bv(r,e,t=new Map){for(let i=-1,o=r.length;++i<o;){const c=r[i].type,d=e[i];if(Ae.isDictionary(c)){if(!t.has(c.id))d.dictionary&&t.set(c.id,d.dictionary);else if(t.get(c.id)!==d.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}c.children&&c.children.length>0&&Bv(c.children,d.children,t)}return t}class _h extends Zt{constructor(e){const t=e.fields.map(o=>Pe({type:o.type})),i=Pe({type:new Ut(e.fields),nullCount:0,children:t});super(e,i)}}var Vl;(function(r){r[r.BUFFER=0]="BUFFER"})(Vl||(Vl={}));var Wl;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(Wl||(Wl={}));class Zr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new Zr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+et),(t||new Zr).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Wl.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):Vl.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,Wl.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,Vl.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,i){return Zr.startBodyCompression(e),Zr.addCodec(e,t),Zr.addMethod(e,i),Zr.endBodyCompression(e)}}class Mv{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,t,i){return e.prep(8,16),e.writeInt64(i),e.writeInt64(t),e.offset()}}let Pv=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,t,i){return e.prep(8,16),e.writeInt64(i),e.writeInt64(t),e.offset()}},vr=class Wd{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new Wd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+et),(t||new Wd).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){const i=this.bb.__offset(this.bb_pos,6);return i?(t||new Pv).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){const i=this.bb.__offset(this.bb_pos,8);return i?(t||new Mv).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const t=this.bb.__offset(this.bb_pos,10);return t?(e||new Zr).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}},ds=class Hd{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new Hd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+et),(t||new Hd).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){const t=this.bb.__offset(this.bb_pos,6);return t?(e||new vr).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}};var Hl;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(Hl||(Hl={}));let qr=class Hn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new Hn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+et),(t||new Hn).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Es.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Hl.NONE}header(e){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){const i=this.bb.__offset(this.bb_pos,12);return i?(t||new St).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,Es.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,Hl.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,i,o,l,c){return Hn.startMessage(e),Hn.addVersion(e,t),Hn.addHeaderType(e,i),Hn.addHeader(e,o),Hn.addBodyLength(e,l),Hn.addCustomMetadata(e,c),Hn.endMessage(e)}};var oE=Sr;class aE extends ze{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return Ai.startNull(t),Ai.endNull(t)}visitInt(e,t){return ln.startInt(t),ln.addBitWidth(t,e.bitWidth),ln.addIsSigned(t,e.isSigned),ln.endInt(t)}visitFloat(e,t){return Jn.startFloatingPoint(t),Jn.addPrecision(t,e.precision),Jn.endFloatingPoint(t)}visitBinary(e,t){return Si.startBinary(t),Si.endBinary(t)}visitBool(e,t){return Ei.startBool(t),Ei.endBool(t)}visitUtf8(e,t){return Ti.startUtf8(t),Ti.endUtf8(t)}visitDecimal(e,t){return qt.startDecimal(t),qt.addScale(t,e.scale),qt.addPrecision(t,e.precision),qt.addBitWidth(t,e.bitWidth),qt.endDecimal(t)}visitDate(e,t){return yl.startDate(t),yl.addUnit(t,e.unit),yl.endDate(t)}visitTime(e,t){return bn.startTime(t),bn.addUnit(t,e.unit),bn.addBitWidth(t,e.bitWidth),bn.endTime(t)}visitTimestamp(e,t){const i=e.timezone&&t.createString(e.timezone)||void 0;return Sn.startTimestamp(t),Sn.addUnit(t,e.unit),i!==void 0&&Sn.addTimezone(t,i),Sn.endTimestamp(t)}visitInterval(e,t){return er.startInterval(t),er.addUnit(t,e.unit),er.endInterval(t)}visitList(e,t){return xi.startList(t),xi.endList(t)}visitStruct(e,t){return Ni.startStruct_(t),Ni.endStruct_(t)}visitUnion(e,t){Qt.startTypeIdsVector(t,e.typeIds.length);const i=Qt.createTypeIdsVector(t,e.typeIds);return Qt.startUnion(t),Qt.addMode(t,e.mode),Qt.addTypeIds(t,i),Qt.endUnion(t)}visitDictionary(e,t){const i=this.visit(e.indices,t);return br.startDictionaryEncoding(t),br.addId(t,new oE(e.id,0)),br.addIsOrdered(t,e.isOrdered),i!==void 0&&br.addIndexType(t,i),br.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return Zn.startFixedSizeBinary(t),Zn.addByteWidth(t,e.byteWidth),Zn.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return Xn.startFixedSizeList(t),Xn.addListSize(t,e.listSize),Xn.endFixedSizeList(t)}visitMap(e,t){return ml.startMap(t),ml.addKeysSorted(t,e.keysSorted),ml.endMap(t)}}const Nd=new aE;function lE(r,e=new Map){return new qe(cE(r,e),_l(r.customMetadata),e)}function zv(r){return new dn(r.count,Uv(r.columns),$v(r.columns))}function uE(r){return new sr(zv(r.data),r.id,r.isDelta)}function cE(r,e){return(r.fields||[]).filter(Boolean).map(t=>st.fromJSON(t,e))}function Dy(r,e){return(r.children||[]).filter(Boolean).map(t=>st.fromJSON(t,e))}function Uv(r){return(r||[]).reduce((e,t)=>[...e,new Di(t.count,dE(t.VALIDITY)),...Uv(t.children)],[])}function $v(r,e=[]){for(let t=-1,i=(r||[]).length;++t<i;){const o=r[t];o.VALIDITY&&e.push(new nr(e.length,o.VALIDITY.length)),o.TYPE&&e.push(new nr(e.length,o.TYPE.length)),o.OFFSET&&e.push(new nr(e.length,o.OFFSET.length)),o.DATA&&e.push(new nr(e.length,o.DATA.length)),e=$v(o.children,e)}return e}function dE(r){return(r||[]).reduce((e,t)=>e+ +(t===0),0)}function hE(r,e){let t,i,o,l,c,d;return!e||!(l=r.dictionary)?(c=Ly(r,Dy(r,e)),o=new st(r.name,c,r.nullable,_l(r.customMetadata))):e.has(t=l.id)?(i=(i=l.indexType)?Ry(i):new Bo,d=new bs(e.get(t),i,t,l.isOrdered),o=new st(r.name,d,r.nullable,_l(r.customMetadata))):(i=(i=l.indexType)?Ry(i):new Bo,e.set(t,c=Ly(r,Dy(r,e))),d=new bs(c,i,t,l.isOrdered),o=new st(r.name,d,r.nullable,_l(r.customMetadata))),o||null}function _l(r){return new Map(Object.entries(r||{}))}function Ry(r){return new ti(r.isSigned,r.bitWidth)}function Ly(r,e){const t=r.type.name;switch(t){case"NONE":return new ei;case"null":return new ei;case"binary":return new Sl;case"utf8":return new El;case"bool":return new xl;case"list":return new Cl((e||[])[0]);case"struct":return new Ut(e||[]);case"struct_":return new Ut(e||[])}switch(t){case"int":{const i=r.type;return new ti(i.isSigned,i.bitWidth)}case"floatingpoint":{const i=r.type;return new Mo(Xt[i.precision])}case"decimal":{const i=r.type;return new Al(i.scale,i.precision,i.bitWidth)}case"date":{const i=r.type;return new Nl(Ar[i.unit])}case"time":{const i=r.type;return new Po(Ve[i.unit],i.bitWidth)}case"timestamp":{const i=r.type;return new Tl(Ve[i.unit],i.timezone)}case"interval":{const i=r.type;return new Il(Jr[i.unit])}case"union":{const i=r.type;return new kl(cn[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const i=r.type;return new Dl(i.byteWidth)}case"fixedsizelist":{const i=r.type;return new Rl(i.listSize,(e||[])[0])}case"map":{const i=r.type;return new Ll((e||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}var ki=Sr,fE=kv,pE=Ss;class $t{constructor(e,t,i,o){this._version=t,this._headerType=i,this.body=new Uint8Array(0),o&&(this._createHeader=()=>o),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){const i=new $t(0,un.V4,t);return i._createHeader=gE(e,t),i}static decode(e){e=new pE(Ge(e));const t=qr.getRootAsMessage(e),i=t.bodyLength(),o=t.version(),l=t.headerType(),c=new $t(i,o,l);return c._createHeader=yE(t,l),c}static encode(e){const t=new fE;let i=-1;return e.isSchema()?i=qe.encode(t,e.header()):e.isRecordBatch()?i=dn.encode(t,e.header()):e.isDictionaryBatch()&&(i=sr.encode(t,e.header())),qr.startMessage(t),qr.addVersion(t,un.V4),qr.addHeader(t,i),qr.addHeaderType(t,e.headerType),qr.addBodyLength(t,new ki(e.bodyLength,0)),qr.finishMessageBuffer(t,qr.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof qe)return new $t(0,un.V4,Ye.Schema,e);if(e instanceof dn)return new $t(t,un.V4,Ye.RecordBatch,e);if(e instanceof sr)return new $t(t,un.V4,Ye.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ye.Schema}isRecordBatch(){return this.headerType===Ye.RecordBatch}isDictionaryBatch(){return this.headerType===Ye.DictionaryBatch}}class dn{constructor(e,t,i){this._nodes=t,this._buffers=i,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class sr{constructor(e,t,i=!1){this._data=e,this._isDelta=i,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class nr{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}}class Di{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}}function gE(r,e){return(()=>{switch(e){case Ye.Schema:return qe.fromJSON(r);case Ye.RecordBatch:return dn.fromJSON(r);case Ye.DictionaryBatch:return sr.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${Ye[e]}, type: ${e} }`)})}function yE(r,e){return(()=>{switch(e){case Ye.Schema:return qe.decode(r.header(new Yn));case Ye.RecordBatch:return dn.decode(r.header(new vr),r.version());case Ye.DictionaryBatch:return sr.decode(r.header(new ds),r.version())}throw new Error(`Unrecognized Message type: { name: ${Ye[e]}, type: ${e} }`)})}st.encode=TE;st.decode=AE;st.fromJSON=hE;qe.encode=NE;qe.decode=mE;qe.fromJSON=lE;dn.encode=IE;dn.decode=vE;dn.fromJSON=zv;sr.encode=CE;sr.decode=wE;sr.fromJSON=uE;Di.encode=kE;Di.decode=bE;nr.encode=DE;nr.decode=_E;function mE(r,e=new Map){const t=xE(r,e);return new qe(t,bl(r),e)}function vE(r,e=un.V4){if(r.compression()!==null)throw new Error("Record batch compression not implemented");return new dn(r.length(),SE(r),EE(r,e))}function wE(r,e=un.V4){return new sr(dn.decode(r.data(),e),r.id(),r.isDelta())}function _E(r){return new nr(r.offset(),r.length())}function bE(r){return new Di(r.length(),r.nullCount())}function SE(r){const e=[];for(let t,i=-1,o=-1,l=r.nodesLength();++i<l;)(t=r.nodes(i))&&(e[++o]=Di.decode(t));return e}function EE(r,e){const t=[];for(let i,o=-1,l=-1,c=r.buffersLength();++o<c;)(i=r.buffers(o))&&(e<un.V4&&(i.bb_pos+=8*(o+1)),t[++l]=nr.decode(i));return t}function xE(r,e){const t=[];for(let i,o=-1,l=-1,c=r.fieldsLength();++o<c;)(i=r.fields(o))&&(t[++l]=st.decode(i,e));return t}function Fy(r,e){const t=[];for(let i,o=-1,l=-1,c=r.childrenLength();++o<c;)(i=r.children(o))&&(t[++l]=st.decode(i,e));return t}function AE(r,e){let t,i,o,l,c,d;return!e||!(d=r.dictionary())?(o=By(r,Fy(r,e)),i=new st(r.name(),o,r.nullable(),bl(r))):e.has(t=d.id().low)?(l=(l=d.indexType())?Oy(l):new Bo,c=new bs(e.get(t),l,t,d.isOrdered()),i=new st(r.name(),c,r.nullable(),bl(r))):(l=(l=d.indexType())?Oy(l):new Bo,e.set(t,o=By(r,Fy(r,e))),c=new bs(o,l,t,d.isOrdered()),i=new st(r.name(),c,r.nullable(),bl(r))),i||null}function bl(r){const e=new Map;if(r)for(let t,i,o=-1,l=Math.trunc(r.customMetadataLength());++o<l;)(t=r.customMetadata(o))&&(i=t.key())!=null&&e.set(i,t.value());return e}function Oy(r){return new ti(r.isSigned(),r.bitWidth())}function By(r,e){const t=r.typeType();switch(t){case ct.NONE:return new ei;case ct.Null:return new ei;case ct.Binary:return new Sl;case ct.Utf8:return new El;case ct.Bool:return new xl;case ct.List:return new Cl((e||[])[0]);case ct.Struct_:return new Ut(e||[])}switch(t){case ct.Int:{const i=r.type(new ln);return new ti(i.isSigned(),i.bitWidth())}case ct.FloatingPoint:{const i=r.type(new Jn);return new Mo(i.precision())}case ct.Decimal:{const i=r.type(new qt);return new Al(i.scale(),i.precision(),i.bitWidth())}case ct.Date:{const i=r.type(new yl);return new Nl(i.unit())}case ct.Time:{const i=r.type(new bn);return new Po(i.unit(),i.bitWidth())}case ct.Timestamp:{const i=r.type(new Sn);return new Tl(i.unit(),i.timezone())}case ct.Interval:{const i=r.type(new er);return new Il(i.unit())}case ct.Union:{const i=r.type(new Qt);return new kl(i.mode(),i.typeIdsArray()||[],e||[])}case ct.FixedSizeBinary:{const i=r.type(new Zn);return new Dl(i.byteWidth())}case ct.FixedSizeList:{const i=r.type(new Xn);return new Rl(i.listSize(),(e||[])[0])}case ct.Map:{const i=r.type(new ml);return new Ll((e||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${ct[t]}" (${t})`)}function NE(r,e){const t=e.fields.map(l=>st.encode(r,l));Yn.startFieldsVector(r,t.length);const i=Yn.createFieldsVector(r,t),o=e.metadata&&e.metadata.size>0?Yn.createCustomMetadataVector(r,[...e.metadata].map(([l,c])=>{const d=r.createString(`${l}`),f=r.createString(`${c}`);return St.startKeyValue(r),St.addKey(r,d),St.addValue(r,f),St.endKeyValue(r)})):-1;return Yn.startSchema(r),Yn.addFields(r,i),Yn.addEndianness(r,RE?xs.Little:xs.Big),o!==-1&&Yn.addCustomMetadata(r,o),Yn.endSchema(r)}function TE(r,e){let t=-1,i=-1,o=-1;const l=e.type;let c=e.typeId;Ae.isDictionary(l)?(c=l.dictionary.typeId,o=Nd.visit(l,r),i=Nd.visit(l.dictionary,r)):i=Nd.visit(l,r);const d=(l.children||[]).map(m=>st.encode(r,m)),f=wn.createChildrenVector(r,d),g=e.metadata&&e.metadata.size>0?wn.createCustomMetadataVector(r,[...e.metadata].map(([m,v])=>{const w=r.createString(`${m}`),S=r.createString(`${v}`);return St.startKeyValue(r),St.addKey(r,w),St.addValue(r,S),St.endKeyValue(r)})):-1;return e.name&&(t=r.createString(e.name)),wn.startField(r),wn.addType(r,i),wn.addTypeType(r,c),wn.addChildren(r,f),wn.addNullable(r,!!e.nullable),t!==-1&&wn.addName(r,t),o!==-1&&wn.addDictionary(r,o),g!==-1&&wn.addCustomMetadata(r,g),wn.endField(r)}function IE(r,e){const t=e.nodes||[],i=e.buffers||[];vr.startNodesVector(r,t.length);for(const c of t.slice().reverse())Di.encode(r,c);const o=r.endVector();vr.startBuffersVector(r,i.length);for(const c of i.slice().reverse())nr.encode(r,c);const l=r.endVector();return vr.startRecordBatch(r),vr.addLength(r,new ki(e.length,0)),vr.addNodes(r,o),vr.addBuffers(r,l),vr.endRecordBatch(r)}function CE(r,e){const t=dn.encode(r,e.data);return ds.startDictionaryBatch(r),ds.addId(r,new ki(e.id,0)),ds.addIsDelta(r,e.isDelta),ds.addData(r,t),ds.endDictionaryBatch(r)}function kE(r,e){return Pv.createFieldNode(r,new ki(e.length,0),new ki(e.nullCount,0))}function DE(r,e){return Mv.createBuffer(r,new ki(e.offset,0),new ki(e.length,0))}const RE=(()=>{const r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256})(),bh=r=>`Expected ${Ye[r]} Message in stream, but was null or length 0.`,Sh=r=>`Header pointer of flatbuffer-encoded ${Ye[r]} Message is null or length 0.`,jv=(r,e)=>`Expected to read ${r} metadata bytes, but only read ${e}.`,Gv=(r,e)=>`Expected to read ${r} bytes for message body, but only read ${e}.`;class Vv{constructor(e){this.source=e instanceof jl?e:new jl(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?dt:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(bh(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const t=Ge(this.source.read(e));if(t.byteLength<e)throw new Error(Gv(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){const t=Ye.Schema,i=this.readMessage(t),o=i==null?void 0:i.header();if(e&&!o)throw new Error(Sh(t));return o}readMetadataLength(){const e=this.source.read(nu),t=e&&new Ss(e),i=(t==null?void 0:t.readInt32(0))||0;return{done:i===0,value:i}}readMetadata(e){const t=this.source.read(e);if(!t)return dt;if(t.byteLength<e)throw new Error(jv(e,t.byteLength));return{done:!1,value:$t.decode(t)}}}class LE{constructor(e,t){this.source=e instanceof Ns?e:dm(e)?new Gl(e,t):new Ns(e)}[Symbol.asyncIterator](){return this}next(){return xe(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?dt:e})}throw(e){return xe(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return xe(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return xe(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(bh(e));return t.value})}readMessageBody(e){return xe(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const t=Ge(yield this.source.read(e));if(t.byteLength<e)throw new Error(Gv(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return xe(this,void 0,void 0,function*(){const t=Ye.Schema,i=yield this.readMessage(t),o=i==null?void 0:i.header();if(e&&!o)throw new Error(Sh(t));return o})}readMetadataLength(){return xe(this,void 0,void 0,function*(){const e=yield this.source.read(nu),t=e&&new Ss(e),i=(t==null?void 0:t.readInt32(0))||0;return{done:i===0,value:i}})}readMetadata(e){return xe(this,void 0,void 0,function*(){const t=yield this.source.read(e);if(!t)return dt;if(t.byteLength<e)throw new Error(jv(e,t.byteLength));return{done:!1,value:$t.decode(t)}})}}class FE extends Vv{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof Iy?e:new Iy(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:$t.fromJSON(e.schema,Ye.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:$t.fromJSON(t,Ye.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const t=e.batches[this._batchIndex++];return this._body=t.columns,{done:!1,value:$t.fromJSON(t,Ye.RecordBatch)}}return this._body=[],dt}readMessageBody(e){return t(this._body);function t(i){return(i||[]).reduce((o,l)=>[...o,...l.VALIDITY&&[l.VALIDITY]||[],...l.TYPE&&[l.TYPE]||[],...l.OFFSET&&[l.OFFSET]||[],...l.DATA&&[l.DATA]||[],...t(l.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(bh(e));return t.value}readSchema(){const e=Ye.Schema,t=this.readMessage(e),i=t==null?void 0:t.header();if(!t||!i)throw new Error(Sh(e));return i}}const nu=4,Yd="ARROW1",Uo=new Uint8Array(Yd.length);for(let r=0;r<Yd.length;r+=1)Uo[r]=Yd.codePointAt(r);function Eh(r,e=0){for(let t=-1,i=Uo.length;++t<i;)if(Uo[t]!==r[e+t])return!1;return!0}const qo=Uo.length,Wv=qo+nu,OE=qo*2+nu;class Er extends gh{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const t=this._impl.open(e);return Xr(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return _n.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return _n.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof Er?e:Bd(e)?zE(e):dm(e)?jE(e):Xr(e)?xe(this,void 0,void 0,function*(){return yield Er.from(yield e)}):hm(e)||th(e)||fm(e)||Is(e)?$E(new Ns(e)):UE(new jl(e))}static readAll(e){return e instanceof Er?e.isSync()?My(e):Py(e):Bd(e)||ArrayBuffer.isView(e)||Wo(e)||cm(e)?My(e):Py(e)}}class Yl extends Er{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return tr(this,arguments,function*(){yield Fe(yield*gl(Ii(this[Symbol.iterator]())))})}}class Kl extends Er{constructor(e){super(e),this._impl=e}readAll(){var e,t;return xe(this,void 0,void 0,function*(){const i=new Array;try{for(var o=Ii(this),l;l=yield o.next(),!l.done;){const c=l.value;i.push(c)}}catch(c){e={error:c}}finally{try{l&&!l.done&&(t=o.return)&&(yield t.call(o))}finally{if(e)throw e.error}}return i})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Hv extends Yl{constructor(e){super(e),this._impl=e}}class BE extends Kl{constructor(e){super(e),this._impl=e}}class Yv{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){const i=this._loadVectors(e,t,this.schema.fields),o=Pe({type:new Ut(this.schema.fields),length:e.length,children:i});return new Zt(this.schema,o)}_loadDictionaryBatch(e,t){const{id:i,isDelta:o}=e,{dictionaries:l,schema:c}=this,d=l.get(i);if(o||!d){const f=c.dictionaries.get(i),g=this._loadVectors(e.data,t,[f]);return(d&&o?d.concat(new Ke(g)):new Ke(g)).memoize()}return d.memoize()}_loadVectors(e,t,i){return new Lv(t,e.nodes,e.buffers,this.dictionaries).visitMany(i)}}class ql extends Yv{constructor(e,t){super(t),this._reader=Bd(e)?new FE(this._handle=e):new Vv(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=qv(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):dt}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):dt}next(){if(this.closed)return dt;let e;const{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const i=e.header(),o=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(i,o)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const i=e.header(),o=t.readMessageBody(e.bodyLength),l=this._loadDictionaryBatch(i,o);this.dictionaries.set(i.id,l)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new _h(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class Ql extends Yv{constructor(e,t){super(t),this._reader=new LE(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return xe(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return xe(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=qv(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return xe(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):dt})}return(e){return xe(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):dt})}next(){return xe(this,void 0,void 0,function*(){if(this.closed)return dt;let e;const{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const i=e.header(),o=yield t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(i,o)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const i=e.header(),o=yield t.readMessageBody(e.bodyLength),l=this._loadDictionaryBatch(i,o);this.dictionaries.set(i.id,l)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new _h(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return xe(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class Kv extends ql{constructor(e,t){super(e instanceof Cy?e:new Cy(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();const i=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(i&&this._handle.seek(i.offset)){const o=this._reader.readMessage(Ye.RecordBatch);if(o!=null&&o.isRecordBatch()){const l=o.header(),c=this._reader.readMessageBody(o.bodyLength);return this._loadRecordBatch(l,c)}}return null}_readDictionaryBatch(e){var t;const i=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(i&&this._handle.seek(i.offset)){const o=this._reader.readMessage(Ye.DictionaryBatch);if(o!=null&&o.isDictionaryBatch()){const l=o.header(),c=this._reader.readMessageBody(o.bodyLength),d=this._loadDictionaryBatch(l,c);this.dictionaries.set(l.id,d)}}}_readFooter(){const{_handle:e}=this,t=e.size-Wv,i=e.readInt32(t),o=e.readAt(t-i,i);return zo.decode(o)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(e)}return null}}class ME extends Ql{constructor(e,...t){const i=typeof t[0]!="number"?t.shift():void 0,o=t[0]instanceof Map?t.shift():void 0;super(e instanceof Gl?e:new Gl(e,i),o)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){const t=Object.create(null,{open:{get:()=>super.open}});return xe(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const i of this._footer.dictionaryBatches())i&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){var t;return xe(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const i=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(i&&(yield this._handle.seek(i.offset))){const o=yield this._reader.readMessage(Ye.RecordBatch);if(o!=null&&o.isRecordBatch()){const l=o.header(),c=yield this._reader.readMessageBody(o.bodyLength);return this._loadRecordBatch(l,c)}}return null})}_readDictionaryBatch(e){var t;return xe(this,void 0,void 0,function*(){const i=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(i&&(yield this._handle.seek(i.offset))){const o=yield this._reader.readMessage(Ye.DictionaryBatch);if(o!=null&&o.isDictionaryBatch()){const l=o.header(),c=yield this._reader.readMessageBody(o.bodyLength),d=this._loadDictionaryBatch(l,c);this.dictionaries.set(l.id,d)}}})}_readFooter(){return xe(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const t=e.size-Wv,i=yield e.readInt32(t),o=yield e.readAt(t-i,i);return zo.decode(o)})}_readNextMessageAndValidate(e){return xe(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}}class PE extends ql{constructor(e,t){super(e,t)}_loadVectors(e,t,i){return new Q1(t,e.nodes,e.buffers,this.dictionaries).visitMany(i)}}function qv(r,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:r.autoDestroy}function*My(r){const e=Er.from(r);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function Py(r){return tr(this,arguments,function*(){const t=yield Fe(Er.from(r));try{if(!(yield Fe(t.open({autoDestroy:!1}))).closed)do yield yield Fe(t);while(!(yield Fe(t.reset().open())).closed)}finally{yield Fe(t.cancel())}})}function zE(r){return new Yl(new PE(r))}function UE(r){const e=r.peek(qo+7&-8);return e&&e.byteLength>=4?Eh(e)?new Hv(new Kv(r.read())):new Yl(new ql(r)):new Yl(new ql((function*(){})()))}function $E(r){return xe(this,void 0,void 0,function*(){const e=yield r.peek(qo+7&-8);return e&&e.byteLength>=4?Eh(e)?new Hv(new Kv(yield r.read())):new Kl(new Ql(r)):new Kl(new Ql((function(){return tr(this,arguments,function*(){})})()))})}function jE(r){return xe(this,void 0,void 0,function*(){const{size:e}=yield r.stat(),t=new Gl(r,e);return e>=OE&&Eh(yield t.readAt(0,qo+7&-8))?new BE(new ME(t)):new Kl(new Ql(t))})}class mt extends ze{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){const t=o=>o.flatMap(l=>Array.isArray(l)?t(l):l instanceof Zt?l.data.children:l.data),i=new mt;return i.visitMany(t(e)),i}visit(e){if(e instanceof Ke)return this.visitMany(e.data),this;const{type:t}=e;if(!Ae.isDictionary(t)){const{length:i,nullCount:o}=e;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Ae.isNull(t)||zn.call(this,o<=0?new Uint8Array(0):ch(e.offset,i,e.nullBitmap)),this.nodes.push(new Di(i,o))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function zn(r){const e=r.byteLength+7&-8;return this.buffers.push(r),this.bufferRegions.push(new nr(this._byteLength,e)),this._byteLength+=e,this}function GE(r){const{type:e,length:t,typeIds:i,valueOffsets:o}=r;if(zn.call(this,i),e.mode===cn.Sparse)return Kd.call(this,r);if(e.mode===cn.Dense){if(r.offset<=0)return zn.call(this,o),Kd.call(this,r);{const l=i.reduce((m,v)=>Math.max(m,v),i[0]),c=new Int32Array(l+1),d=new Int32Array(l+1).fill(-1),f=new Int32Array(t),g=rh(-o[0],t,o);for(let m,v,w=-1;++w<t;)(v=d[m=i[w]])===-1&&(v=d[m]=g[m]),f[w]=g[w]-v,++c[m];zn.call(this,f);for(let m,v=-1,w=e.children.length;++v<w;)if(m=r.children[v]){const S=e.typeIds[v],F=Math.min(t,c[S]);this.visit(m.slice(d[S],F))}}}return this}function VE(r){let e;return r.nullCount>=r.length?zn.call(this,new Uint8Array(0)):(e=r.values)instanceof Uint8Array?zn.call(this,ch(r.offset,r.length,e)):zn.call(this,Fl(r.values))}function oi(r){return zn.call(this,r.values.subarray(0,r.length*r.stride))}function Qv(r){const{length:e,values:t,valueOffsets:i}=r,o=i[0],l=i[e],c=Math.min(l-o,t.byteLength-o);return zn.call(this,rh(-i[0],e,i)),zn.call(this,t.subarray(o,o+c)),this}function xh(r){const{length:e,valueOffsets:t}=r;return t&&zn.call(this,rh(t[0],e,t)),this.visit(r.children[0])}function Kd(r){return this.visitMany(r.type.children.map((e,t)=>r.children[t]).filter(Boolean))[0]}mt.prototype.visitBool=VE;mt.prototype.visitInt=oi;mt.prototype.visitFloat=oi;mt.prototype.visitUtf8=Qv;mt.prototype.visitBinary=Qv;mt.prototype.visitFixedSizeBinary=oi;mt.prototype.visitDate=oi;mt.prototype.visitTimestamp=oi;mt.prototype.visitTime=oi;mt.prototype.visitDecimal=oi;mt.prototype.visitList=xh;mt.prototype.visitStruct=Kd;mt.prototype.visitUnion=GE;mt.prototype.visitInterval=oi;mt.prototype.visitFixedSizeList=xh;mt.prototype.visitMap=xh;class Zv extends gh{constructor(e){super(),this._position=0,this._started=!1,this._sink=new wl,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Jt(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return Xr(e)?e.then(t=>this.writeAll(t)):Is(e)?Ih(this,e):Th(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof wl?this._sink=e:(this._sink=new wl,e&&dS(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&hS(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!Vd(t,this._schema))&&(t==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof zt&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof Zt&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!Vd(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof Zt?e instanceof _h||this._writeRecordBatch(e):e instanceof zt?this.writeAll(e.batches):Wo(e)&&this.writeAll(e)}_writeMessage(e,t=8){const i=t-1,o=$t.encode(e),l=o.byteLength,c=this._writeLegacyIpcFormat?4:8,d=l+c+i&~i,f=d-l-c;return e.headerType===Ye.RecordBatch?this._recordBatchBlocks.push(new ni(d,e.bodyLength,this._position)):e.headerType===Ye.DictionaryBatch&&this._dictionaryBlocks.push(new ni(d,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(d-c)),l>0&&this._write(o),this._writePadding(f)}_write(e){if(this._started){const t=Ge(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage($t.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Uo)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:t,nodes:i,bufferRegions:o,buffers:l}=mt.assemble(e),c=new dn(e.numRows,i,o),d=$t.from(c,t);return this._writeDictionaries(e)._writeMessage(d)._writeBodyBuffers(l)}_writeDictionaryBatch(e,t,i=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));const{byteLength:o,nodes:l,bufferRegions:c,buffers:d}=mt.assemble(new Ke([e])),f=new dn(e.length,l,c),g=new sr(f,t,i),m=$t.from(g,o);return this._writeMessage(m)._writeBodyBuffers(d)}_writeBodyBuffers(e){let t,i,o;for(let l=-1,c=e.length;++l<c;)(t=e[l])&&(i=t.byteLength)>0&&(this._write(t),(o=(i+7&-8)-i)>0&&this._writePadding(o));return this}_writeDictionaries(e){for(let[t,i]of e.dictionaries){let o=this._dictionaryDeltaOffsets.get(t)||0;if(o===0||(i=i==null?void 0:i.slice(o)).length>0)for(const l of i.data)this._writeDictionaryBatch(l,t,o>0),o+=l.length}return this}}class Ah extends Zv{static writeAll(e,t){const i=new Ah(t);return Xr(e)?e.then(o=>i.writeAll(o)):Is(e)?Ih(i,e):Th(i,e)}}class Nh extends Zv{static writeAll(e){const t=new Nh;return Xr(e)?e.then(i=>t.writeAll(i)):Is(e)?Ih(t,e):Th(t,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){const t=zo.encode(new zo(e,un.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}}function Th(r,e){let t=e;e instanceof zt&&(t=e.batches,r.reset(void 0,e.schema));for(const i of t)r.write(i);return r.finish()}function Ih(r,e){var t,i,o,l;return xe(this,void 0,void 0,function*(){try{for(t=Ii(e);i=yield t.next(),!i.done;){const c=i.value;r.write(c)}}catch(c){o={error:c}}finally{try{i&&!i.done&&(l=t.return)&&(yield l.call(t))}finally{if(o)throw o.error}}return r.finish()})}function Co(r){const e=Er.from(r);return Xr(e)?e.then(t=>Co(t)):e.isAsync()?e.readAll().then(t=>new zt(t)):new zt(e.readAll())}function Td(r,e="stream"){return(e==="stream"?Ah:Nh).writeAll(r).toUint8Array(!0)}var zy=(function(){function r(e,t,i,o){var l=this;this.getCell=function(c,d){var f=c<l.headerRows&&d<l.headerColumns,g=c>=l.headerRows&&d<l.headerColumns,m=c<l.headerRows&&d>=l.headerColumns;if(f){var v=["blank"];return d>0&&v.push("level"+c),{type:"blank",classNames:v.join(" "),content:""}}else if(m){var w=d-l.headerColumns,v=["col_heading","level"+c,"col"+w];return{type:"columns",classNames:v.join(" "),content:l.getContent(l.columnsTable,w,c)}}else if(g){var S=c-l.headerRows,v=["row_heading","level"+d,"row"+S];return{type:"index",id:"T_".concat(l.uuid,"level").concat(d,"_row").concat(S),classNames:v.join(" "),content:l.getContent(l.indexTable,S,d)}}else{var S=c-l.headerRows,w=d-l.headerColumns,v=["data","row"+S,"col"+w],F=l.styler?l.getContent(l.styler.displayValuesTable,S,w):l.getContent(l.dataTable,S,w);return{type:"data",id:"T_".concat(l.uuid,"row").concat(S,"_col").concat(w),classNames:v.join(" "),content:F}}},this.getContent=function(c,d,f){var g=c.getChildAt(f);if(g===null)return"";var m=l.getColumnTypeId(c,f);switch(m){case C.Timestamp:return l.nanosToDate(g.get(d));default:return g.get(d)}},this.dataTable=Co(e),this.indexTable=Co(t),this.columnsTable=Co(i),this.styler=o?{caption:o.caption,displayValuesTable:Co(o.displayValues),styles:o.styles,uuid:o.uuid}:void 0}return Object.defineProperty(r.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),r.prototype.serialize=function(){return{data:Td(this.dataTable),index:Td(this.indexTable),columns:Td(this.columnsTable)}},r.prototype.getColumnTypeId=function(e,t){return e.schema.fields[t].type.typeId},r.prototype.nanosToDate=function(e){return new Date(e/1e6)},r})(),Ro=function(){return Ro=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Ro.apply(this,arguments)},Lo;(function(r){r.COMPONENT_READY="streamlit:componentReady",r.SET_COMPONENT_VALUE="streamlit:setComponentValue",r.SET_FRAME_HEIGHT="streamlit:setFrameHeight"})(Lo||(Lo={}));var Mn=(function(){function r(){}return r.API_VERSION=1,r.RENDER_EVENT="streamlit:render",r.events=new EventTarget,r.registeredMessageListener=!1,r.setComponentReady=function(){r.registeredMessageListener||(window.addEventListener("message",r.onMessageEvent),r.registeredMessageListener=!0),r.sendBackMsg(Lo.COMPONENT_READY,{apiVersion:r.API_VERSION})},r.setFrameHeight=function(e){e===void 0&&(e=document.body.scrollHeight),e!==r.lastFrameHeight&&(r.lastFrameHeight=e,r.sendBackMsg(Lo.SET_FRAME_HEIGHT,{height:e}))},r.setComponentValue=function(e){var t;e instanceof zy?(t="dataframe",e=e.serialize()):HE(e)?(t="bytes",e=new Uint8Array(e.buffer)):e instanceof ArrayBuffer?(t="bytes",e=new Uint8Array(e)):t="json",r.sendBackMsg(Lo.SET_COMPONENT_VALUE,{value:e,dataType:t})},r.onMessageEvent=function(e){var t=e.data.type;switch(t){case r.RENDER_EVENT:r.onRenderMessage(e.data);break}},r.onRenderMessage=function(e){var t=e.args;t==null&&(console.error("Got null args in onRenderMessage. This should never happen"),t={});var i=e.dfs&&e.dfs.length>0?r.argsDataframeToObject(e.dfs):{};t=Ro(Ro({},t),i);var o=!!e.disabled,l=e.theme;l&&WE(l);var c={disabled:o,args:t,theme:l},d=new CustomEvent(r.RENDER_EVENT,{detail:c});r.events.dispatchEvent(d)},r.argsDataframeToObject=function(e){var t=e.map(function(i){var o=i.key,l=i.value;return[o,r.toArrowTable(l)]});return Object.fromEntries(t)},r.toArrowTable=function(e){var t,i=(t=e.data,t.data),o=t.index,l=t.columns,c=t.styler;return new zy(i,o,l,c)},r.sendBackMsg=function(e,t){window.parent.postMessage(Ro({isStreamlitMessage:!0,type:e},t),"*")},r})(),WE=function(r){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML=`
    :root {
      --primary-color: `.concat(r.primaryColor,`;
      --background-color: `).concat(r.backgroundColor,`;
      --secondary-background-color: `).concat(r.secondaryBackgroundColor,`;
      --text-color: `).concat(r.textColor,`;
      --font: `).concat(r.font,`;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
    }
  `)};function HE(r){var e=!1;try{e=r instanceof BigInt64Array||r instanceof BigUint64Array}catch{}return r instanceof Int8Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array||e}var Xv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}})();(function(r){Xv(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){Mn.setFrameHeight()},e.prototype.componentDidUpdate=function(){Mn.setFrameHeight()},e})(as.PureComponent);function YE(r){var e=(function(t){Xv(i,t);function i(o){var l=t.call(this,o)||this;return l.componentDidMount=function(){Mn.events.addEventListener(Mn.RENDER_EVENT,l.onRenderEvent),Mn.setComponentReady()},l.componentDidUpdate=function(){l.state.componentError!=null&&Mn.setFrameHeight()},l.componentWillUnmount=function(){Mn.events.removeEventListener(Mn.RENDER_EVENT,l.onRenderEvent)},l.onRenderEvent=function(c){l.setState({renderData:c.detail})},l.state={renderData:void 0,componentError:void 0},l}return i.prototype.render=function(){return this.state.componentError!=null?as.createElement("div",null,as.createElement("h1",null,"Component Error"),as.createElement("span",null,this.state.componentError.message)):this.state.renderData==null?null:as.createElement(r,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},i.getDerivedStateFromError=function(o){return{componentError:o}},i})(as.PureComponent);return nS(e,r)}const KE=({nodeTypes:r,relationshipTypes:e,graphOrder:t,graphSize:i})=>{const[o,l]=Pt.useState(!1),c=()=>{l(d=>!d)};return J.jsxs("div",{className:"legend-panel",children:[J.jsxs("div",{className:"legend-header",children:[J.jsx("h3",{children:"Legend"}),J.jsx("button",{onClick:c,className:"legend-toggle-button",children:o?"":"+"})]}),o&&J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"legend-section",children:[J.jsx("h4",{className:"legend-section-title",children:"Labels"}),J.jsx("div",{className:"legend-items-compact",children:r.map(d=>J.jsxs("div",{className:"legend-item-compact",children:[J.jsx("div",{className:"legend-color-small",style:{backgroundColor:d.color}}),J.jsx("span",{className:"legend-label",children:d.type})]},d.type))})]}),J.jsxs("div",{className:"legend-section",children:[J.jsx("h4",{className:"legend-section-title",children:"Relations"}),J.jsx("div",{className:"relationship-types-compact",children:e.map(d=>J.jsxs("div",{className:"relationship-item-compact",children:[J.jsx("span",{className:"relationship-icon-small",children:""}),J.jsx("span",{className:"relationship-label",children:d.type}),J.jsxs("span",{className:"relationship-count-small",children:["(",d.count,")"]})]},d.type))})]}),J.jsxs("div",{className:"legend-stats-compact",children:[J.jsxs("div",{className:"stat-item-compact",children:[J.jsx("span",{className:"stat-label",children:"Nodes"}),J.jsx("span",{className:"stat-value",children:t})]}),J.jsx("div",{className:"stat-divider",children:"|"}),J.jsxs("div",{className:"stat-item-compact",children:[J.jsx("span",{className:"stat-label",children:"Edges"}),J.jsx("span",{className:"stat-value",children:i})]})]})]})]})},qE=({properties:r})=>{const e=Object.entries(r).filter(([t])=>!["size","baseSize","baseColor"].includes(t));return e.length===0?J.jsx("p",{className:"no-properties",children:"No properties available"}):J.jsx(J.Fragment,{children:e.map(([t,i])=>J.jsxs("div",{className:"property-item",children:[J.jsx("span",{className:"property-label",children:t}),J.jsx("span",{className:"property-value",children:typeof i=="object"?JSON.stringify(i):String(i)})]},t))})},QE=({id:r,labels:e,color:t,properties:i})=>J.jsxs("div",{className:"property-group",children:[J.jsx("h4",{children:"Basic Information"}),J.jsxs("div",{className:"property-item",children:[J.jsx("span",{className:"property-label",children:"ID"}),J.jsx("span",{className:"property-value",children:r})]}),J.jsxs("div",{className:"property-item",children:[J.jsx("span",{className:"property-label",children:"Labels"}),J.jsx("div",{className:"labels-container",children:e.map((o,l)=>J.jsx("span",{className:"property-badge",style:{backgroundColor:t+"20",color:t,border:`1.5px solid ${t}`,marginRight:"5px"},children:o},l))})]})]}),ZE=({properties:r})=>J.jsxs("div",{className:"property-group",children:[J.jsx("h4",{children:"Properties"}),J.jsx(qE,{properties:r})]}),XE=({selectedNode:r,onClose:e})=>J.jsxs("div",{className:"properties-panel",children:[J.jsxs("div",{className:"properties-header",children:[J.jsx("h3",{children:"Node Properties"}),J.jsx("button",{className:"close-button",onClick:e,children:""})]}),J.jsxs("div",{className:"properties-content",children:[J.jsx(QE,{id:r.id,labels:r.labels,color:r.color,properties:r.properties}),J.jsx(ZE,{properties:r.properties})]})]}),JE=({properties:r})=>{const e=Object.entries(r).filter(([t])=>!["size","baseSize","baseColor"].includes(t));return e.length===0?J.jsx("p",{className:"no-properties",children:"No properties available"}):J.jsx(J.Fragment,{children:e.map(([t,i])=>J.jsxs("div",{className:"property-item",children:[J.jsx("span",{className:"property-label",children:t}),J.jsx("span",{className:"property-value",children:typeof i=="object"?JSON.stringify(i):String(i)})]},t))})},ex=({id:r,source:e,target:t,relType:i,color:o})=>J.jsxs("div",{className:"property-group",children:[J.jsx("h4",{children:"Basic Information"}),J.jsxs("div",{className:"property-item",children:[J.jsx("span",{className:"property-label",children:"ID"}),J.jsx("span",{className:"property-value",children:r})]}),J.jsxs("div",{className:"property-item",children:[J.jsx("span",{className:"property-label",children:"Type"}),J.jsx("span",{className:"property-badge",style:{backgroundColor:o+"20",color:o,border:`1.5px solid ${o}`},children:i})]}),J.jsxs("div",{className:"property-item",children:[J.jsx("span",{className:"property-label",children:"Source"}),J.jsx("span",{className:"property-value",children:e})]}),J.jsxs("div",{className:"property-item",children:[J.jsx("span",{className:"property-label",children:"Target"}),J.jsx("span",{className:"property-value",children:t})]})]}),tx=({properties:r})=>J.jsxs("div",{className:"property-group",children:[J.jsx("h4",{children:"Properties"}),J.jsx(JE,{properties:r})]}),nx=({selectedEdge:r,onClose:e})=>J.jsxs("div",{className:"properties-panel relationship-panel",children:[J.jsxs("div",{className:"properties-header",children:[J.jsx("h3",{children:"Relationship Properties"}),J.jsx("button",{className:"close-button",onClick:e,children:""})]}),J.jsxs("div",{className:"properties-content",children:[J.jsx(ex,{id:r.id,source:r.source,target:r.target,relType:r.relType,color:r.color}),J.jsx(tx,{properties:r.properties})]})]});function rx(){const r=arguments[0];for(let e=1,t=arguments.length;e<t;e++)if(arguments[e])for(const i in arguments[e])r[i]=arguments[e][i];return r}let bt=rx;typeof Object.assign=="function"&&(bt=Object.assign);function En(r,e,t,i){const o=r._nodes.get(e);let l=null;return o&&(i==="mixed"?l=o.out&&o.out[t]||o.undirected&&o.undirected[t]:i==="directed"?l=o.out&&o.out[t]:l=o.undirected&&o.undirected[t]),l}function Ct(r){return typeof r=="object"&&r!==null}function Jv(r){let e;for(e in r)return!1;return!0}function vn(r,e,t){Object.defineProperty(r,e,{enumerable:!1,configurable:!1,writable:!0,value:t})}function Fn(r,e,t){const i={enumerable:!0,configurable:!0};typeof t=="function"?i.get=t:(i.value=t,i.writable=!1),Object.defineProperty(r,e,i)}function Uy(r){return!(!Ct(r)||r.attributes&&!Array.isArray(r.attributes))}function ix(){let r=Math.floor(Math.random()*256)&255;return()=>r++}function xr(){const r=arguments;let e=null,t=-1;return{[Symbol.iterator](){return this},next(){let i=null;do{if(e===null){if(t++,t>=r.length)return{done:!0};e=r[t][Symbol.iterator]()}if(i=e.next(),i.done){e=null;continue}break}while(!0);return i}}}function ks(){return{[Symbol.iterator](){return this},next(){return{done:!0}}}}class Ch extends Error{constructor(e){super(),this.name="GraphError",this.message=e}}class oe extends Ch{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,oe.prototype.constructor)}}class ne extends Ch{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ne.prototype.constructor)}}class be extends Ch{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,be.prototype.constructor)}}function e0(r,e){this.key=r,this.attributes=e,this.clear()}e0.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function t0(r,e){this.key=r,this.attributes=e,this.clear()}t0.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function n0(r,e){this.key=r,this.attributes=e,this.clear()}n0.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function Ds(r,e,t,i,o){this.key=e,this.attributes=o,this.undirected=r,this.source=t,this.target=i}Ds.prototype.attach=function(){let r="out",e="in";this.undirected&&(r=e="undirected");const t=this.source.key,i=this.target.key;this.source[r][i]=this,!(this.undirected&&t===i)&&(this.target[e][t]=this)};Ds.prototype.attachMulti=function(){let r="out",e="in";const t=this.source.key,i=this.target.key;this.undirected&&(r=e="undirected");const o=this.source[r],l=o[i];if(typeof l>"u"){o[i]=this,this.undirected&&t===i||(this.target[e][t]=this);return}l.previous=this,this.next=l,o[i]=this,this.target[e][t]=this};Ds.prototype.detach=function(){const r=this.source.key,e=this.target.key;let t="out",i="in";this.undirected&&(t=i="undirected"),delete this.source[t][e],delete this.target[i][r]};Ds.prototype.detachMulti=function(){const r=this.source.key,e=this.target.key;let t="out",i="in";this.undirected&&(t=i="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[t][e],delete this.target[i][r]):(this.next.previous=void 0,this.source[t][e]=this.next,this.target[i][r]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const r0=0,i0=1,sx=2,s0=3;function Ir(r,e,t,i,o,l,c){let d,f,g,m;if(i=""+i,t===r0){if(d=r._nodes.get(i),!d)throw new ne(`Graph.${e}: could not find the "${i}" node in the graph.`);g=o,m=l}else if(t===s0){if(o=""+o,f=r._edges.get(o),!f)throw new ne(`Graph.${e}: could not find the "${o}" edge in the graph.`);const v=f.source.key,w=f.target.key;if(i===v)d=f.target;else if(i===w)d=f.source;else throw new ne(`Graph.${e}: the "${i}" node is not attached to the "${o}" edge (${v}, ${w}).`);g=l,m=c}else{if(f=r._edges.get(i),!f)throw new ne(`Graph.${e}: could not find the "${i}" edge in the graph.`);t===i0?d=f.source:d=f.target,g=o,m=l}return[d,g,m]}function ox(r,e,t){r.prototype[e]=function(i,o,l){const[c,d]=Ir(this,e,t,i,o,l);return c.attributes[d]}}function ax(r,e,t){r.prototype[e]=function(i,o){const[l]=Ir(this,e,t,i,o);return l.attributes}}function lx(r,e,t){r.prototype[e]=function(i,o,l){const[c,d]=Ir(this,e,t,i,o,l);return c.attributes.hasOwnProperty(d)}}function ux(r,e,t){r.prototype[e]=function(i,o,l,c){const[d,f,g]=Ir(this,e,t,i,o,l,c);return d.attributes[f]=g,this.emit("nodeAttributesUpdated",{key:d.key,type:"set",attributes:d.attributes,name:f}),this}}function cx(r,e,t){r.prototype[e]=function(i,o,l,c){const[d,f,g]=Ir(this,e,t,i,o,l,c);if(typeof g!="function")throw new oe(`Graph.${e}: updater should be a function.`);const m=d.attributes,v=g(m[f]);return m[f]=v,this.emit("nodeAttributesUpdated",{key:d.key,type:"set",attributes:d.attributes,name:f}),this}}function dx(r,e,t){r.prototype[e]=function(i,o,l){const[c,d]=Ir(this,e,t,i,o,l);return delete c.attributes[d],this.emit("nodeAttributesUpdated",{key:c.key,type:"remove",attributes:c.attributes,name:d}),this}}function hx(r,e,t){r.prototype[e]=function(i,o,l){const[c,d]=Ir(this,e,t,i,o,l);if(!Ct(d))throw new oe(`Graph.${e}: provided attributes are not a plain object.`);return c.attributes=d,this.emit("nodeAttributesUpdated",{key:c.key,type:"replace",attributes:c.attributes}),this}}function fx(r,e,t){r.prototype[e]=function(i,o,l){const[c,d]=Ir(this,e,t,i,o,l);if(!Ct(d))throw new oe(`Graph.${e}: provided attributes are not a plain object.`);return bt(c.attributes,d),this.emit("nodeAttributesUpdated",{key:c.key,type:"merge",attributes:c.attributes,data:d}),this}}function px(r,e,t){r.prototype[e]=function(i,o,l){const[c,d]=Ir(this,e,t,i,o,l);if(typeof d!="function")throw new oe(`Graph.${e}: provided updater is not a function.`);return c.attributes=d(c.attributes),this.emit("nodeAttributesUpdated",{key:c.key,type:"update",attributes:c.attributes}),this}}const gx=[{name:r=>`get${r}Attribute`,attacher:ox},{name:r=>`get${r}Attributes`,attacher:ax},{name:r=>`has${r}Attribute`,attacher:lx},{name:r=>`set${r}Attribute`,attacher:ux},{name:r=>`update${r}Attribute`,attacher:cx},{name:r=>`remove${r}Attribute`,attacher:dx},{name:r=>`replace${r}Attributes`,attacher:hx},{name:r=>`merge${r}Attributes`,attacher:fx},{name:r=>`update${r}Attributes`,attacher:px}];function yx(r){gx.forEach(function({name:e,attacher:t}){t(r,e("Node"),r0),t(r,e("Source"),i0),t(r,e("Target"),sx),t(r,e("Opposite"),s0)})}function mx(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new be(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new be(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+i,d=""+o;if(o=arguments[2],l=En(this,c,d,t),!l)throw new ne(`Graph.${e}: could not find an edge for the given path ("${c}" - "${d}").`)}else{if(t!=="mixed")throw new be(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new ne(`Graph.${e}: could not find the "${i}" edge in the graph.`)}return l.attributes[o]}}function vx(r,e,t){r.prototype[e]=function(i){let o;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new be(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new be(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+i,c=""+arguments[1];if(o=En(this,l,c,t),!o)throw new ne(`Graph.${e}: could not find an edge for the given path ("${l}" - "${c}").`)}else{if(t!=="mixed")throw new be(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,o=this._edges.get(i),!o)throw new ne(`Graph.${e}: could not find the "${i}" edge in the graph.`)}return o.attributes}}function wx(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new be(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new be(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+i,d=""+o;if(o=arguments[2],l=En(this,c,d,t),!l)throw new ne(`Graph.${e}: could not find an edge for the given path ("${c}" - "${d}").`)}else{if(t!=="mixed")throw new be(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new ne(`Graph.${e}: could not find the "${i}" edge in the graph.`)}return l.attributes.hasOwnProperty(o)}}function _x(r,e,t){r.prototype[e]=function(i,o,l){let c;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new be(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new be(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const d=""+i,f=""+o;if(o=arguments[2],l=arguments[3],c=En(this,d,f,t),!c)throw new ne(`Graph.${e}: could not find an edge for the given path ("${d}" - "${f}").`)}else{if(t!=="mixed")throw new be(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,c=this._edges.get(i),!c)throw new ne(`Graph.${e}: could not find the "${i}" edge in the graph.`)}return c.attributes[o]=l,this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:o}),this}}function bx(r,e,t){r.prototype[e]=function(i,o,l){let c;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new be(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new be(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const d=""+i,f=""+o;if(o=arguments[2],l=arguments[3],c=En(this,d,f,t),!c)throw new ne(`Graph.${e}: could not find an edge for the given path ("${d}" - "${f}").`)}else{if(t!=="mixed")throw new be(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,c=this._edges.get(i),!c)throw new ne(`Graph.${e}: could not find the "${i}" edge in the graph.`)}if(typeof l!="function")throw new oe(`Graph.${e}: updater should be a function.`);return c.attributes[o]=l(c.attributes[o]),this.emit("edgeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:o}),this}}function Sx(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new be(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new be(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+i,d=""+o;if(o=arguments[2],l=En(this,c,d,t),!l)throw new ne(`Graph.${e}: could not find an edge for the given path ("${c}" - "${d}").`)}else{if(t!=="mixed")throw new be(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new ne(`Graph.${e}: could not find the "${i}" edge in the graph.`)}return delete l.attributes[o],this.emit("edgeAttributesUpdated",{key:l.key,type:"remove",attributes:l.attributes,name:o}),this}}function Ex(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new be(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new be(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+i,d=""+o;if(o=arguments[2],l=En(this,c,d,t),!l)throw new ne(`Graph.${e}: could not find an edge for the given path ("${c}" - "${d}").`)}else{if(t!=="mixed")throw new be(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new ne(`Graph.${e}: could not find the "${i}" edge in the graph.`)}if(!Ct(o))throw new oe(`Graph.${e}: provided attributes are not a plain object.`);return l.attributes=o,this.emit("edgeAttributesUpdated",{key:l.key,type:"replace",attributes:l.attributes}),this}}function xx(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new be(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new be(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+i,d=""+o;if(o=arguments[2],l=En(this,c,d,t),!l)throw new ne(`Graph.${e}: could not find an edge for the given path ("${c}" - "${d}").`)}else{if(t!=="mixed")throw new be(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new ne(`Graph.${e}: could not find the "${i}" edge in the graph.`)}if(!Ct(o))throw new oe(`Graph.${e}: provided attributes are not a plain object.`);return bt(l.attributes,o),this.emit("edgeAttributesUpdated",{key:l.key,type:"merge",attributes:l.attributes,data:o}),this}}function Ax(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new be(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new be(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+i,d=""+o;if(o=arguments[2],l=En(this,c,d,t),!l)throw new ne(`Graph.${e}: could not find an edge for the given path ("${c}" - "${d}").`)}else{if(t!=="mixed")throw new be(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new ne(`Graph.${e}: could not find the "${i}" edge in the graph.`)}if(typeof o!="function")throw new oe(`Graph.${e}: provided updater is not a function.`);return l.attributes=o(l.attributes),this.emit("edgeAttributesUpdated",{key:l.key,type:"update",attributes:l.attributes}),this}}const Nx=[{name:r=>`get${r}Attribute`,attacher:mx},{name:r=>`get${r}Attributes`,attacher:vx},{name:r=>`has${r}Attribute`,attacher:wx},{name:r=>`set${r}Attribute`,attacher:_x},{name:r=>`update${r}Attribute`,attacher:bx},{name:r=>`remove${r}Attribute`,attacher:Sx},{name:r=>`replace${r}Attributes`,attacher:Ex},{name:r=>`merge${r}Attributes`,attacher:xx},{name:r=>`update${r}Attributes`,attacher:Ax}];function Tx(r){Nx.forEach(function({name:e,attacher:t}){t(r,e("Edge"),"mixed"),t(r,e("DirectedEdge"),"directed"),t(r,e("UndirectedEdge"),"undirected")})}const Ix=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Cx(r,e,t,i){let o=!1;for(const l in e){if(l===i)continue;const c=e[l];if(o=t(c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes,c.undirected),r&&o)return c.key}}function kx(r,e,t,i){let o,l,c,d=!1;for(const f in e)if(f!==i){o=e[f];do{if(l=o.source,c=o.target,d=t(o.key,o.attributes,l.key,c.key,l.attributes,c.attributes,o.undirected),r&&d)return o.key;o=o.next}while(o!==void 0)}}function Id(r,e){const t=Object.keys(r),i=t.length;let o,l=0;return{[Symbol.iterator](){return this},next(){do if(o)o=o.next;else{if(l>=i)return{done:!0};const c=t[l++];if(c===e){o=void 0;continue}o=r[c]}while(!o);return{done:!1,value:{edge:o.key,attributes:o.attributes,source:o.source.key,target:o.target.key,sourceAttributes:o.source.attributes,targetAttributes:o.target.attributes,undirected:o.undirected}}}}}function Dx(r,e,t,i){const o=e[t];if(!o)return;const l=o.source,c=o.target;if(i(o.key,o.attributes,l.key,c.key,l.attributes,c.attributes,o.undirected)&&r)return o.key}function Rx(r,e,t,i){let o=e[t];if(!o)return;let l=!1;do{if(l=i(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),r&&l)return o.key;o=o.next}while(o!==void 0)}function Cd(r,e){let t=r[e];if(t.next!==void 0)return{[Symbol.iterator](){return this},next(){if(!t)return{done:!0};const o={edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected};return t=t.next,{done:!1,value:o}}};let i=!1;return{[Symbol.iterator](){return this},next(){return i===!0?{done:!0}:(i=!0,{done:!1,value:{edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected}})}}}function Lx(r,e){if(r.size===0)return[];if(e==="mixed"||e===r.type)return Array.from(r._edges.keys());const t=e==="undirected"?r.undirectedSize:r.directedSize,i=new Array(t),o=e==="undirected",l=r._edges.values();let c=0,d,f;for(;d=l.next(),d.done!==!0;)f=d.value,f.undirected===o&&(i[c++]=f.key);return i}function o0(r,e,t,i){if(e.size===0)return;const o=t!=="mixed"&&t!==e.type,l=t==="undirected";let c,d,f=!1;const g=e._edges.values();for(;c=g.next(),c.done!==!0;){if(d=c.value,o&&d.undirected!==l)continue;const{key:m,attributes:v,source:w,target:S}=d;if(f=i(m,v,w.key,S.key,w.attributes,S.attributes,d.undirected),r&&f)return m}}function Fx(r,e){if(r.size===0)return ks();const t=e!=="mixed"&&e!==r.type,i=e==="undirected",o=r._edges.values();return{[Symbol.iterator](){return this},next(){let l,c;for(;;){if(l=o.next(),l.done)return l;if(c=l.value,!(t&&c.undirected!==i))break}return{value:{edge:c.key,attributes:c.attributes,source:c.source.key,target:c.target.key,sourceAttributes:c.source.attributes,targetAttributes:c.target.attributes,undirected:c.undirected},done:!1}}}}function kh(r,e,t,i,o,l){const c=e?kx:Cx;let d;if(t!=="undirected"&&(i!=="out"&&(d=c(r,o.in,l),r&&d)||i!=="in"&&(d=c(r,o.out,l,i?void 0:o.key),r&&d))||t!=="directed"&&(d=c(r,o.undirected,l),r&&d))return d}function Ox(r,e,t,i){const o=[];return kh(!1,r,e,t,i,function(l){o.push(l)}),o}function Bx(r,e,t){let i=ks();return r!=="undirected"&&(e!=="out"&&typeof t.in<"u"&&(i=xr(i,Id(t.in))),e!=="in"&&typeof t.out<"u"&&(i=xr(i,Id(t.out,e?void 0:t.key)))),r!=="directed"&&typeof t.undirected<"u"&&(i=xr(i,Id(t.undirected))),i}function Dh(r,e,t,i,o,l,c){const d=t?Rx:Dx;let f;if(e!=="undirected"&&(typeof o.in<"u"&&i!=="out"&&(f=d(r,o.in,l,c),r&&f)||typeof o.out<"u"&&i!=="in"&&(i||o.key!==l)&&(f=d(r,o.out,l,c),r&&f))||e!=="directed"&&typeof o.undirected<"u"&&(f=d(r,o.undirected,l,c),r&&f))return f}function Mx(r,e,t,i,o){const l=[];return Dh(!1,r,e,t,i,o,function(c){l.push(c)}),l}function Px(r,e,t,i){let o=ks();return r!=="undirected"&&(typeof t.in<"u"&&e!=="out"&&i in t.in&&(o=xr(o,Cd(t.in,i))),typeof t.out<"u"&&e!=="in"&&i in t.out&&(e||t.key!==i)&&(o=xr(o,Cd(t.out,i)))),r!=="directed"&&typeof t.undirected<"u"&&i in t.undirected&&(o=xr(o,Cd(t.undirected,i))),o}function zx(r,e){const{name:t,type:i,direction:o}=e;r.prototype[t]=function(l,c){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return[];if(!arguments.length)return Lx(this,i);if(arguments.length===1){l=""+l;const d=this._nodes.get(l);if(typeof d>"u")throw new ne(`Graph.${t}: could not find the "${l}" node in the graph.`);return Ox(this.multi,i==="mixed"?this.type:i,o,d)}if(arguments.length===2){l=""+l,c=""+c;const d=this._nodes.get(l);if(!d)throw new ne(`Graph.${t}:  could not find the "${l}" source node in the graph.`);if(!this._nodes.has(c))throw new ne(`Graph.${t}:  could not find the "${c}" target node in the graph.`);return Mx(i,this.multi,o,d,c)}throw new oe(`Graph.${t}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function Ux(r,e){const{name:t,type:i,direction:o}=e,l="forEach"+t[0].toUpperCase()+t.slice(1,-1);r.prototype[l]=function(g,m,v){if(!(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)){if(arguments.length===1)return v=g,o0(!1,this,i,v);if(arguments.length===2){g=""+g,v=m;const w=this._nodes.get(g);if(typeof w>"u")throw new ne(`Graph.${l}: could not find the "${g}" node in the graph.`);return kh(!1,this.multi,i==="mixed"?this.type:i,o,w,v)}if(arguments.length===3){g=""+g,m=""+m;const w=this._nodes.get(g);if(!w)throw new ne(`Graph.${l}:  could not find the "${g}" source node in the graph.`);if(!this._nodes.has(m))throw new ne(`Graph.${l}:  could not find the "${m}" target node in the graph.`);return Dh(!1,i,this.multi,o,w,m,v)}throw new oe(`Graph.${l}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const c="map"+t[0].toUpperCase()+t.slice(1);r.prototype[c]=function(){const g=Array.prototype.slice.call(arguments),m=g.pop();let v;if(g.length===0){let w=0;i!=="directed"&&(w+=this.undirectedSize),i!=="undirected"&&(w+=this.directedSize),v=new Array(w);let S=0;g.push((F,M,U,Y,W,V,k)=>{v[S++]=m(F,M,U,Y,W,V,k)})}else v=[],g.push((w,S,F,M,U,Y,W)=>{v.push(m(w,S,F,M,U,Y,W))});return this[l].apply(this,g),v};const d="filter"+t[0].toUpperCase()+t.slice(1);r.prototype[d]=function(){const g=Array.prototype.slice.call(arguments),m=g.pop(),v=[];return g.push((w,S,F,M,U,Y,W)=>{m(w,S,F,M,U,Y,W)&&v.push(w)}),this[l].apply(this,g),v};const f="reduce"+t[0].toUpperCase()+t.slice(1);r.prototype[f]=function(){let g=Array.prototype.slice.call(arguments);if(g.length<2||g.length>4)throw new oe(`Graph.${f}: invalid number of arguments (expecting 2, 3 or 4 and got ${g.length}).`);if(typeof g[g.length-1]=="function"&&typeof g[g.length-2]!="function")throw new oe(`Graph.${f}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let m,v;g.length===2?(m=g[0],v=g[1],g=[]):g.length===3?(m=g[1],v=g[2],g=[g[0]]):g.length===4&&(m=g[2],v=g[3],g=[g[0],g[1]]);let w=v;return g.push((S,F,M,U,Y,W,V)=>{w=m(w,S,F,M,U,Y,W,V)}),this[l].apply(this,g),w}}function $x(r,e){const{name:t,type:i,direction:o}=e,l="find"+t[0].toUpperCase()+t.slice(1,-1);r.prototype[l]=function(f,g,m){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return!1;if(arguments.length===1)return m=f,o0(!0,this,i,m);if(arguments.length===2){f=""+f,m=g;const v=this._nodes.get(f);if(typeof v>"u")throw new ne(`Graph.${l}: could not find the "${f}" node in the graph.`);return kh(!0,this.multi,i==="mixed"?this.type:i,o,v,m)}if(arguments.length===3){f=""+f,g=""+g;const v=this._nodes.get(f);if(!v)throw new ne(`Graph.${l}:  could not find the "${f}" source node in the graph.`);if(!this._nodes.has(g))throw new ne(`Graph.${l}:  could not find the "${g}" target node in the graph.`);return Dh(!0,i,this.multi,o,v,g,m)}throw new oe(`Graph.${l}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const c="some"+t[0].toUpperCase()+t.slice(1,-1);r.prototype[c]=function(){const f=Array.prototype.slice.call(arguments),g=f.pop();return f.push((v,w,S,F,M,U,Y)=>g(v,w,S,F,M,U,Y)),!!this[l].apply(this,f)};const d="every"+t[0].toUpperCase()+t.slice(1,-1);r.prototype[d]=function(){const f=Array.prototype.slice.call(arguments),g=f.pop();return f.push((v,w,S,F,M,U,Y)=>!g(v,w,S,F,M,U,Y)),!this[l].apply(this,f)}}function jx(r,e){const{name:t,type:i,direction:o}=e,l=t.slice(0,-1)+"Entries";r.prototype[l]=function(c,d){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return ks();if(!arguments.length)return Fx(this,i);if(arguments.length===1){c=""+c;const f=this._nodes.get(c);if(!f)throw new ne(`Graph.${l}: could not find the "${c}" node in the graph.`);return Bx(i,o,f)}if(arguments.length===2){c=""+c,d=""+d;const f=this._nodes.get(c);if(!f)throw new ne(`Graph.${l}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(d))throw new ne(`Graph.${l}:  could not find the "${d}" target node in the graph.`);return Px(i,o,f,d)}throw new oe(`Graph.${l}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function Gx(r){Ix.forEach(e=>{zx(r,e),Ux(r,e),$x(r,e),jx(r,e)})}const Vx=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function ru(){this.A=null,this.B=null}ru.prototype.wrap=function(r){this.A===null?this.A=r:this.B===null&&(this.B=r)};ru.prototype.has=function(r){return this.A!==null&&r in this.A||this.B!==null&&r in this.B};function No(r,e,t,i,o){for(const l in i){const c=i[l],d=c.source,f=c.target,g=d===t?f:d;if(e&&e.has(g.key))continue;const m=o(g.key,g.attributes);if(r&&m)return g.key}}function Rh(r,e,t,i,o){if(e!=="mixed"){if(e==="undirected")return No(r,null,i,i.undirected,o);if(typeof t=="string")return No(r,null,i,i[t],o)}const l=new ru;let c;if(e!=="undirected"){if(t!=="out"){if(c=No(r,null,i,i.in,o),r&&c)return c;l.wrap(i.in)}if(t!=="in"){if(c=No(r,l,i,i.out,o),r&&c)return c;l.wrap(i.out)}}if(e!=="directed"&&(c=No(r,l,i,i.undirected,o),r&&c))return c}function Wx(r,e,t){if(r!=="mixed"){if(r==="undirected")return Object.keys(t.undirected);if(typeof e=="string")return Object.keys(t[e])}const i=[];return Rh(!1,r,e,t,function(o){i.push(o)}),i}function To(r,e,t){const i=Object.keys(t),o=i.length;let l=0;return{[Symbol.iterator](){return this},next(){let c=null;do{if(l>=o)return r&&r.wrap(t),{done:!0};const d=t[i[l++]],f=d.source,g=d.target;if(c=f===e?g:f,r&&r.has(c.key)){c=null;continue}}while(c===null);return{done:!1,value:{neighbor:c.key,attributes:c.attributes}}}}}function Hx(r,e,t){if(r!=="mixed"){if(r==="undirected")return To(null,t,t.undirected);if(typeof e=="string")return To(null,t,t[e])}let i=ks();const o=new ru;return r!=="undirected"&&(e!=="out"&&(i=xr(i,To(o,t,t.in))),e!=="in"&&(i=xr(i,To(o,t,t.out)))),r!=="directed"&&(i=xr(i,To(o,t,t.undirected))),i}function Yx(r,e){const{name:t,type:i,direction:o}=e;r.prototype[t]=function(l){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return[];l=""+l;const c=this._nodes.get(l);if(typeof c>"u")throw new ne(`Graph.${t}: could not find the "${l}" node in the graph.`);return Wx(i==="mixed"?this.type:i,o,c)}}function Kx(r,e){const{name:t,type:i,direction:o}=e,l="forEach"+t[0].toUpperCase()+t.slice(1,-1);r.prototype[l]=function(g,m){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return;g=""+g;const v=this._nodes.get(g);if(typeof v>"u")throw new ne(`Graph.${l}: could not find the "${g}" node in the graph.`);Rh(!1,i==="mixed"?this.type:i,o,v,m)};const c="map"+t[0].toUpperCase()+t.slice(1);r.prototype[c]=function(g,m){const v=[];return this[l](g,(w,S)=>{v.push(m(w,S))}),v};const d="filter"+t[0].toUpperCase()+t.slice(1);r.prototype[d]=function(g,m){const v=[];return this[l](g,(w,S)=>{m(w,S)&&v.push(w)}),v};const f="reduce"+t[0].toUpperCase()+t.slice(1);r.prototype[f]=function(g,m,v){if(arguments.length<3)throw new oe(`Graph.${f}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let w=v;return this[l](g,(S,F)=>{w=m(w,S,F)}),w}}function qx(r,e){const{name:t,type:i,direction:o}=e,l=t[0].toUpperCase()+t.slice(1,-1),c="find"+l;r.prototype[c]=function(g,m){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return;g=""+g;const v=this._nodes.get(g);if(typeof v>"u")throw new ne(`Graph.${c}: could not find the "${g}" node in the graph.`);return Rh(!0,i==="mixed"?this.type:i,o,v,m)};const d="some"+l;r.prototype[d]=function(g,m){return!!this[c](g,m)};const f="every"+l;r.prototype[f]=function(g,m){return!this[c](g,(w,S)=>!m(w,S))}}function Qx(r,e){const{name:t,type:i,direction:o}=e,l=t.slice(0,-1)+"Entries";r.prototype[l]=function(c){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return ks();c=""+c;const d=this._nodes.get(c);if(typeof d>"u")throw new ne(`Graph.${l}: could not find the "${c}" node in the graph.`);return Hx(i==="mixed"?this.type:i,o,d)}}function Zx(r){Vx.forEach(e=>{Yx(r,e),Kx(r,e),qx(r,e),Qx(r,e)})}function fl(r,e,t,i,o){const l=i._nodes.values(),c=i.type;let d,f,g,m,v,w;for(;d=l.next(),d.done!==!0;){let S=!1;if(f=d.value,c!=="undirected"){m=f.out;for(g in m){v=m[g];do w=v.target,S=!0,o(f.key,w.key,f.attributes,w.attributes,v.key,v.attributes,v.undirected),v=v.next;while(v)}}if(c!=="directed"){m=f.undirected;for(g in m)if(!(e&&f.key>g)){v=m[g];do w=v.target,w.key!==g&&(w=v.source),S=!0,o(f.key,w.key,f.attributes,w.attributes,v.key,v.attributes,v.undirected),v=v.next;while(v)}}t&&!S&&o(f.key,null,f.attributes,null,null,null,null)}}function Xx(r,e){const t={key:r};return Jv(e.attributes)||(t.attributes=bt({},e.attributes)),t}function Jx(r,e,t){const i={key:e,source:t.source.key,target:t.target.key};return Jv(t.attributes)||(i.attributes=bt({},t.attributes)),r==="mixed"&&t.undirected&&(i.undirected=!0),i}function eA(r){if(!Ct(r))throw new oe('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in r))throw new oe("Graph.import: serialized node is missing its key.");if("attributes"in r&&(!Ct(r.attributes)||r.attributes===null))throw new oe("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function tA(r){if(!Ct(r))throw new oe('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in r))throw new oe("Graph.import: serialized edge is missing its source.");if(!("target"in r))throw new oe("Graph.import: serialized edge is missing its target.");if("attributes"in r&&(!Ct(r.attributes)||r.attributes===null))throw new oe("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in r&&typeof r.undirected!="boolean")throw new oe("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const nA=ix(),rA=new Set(["directed","undirected","mixed"]),$y=new Set(["domain","_events","_eventsCount","_maxListeners"]),iA=[{name:r=>`${r}Edge`,generateKey:!0},{name:r=>`${r}DirectedEdge`,generateKey:!0,type:"directed"},{name:r=>`${r}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:r=>`${r}EdgeWithKey`},{name:r=>`${r}DirectedEdgeWithKey`,type:"directed"},{name:r=>`${r}UndirectedEdgeWithKey`,type:"undirected"}],sA={allowSelfLoops:!0,multi:!1,type:"mixed"};function oA(r,e,t){if(t&&!Ct(t))throw new oe(`Graph.addNode: invalid attributes. Expecting an object but got "${t}"`);if(e=""+e,t=t||{},r._nodes.has(e))throw new be(`Graph.addNode: the "${e}" node already exist in the graph.`);const i=new r.NodeDataClass(e,t);return r._nodes.set(e,i),r.emit("nodeAdded",{key:e,attributes:t}),i}function jy(r,e,t){const i=new r.NodeDataClass(e,t);return r._nodes.set(e,i),r.emit("nodeAdded",{key:e,attributes:t}),i}function a0(r,e,t,i,o,l,c,d){if(!i&&r.type==="undirected")throw new be(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(i&&r.type==="directed")throw new be(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(d&&!Ct(d))throw new oe(`Graph.${e}: invalid attributes. Expecting an object but got "${d}"`);if(l=""+l,c=""+c,d=d||{},!r.allowSelfLoops&&l===c)throw new be(`Graph.${e}: source & target are the same ("${l}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const f=r._nodes.get(l),g=r._nodes.get(c);if(!f)throw new ne(`Graph.${e}: source node "${l}" not found.`);if(!g)throw new ne(`Graph.${e}: target node "${c}" not found.`);const m={key:null,undirected:i,source:l,target:c,attributes:d};if(t)o=r._edgeKeyGenerator();else if(o=""+o,r._edges.has(o))throw new be(`Graph.${e}: the "${o}" edge already exists in the graph.`);if(!r.multi&&(i?typeof f.undirected[c]<"u":typeof f.out[c]<"u"))throw new be(`Graph.${e}: an edge linking "${l}" to "${c}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const v=new Ds(i,o,f,g,d);r._edges.set(o,v);const w=l===c;return i?(f.undirectedDegree++,g.undirectedDegree++,w&&(f.undirectedLoops++,r._undirectedSelfLoopCount++)):(f.outDegree++,g.inDegree++,w&&(f.directedLoops++,r._directedSelfLoopCount++)),r.multi?v.attachMulti():v.attach(),i?r._undirectedSize++:r._directedSize++,m.key=o,r.emit("edgeAdded",m),o}function aA(r,e,t,i,o,l,c,d,f){if(!i&&r.type==="undirected")throw new be(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(i&&r.type==="directed")throw new be(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(d){if(f){if(typeof d!="function")throw new oe(`Graph.${e}: invalid updater function. Expecting a function but got "${d}"`)}else if(!Ct(d))throw new oe(`Graph.${e}: invalid attributes. Expecting an object but got "${d}"`)}l=""+l,c=""+c;let g;if(f&&(g=d,d=void 0),!r.allowSelfLoops&&l===c)throw new be(`Graph.${e}: source & target are the same ("${l}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let m=r._nodes.get(l),v=r._nodes.get(c),w,S;if(!t&&(w=r._edges.get(o),w)){if((w.source.key!==l||w.target.key!==c)&&(!i||w.source.key!==c||w.target.key!==l))throw new be(`Graph.${e}: inconsistency detected when attempting to merge the "${o}" edge with "${l}" source & "${c}" target vs. ("${w.source.key}", "${w.target.key}").`);S=w}if(!S&&!r.multi&&m&&(S=i?m.undirected[c]:m.out[c]),S){const W=[S.key,!1,!1,!1];if(f?!g:!d)return W;if(f){const V=S.attributes;S.attributes=g(V),r.emit("edgeAttributesUpdated",{type:"replace",key:S.key,attributes:S.attributes})}else bt(S.attributes,d),r.emit("edgeAttributesUpdated",{type:"merge",key:S.key,attributes:S.attributes,data:d});return W}d=d||{},f&&g&&(d=g(d));const F={key:null,undirected:i,source:l,target:c,attributes:d};if(t)o=r._edgeKeyGenerator();else if(o=""+o,r._edges.has(o))throw new be(`Graph.${e}: the "${o}" edge already exists in the graph.`);let M=!1,U=!1;m||(m=jy(r,l,{}),M=!0,l===c&&(v=m,U=!0)),v||(v=jy(r,c,{}),U=!0),w=new Ds(i,o,m,v,d),r._edges.set(o,w);const Y=l===c;return i?(m.undirectedDegree++,v.undirectedDegree++,Y&&(m.undirectedLoops++,r._undirectedSelfLoopCount++)):(m.outDegree++,v.inDegree++,Y&&(m.directedLoops++,r._directedSelfLoopCount++)),r.multi?w.attachMulti():w.attach(),i?r._undirectedSize++:r._directedSize++,F.key=o,r.emit("edgeAdded",F),[o,!0,M,U]}function os(r,e){r._edges.delete(e.key);const{source:t,target:i,attributes:o}=e,l=e.undirected,c=t===i;l?(t.undirectedDegree--,i.undirectedDegree--,c&&(t.undirectedLoops--,r._undirectedSelfLoopCount--)):(t.outDegree--,i.inDegree--,c&&(t.directedLoops--,r._directedSelfLoopCount--)),r.multi?e.detachMulti():e.detach(),l?r._undirectedSize--:r._directedSize--,r.emit("edgeDropped",{key:e.key,attributes:o,source:t.key,target:i.key,undirected:l})}class Xe extends om.EventEmitter{constructor(e){if(super(),e=bt({},sA,e),typeof e.multi!="boolean")throw new oe(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${e.multi}".`);if(!rA.has(e.type))throw new oe(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${e.type}".`);if(typeof e.allowSelfLoops!="boolean")throw new oe(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${e.allowSelfLoops}".`);const t=e.type==="mixed"?e0:e.type==="directed"?t0:n0;vn(this,"NodeDataClass",t);const i="geid_"+nA()+"_";let o=0;const l=()=>{let c;do c=i+o++;while(this._edges.has(c));return c};vn(this,"_attributes",{}),vn(this,"_nodes",new Map),vn(this,"_edges",new Map),vn(this,"_directedSize",0),vn(this,"_undirectedSize",0),vn(this,"_directedSelfLoopCount",0),vn(this,"_undirectedSelfLoopCount",0),vn(this,"_edgeKeyGenerator",l),vn(this,"_options",e),$y.forEach(c=>vn(this,c,this[c])),Fn(this,"order",()=>this._nodes.size),Fn(this,"size",()=>this._edges.size),Fn(this,"directedSize",()=>this._directedSize),Fn(this,"undirectedSize",()=>this._undirectedSize),Fn(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Fn(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Fn(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Fn(this,"multi",this._options.multi),Fn(this,"type",this._options.type),Fn(this,"allowSelfLoops",this._options.allowSelfLoops),Fn(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,t){if(this.type==="undirected")return!1;if(arguments.length===1){const i=""+e,o=this._edges.get(i);return!!o&&!o.undirected}else if(arguments.length===2){e=""+e,t=""+t;const i=this._nodes.get(e);return i?i.out.hasOwnProperty(t):!1}throw new oe(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(e,t){if(this.type==="directed")return!1;if(arguments.length===1){const i=""+e,o=this._edges.get(i);return!!o&&o.undirected}else if(arguments.length===2){e=""+e,t=""+t;const i=this._nodes.get(e);return i?i.undirected.hasOwnProperty(t):!1}throw new oe(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(e,t){if(arguments.length===1){const i=""+e;return this._edges.has(i)}else if(arguments.length===2){e=""+e,t=""+t;const i=this._nodes.get(e);return i?typeof i.out<"u"&&i.out.hasOwnProperty(t)||typeof i.undirected<"u"&&i.undirected.hasOwnProperty(t):!1}throw new oe(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(e,t){if(this.type==="undirected")return;if(e=""+e,t=""+t,this.multi)throw new be("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const i=this._nodes.get(e);if(!i)throw new ne(`Graph.directedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(t))throw new ne(`Graph.directedEdge: could not find the "${t}" target node in the graph.`);const o=i.out&&i.out[t]||void 0;if(o)return o.key}undirectedEdge(e,t){if(this.type==="directed")return;if(e=""+e,t=""+t,this.multi)throw new be("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const i=this._nodes.get(e);if(!i)throw new ne(`Graph.undirectedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(t))throw new ne(`Graph.undirectedEdge: could not find the "${t}" target node in the graph.`);const o=i.undirected&&i.undirected[t]||void 0;if(o)return o.key}edge(e,t){if(this.multi)throw new be("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new ne(`Graph.edge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(t))throw new ne(`Graph.edge: could not find the "${t}" target node in the graph.`);const o=i.out&&i.out[t]||i.undirected&&i.undirected[t]||void 0;if(o)return o.key}areDirectedNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new ne(`Graph.areDirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:t in i.in||t in i.out}areOutNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new ne(`Graph.areOutNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:t in i.out}areInNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new ne(`Graph.areInNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:t in i.in}areUndirectedNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new ne(`Graph.areUndirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="directed"?!1:t in i.undirected}areNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new ne(`Graph.areNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&(t in i.in||t in i.out)||this.type!=="directed"&&t in i.undirected}areInboundNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new ne(`Graph.areInboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&t in i.in||this.type!=="directed"&&t in i.undirected}areOutboundNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new ne(`Graph.areOutboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&t in i.out||this.type!=="directed"&&t in i.undirected}inDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.inDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree}outDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.outDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.outDegree}directedDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.directedDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree+t.outDegree}undirectedDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.undirectedDegree: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:t.undirectedDegree}inboundDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.inboundDegree: could not find the "${e}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=t.undirectedDegree),this.type!=="undirected"&&(i+=t.inDegree),i}outboundDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.outboundDegree: could not find the "${e}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=t.undirectedDegree),this.type!=="undirected"&&(i+=t.outDegree),i}degree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.degree: could not find the "${e}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=t.undirectedDegree),this.type!=="undirected"&&(i+=t.inDegree+t.outDegree),i}inDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.inDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree-t.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.outDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.outDegree-t.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.directedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree+t.outDegree-t.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:t.undirectedDegree-t.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let i=0,o=0;return this.type!=="directed"&&(i+=t.undirectedDegree,o+=t.undirectedLoops*2),this.type!=="undirected"&&(i+=t.inDegree,o+=t.directedLoops),i-o}outboundDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let i=0,o=0;return this.type!=="directed"&&(i+=t.undirectedDegree,o+=t.undirectedLoops*2),this.type!=="undirected"&&(i+=t.outDegree,o+=t.directedLoops),i-o}degreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.degreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let i=0,o=0;return this.type!=="directed"&&(i+=t.undirectedDegree,o+=t.undirectedLoops*2),this.type!=="undirected"&&(i+=t.inDegree+t.outDegree,o+=t.directedLoops*2),i-o}source(e){e=""+e;const t=this._edges.get(e);if(!t)throw new ne(`Graph.source: could not find the "${e}" edge in the graph.`);return t.source.key}target(e){e=""+e;const t=this._edges.get(e);if(!t)throw new ne(`Graph.target: could not find the "${e}" edge in the graph.`);return t.target.key}extremities(e){e=""+e;const t=this._edges.get(e);if(!t)throw new ne(`Graph.extremities: could not find the "${e}" edge in the graph.`);return[t.source.key,t.target.key]}opposite(e,t){e=""+e,t=""+t;const i=this._edges.get(t);if(!i)throw new ne(`Graph.opposite: could not find the "${t}" edge in the graph.`);const o=i.source.key,l=i.target.key;if(e===o)return l;if(e===l)return o;throw new ne(`Graph.opposite: the "${e}" node is not attached to the "${t}" edge (${o}, ${l}).`)}hasExtremity(e,t){e=""+e,t=""+t;const i=this._edges.get(e);if(!i)throw new ne(`Graph.hasExtremity: could not find the "${e}" edge in the graph.`);return i.source.key===t||i.target.key===t}isUndirected(e){e=""+e;const t=this._edges.get(e);if(!t)throw new ne(`Graph.isUndirected: could not find the "${e}" edge in the graph.`);return t.undirected}isDirected(e){e=""+e;const t=this._edges.get(e);if(!t)throw new ne(`Graph.isDirected: could not find the "${e}" edge in the graph.`);return!t.undirected}isSelfLoop(e){e=""+e;const t=this._edges.get(e);if(!t)throw new ne(`Graph.isSelfLoop: could not find the "${e}" edge in the graph.`);return t.source===t.target}addNode(e,t){return oA(this,e,t).key}mergeNode(e,t){if(t&&!Ct(t))throw new oe(`Graph.mergeNode: invalid attributes. Expecting an object but got "${t}"`);e=""+e,t=t||{};let i=this._nodes.get(e);return i?(t&&(bt(i.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:i.attributes,data:t})),[e,!1]):(i=new this.NodeDataClass(e,t),this._nodes.set(e,i),this.emit("nodeAdded",{key:e,attributes:t}),[e,!0])}updateNode(e,t){if(t&&typeof t!="function")throw new oe(`Graph.updateNode: invalid updater function. Expecting a function but got "${t}"`);e=""+e;let i=this._nodes.get(e);if(i){if(t){const l=i.attributes;i.attributes=t(l),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:i.attributes})}return[e,!1]}const o=t?t({}):{};return i=new this.NodeDataClass(e,o),this._nodes.set(e,i),this.emit("nodeAdded",{key:e,attributes:o}),[e,!0]}dropNode(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new ne(`Graph.dropNode: could not find the "${e}" node in the graph.`);let i;if(this.type!=="undirected"){for(const o in t.out){i=t.out[o];do os(this,i),i=i.next;while(i)}for(const o in t.in){i=t.in[o];do os(this,i),i=i.next;while(i)}}if(this.type!=="directed")for(const o in t.undirected){i=t.undirected[o];do os(this,i),i=i.next;while(i)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:t.attributes})}dropEdge(e){let t;if(arguments.length>1){const i=""+arguments[0],o=""+arguments[1];if(t=En(this,i,o,this.type),!t)throw new ne(`Graph.dropEdge: could not find the "${i}" -> "${o}" edge in the graph.`)}else if(e=""+e,t=this._edges.get(e),!t)throw new ne(`Graph.dropEdge: could not find the "${e}" edge in the graph.`);return os(this,t),this}dropDirectedEdge(e,t){if(arguments.length<2)throw new be("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new be("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,t=""+t;const i=En(this,e,t,"directed");if(!i)throw new ne(`Graph.dropDirectedEdge: could not find a "${e}" -> "${t}" edge in the graph.`);return os(this,i),this}dropUndirectedEdge(e,t){if(arguments.length<2)throw new be("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new be("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const i=En(this,e,t,"undirected");if(!i)throw new ne(`Graph.dropUndirectedEdge: could not find a "${e}" -> "${t}" edge in the graph.`);return os(this,i),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const e=this._nodes.values();let t;for(;t=e.next(),t.done!==!0;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,t){if(typeof t!="function")throw new oe("Graph.updateAttribute: updater should be a function.");const i=this._attributes[e];return this._attributes[e]=t(i),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!Ct(e))throw new oe("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!Ct(e))throw new oe("Graph.mergeAttributes: provided attributes are not a plain object.");return bt(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new oe("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,t){if(typeof e!="function")throw new oe("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!Uy(t))throw new oe("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const i=this._nodes.values();let o,l;for(;o=i.next(),o.done!==!0;)l=o.value,l.attributes=e(l.key,l.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})}updateEachEdgeAttributes(e,t){if(typeof e!="function")throw new oe("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!Uy(t))throw new oe("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const i=this._edges.values();let o,l,c,d;for(;o=i.next(),o.done!==!0;)l=o.value,c=l.source,d=l.target,l.attributes=e(l.key,l.attributes,c.key,d.key,c.attributes,d.attributes,l.undirected);this.emit("eachEdgeAttributesUpdated",{hints:t||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new oe("Graph.forEachAdjacencyEntry: expecting a callback.");fl(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new oe("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");fl(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new oe("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");fl(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new oe("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");fl(!1,!0,!0,this,e)}nodes(){return Array.from(this._nodes.keys())}forEachNode(e){if(typeof e!="function")throw new oe("Graph.forEachNode: expecting a callback.");const t=this._nodes.values();let i,o;for(;i=t.next(),i.done!==!0;)o=i.value,e(o.key,o.attributes)}findNode(e){if(typeof e!="function")throw new oe("Graph.findNode: expecting a callback.");const t=this._nodes.values();let i,o;for(;i=t.next(),i.done!==!0;)if(o=i.value,e(o.key,o.attributes))return o.key}mapNodes(e){if(typeof e!="function")throw new oe("Graph.mapNode: expecting a callback.");const t=this._nodes.values();let i,o;const l=new Array(this.order);let c=0;for(;i=t.next(),i.done!==!0;)o=i.value,l[c++]=e(o.key,o.attributes);return l}someNode(e){if(typeof e!="function")throw new oe("Graph.someNode: expecting a callback.");const t=this._nodes.values();let i,o;for(;i=t.next(),i.done!==!0;)if(o=i.value,e(o.key,o.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new oe("Graph.everyNode: expecting a callback.");const t=this._nodes.values();let i,o;for(;i=t.next(),i.done!==!0;)if(o=i.value,!e(o.key,o.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new oe("Graph.filterNodes: expecting a callback.");const t=this._nodes.values();let i,o;const l=[];for(;i=t.next(),i.done!==!0;)o=i.value,e(o.key,o.attributes)&&l.push(o.key);return l}reduceNodes(e,t){if(typeof e!="function")throw new oe("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new oe("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let i=t;const o=this._nodes.values();let l,c;for(;l=o.next(),l.done!==!0;)c=l.value,i=e(i,c.key,c.attributes);return i}nodeEntries(){const e=this._nodes.values();return{[Symbol.iterator](){return this},next(){const t=e.next();if(t.done)return t;const i=t.value;return{value:{node:i.key,attributes:i.attributes},done:!1}}}}export(){const e=new Array(this._nodes.size);let t=0;this._nodes.forEach((o,l)=>{e[t++]=Xx(l,o)});const i=new Array(this._edges.size);return t=0,this._edges.forEach((o,l)=>{i[t++]=Jx(this.type,l,o)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:i}}import(e,t=!1){if(e instanceof Xe)return e.forEachNode((f,g)=>{t?this.mergeNode(f,g):this.addNode(f,g)}),e.forEachEdge((f,g,m,v,w,S,F)=>{t?F?this.mergeUndirectedEdgeWithKey(f,m,v,g):this.mergeDirectedEdgeWithKey(f,m,v,g):F?this.addUndirectedEdgeWithKey(f,m,v,g):this.addDirectedEdgeWithKey(f,m,v,g)}),this;if(!Ct(e))throw new oe("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!Ct(e.attributes))throw new oe("Graph.import: invalid attributes. Expecting a plain object.");t?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let i,o,l,c,d;if(e.nodes){if(l=e.nodes,!Array.isArray(l))throw new oe("Graph.import: invalid nodes. Expecting an array.");for(i=0,o=l.length;i<o;i++){c=l[i],eA(c);const{key:f,attributes:g}=c;t?this.mergeNode(f,g):this.addNode(f,g)}}if(e.edges){let f=!1;if(this.type==="undirected"&&(f=!0),l=e.edges,!Array.isArray(l))throw new oe("Graph.import: invalid edges. Expecting an array.");for(i=0,o=l.length;i<o;i++){d=l[i],tA(d);const{source:g,target:m,attributes:v,undirected:w=f}=d;let S;"key"in d?(S=t?w?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:w?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,S.call(this,d.key,g,m,v)):(S=t?w?this.mergeUndirectedEdge:this.mergeDirectedEdge:w?this.addUndirectedEdge:this.addDirectedEdge,S.call(this,g,m,v))}}return this}nullCopy(e){const t=new Xe(bt({},this._options,e));return t.replaceAttributes(bt({},this.getAttributes())),t}emptyCopy(e){const t=this.nullCopy(e);return this._nodes.forEach((i,o)=>{const l=bt({},i.attributes);i=new t.NodeDataClass(o,l),t._nodes.set(o,i)}),t}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new be(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${e.type}" because this would mean losing information about the current graph.`);if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new be("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new be("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const t=this.emptyCopy(e),i=this._edges.values();let o,l;for(;o=i.next(),o.done!==!0;)l=o.value,a0(t,"copy",!1,l.undirected,l.key,l.source.key,l.target.key,bt({},l.attributes));return t}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const e={};this._nodes.forEach((l,c)=>{e[c]=l.attributes});const t={},i={};this._edges.forEach((l,c)=>{const d=l.undirected?"--":"->";let f="",g=l.source.key,m=l.target.key,v;l.undirected&&g>m&&(v=g,g=m,m=v);const w=`(${g})${d}(${m})`;c.startsWith("geid_")?this.multi&&(typeof i[w]>"u"?i[w]=0:i[w]++,f+=`${i[w]}. `):f+=`[${c}]: `,f+=w,t[f]=l.attributes});const o={};for(const l in this)this.hasOwnProperty(l)&&!$y.has(l)&&typeof this[l]!="function"&&typeof l!="symbol"&&(o[l]=this[l]);return o.attributes=this._attributes,o.nodes=e,o.edges=t,vn(o,"constructor",this.constructor),o}}typeof Symbol<"u"&&(Xe.prototype[Symbol.for("nodejs.util.inspect.custom")]=Xe.prototype.inspect);iA.forEach(r=>{["add","merge","update"].forEach(e=>{const t=r.name(e),i=e==="add"?a0:aA;r.generateKey?Xe.prototype[t]=function(o,l,c){return i(this,t,!0,(r.type||this.type)==="undirected",null,o,l,c,e==="update")}:Xe.prototype[t]=function(o,l,c,d){return i(this,t,!1,(r.type||this.type)==="undirected",o,l,c,d,e==="update")}})});yx(Xe);Tx(Xe);Gx(Xe);Zx(Xe);class l0 extends Xe{constructor(e){const t=bt({type:"directed"},e);if("multi"in t&&t.multi!==!1)throw new oe("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(t.type!=="directed")throw new oe('DirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class u0 extends Xe{constructor(e){const t=bt({type:"undirected"},e);if("multi"in t&&t.multi!==!1)throw new oe("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(t.type!=="undirected")throw new oe('UndirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class c0 extends Xe{constructor(e){const t=bt({multi:!0},e);if("multi"in t&&t.multi!==!0)throw new oe("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(t)}}class d0 extends Xe{constructor(e){const t=bt({type:"directed",multi:!0},e);if("multi"in t&&t.multi!==!0)throw new oe("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(t.type!=="directed")throw new oe('MultiDirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class h0 extends Xe{constructor(e){const t=bt({type:"undirected",multi:!0},e);if("multi"in t&&t.multi!==!0)throw new oe("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(t.type!=="undirected")throw new oe('MultiUndirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}function Rs(r){r.from=function(e,t){const i=bt({},e.options,t),o=new r(i);return o.import(e),o}}Rs(Xe);Rs(l0);Rs(u0);Rs(c0);Rs(d0);Rs(h0);Xe.Graph=Xe;Xe.DirectedGraph=l0;Xe.UndirectedGraph=u0;Xe.MultiGraph=c0;Xe.MultiDirectedGraph=d0;Xe.MultiUndirectedGraph=h0;Xe.InvalidArgumentsGraphError=oe;Xe.NotFoundGraphError=ne;Xe.UsageGraphError=be;const lA=r=>{const e=new Set;return r.nodes.forEach(t=>{t.labels.forEach(i=>e.add(i))}),Array.from(e).sort()},uA=r=>{const e=new Set;return r.relationships.forEach(t=>{e.add(t.type)}),Array.from(e).sort()},cA=(r,e)=>{const t=new Xe({multi:!0});return r.nodes.forEach(i=>{const o=String(i.identity),l=i.labels[0]||"Unknown",c=e.get(l)||"#9B8579",d=i.properties.size||12,f=i.properties.name||i.properties.label||i.properties.title||`Node ${l}`;t.addNode(o,{x:Math.random()*10-5,y:Math.random()*10-5,size:d,label:f,color:c,labels:i.labels,properties:i.properties,baseSize:d,baseColor:c})}),r.relationships.forEach(i=>{const o=String(i.start),l=String(i.end);if(t.hasNode(o)&&t.hasNode(l)){const c=`${o}-${l}-${i.identity}`;t.addEdge(o,l,{id:c,size:2,color:"#d4c4b0",relType:i.type,properties:i.properties,label:i.type,baseColor:"#d4c4b0",baseSize:2})}}),t},dA=r=>{const e=["#CC8B65","#B4846C","#8B9D83","#D4A574","#9B8579","#C99A6E","#A8968D","#B89B88","#7D8B7F","#D4B59E","#8E7968","#9FA89A"];if(r<=e.length)return e.slice(0,r);const t=[...e],i=360/(r-e.length);for(let o=e.length;o<r;o++){const l=(o-e.length)*i;t.push(`hsl(${l}, 45%, 60%)`)}return t},hA=r=>{const e=dA(r.length),t=new Map;return r.forEach((i,o)=>{t.set(i,e[o])}),t},fA=({args:r})=>{var W,V;const e=Pt.useRef(null),t=Pt.useRef(null),i=Pt.useRef(null),[o,l]=Pt.useState(null),[c,d]=Pt.useState(null),[f,g]=Pt.useState([]),[m,v]=Pt.useState([]),w=Pt.useRef(null),S=Pt.useRef(!1),F=Pt.useRef(!1),M=r.graphData,U=r.height||600,Y=Pt.useMemo(()=>M?JSON.stringify(M):null,[M]);return Pt.useEffect(()=>{if(!e.current||!M||!Y){console.warn("Container or graph data not available");return}if(F.current&&t.current){console.log("Already initialized, skipping...");return}console.log("Initializing graph..."),F.current=!0;const k=lA(M),A=uA(M),$=hA(k),E=k.map(L=>({type:L,color:$.get(L)||"#9B8579",description:`${L} nodes`}));g(E);const R=new Map;M.relationships.forEach(L=>{R.set(L.type,(R.get(L.type)||0)+1)});const B=A.map(L=>({type:L,count:R.get(L)||0}));v(B);const b=cA(M,$);i.current=b,Zb.random.assign(b);const z=new Gb(b,e.current,{defaultEdgeColor:"#d4c4b0",defaultNodeColor:"#9B8579",labelColor:{color:"#4a4137"},labelSize:14,labelWeight:"500",renderEdgeLabels:!0,enableEdgeEvents:!0});return t.current=z,z.on("downNode",L=>{S.current=!0,w.current=L.node,b.setNodeAttribute(L.node,"highlighted",!0),document.body.style.cursor="grabbing"}),z.getMouseCaptor().on("mousemovebody",L=>{if(!S.current||!w.current)return;const re=z.viewportToGraph(L);b.setNodeAttribute(w.current,"x",re.x),b.setNodeAttribute(w.current,"y",re.y),L.preventSigmaDefault(),L.original.preventDefault(),L.original.stopPropagation()}),z.getMouseCaptor().on("mouseup",()=>{w.current&&b.removeNodeAttribute(w.current,"highlighted"),S.current=!1,w.current=null,document.body.style.cursor="default"}),z.getTouchCaptor().on("touchmove",L=>{if(!S.current||!w.current)return;const re=L.touches[0],ae=z.viewportToGraph(re);b.setNodeAttribute(w.current,"x",ae.x),b.setNodeAttribute(w.current,"y",ae.y),L.preventSigmaDefault(),L.original.preventDefault(),L.original.stopPropagation()}),z.on("clickNode",({node:L})=>{if(S.current)return;const re=b.getNodeAttributes(L),ae=b.neighbors(L);d(null),l({id:L,labels:re.labels||[],color:re.color,properties:re.properties||{}}),b.forEachNode(te=>{const ue=b.getNodeAttribute(te,"baseSize"),ve=b.getNodeAttribute(te,"baseColor");b.setNodeAttribute(te,"size",ue),b.setNodeAttribute(te,"color",ve),b.removeNodeAttribute(te,"highlighted")}),b.forEachEdge(te=>{const ue=b.getEdgeAttribute(te,"baseColor"),ve=b.getEdgeAttribute(te,"baseSize");b.setEdgeAttribute(te,"color",ue),b.setEdgeAttribute(te,"size",ve)}),b.forEachNode(te=>{if(te===L){const ue=b.getNodeAttribute(te,"baseSize");b.setNodeAttribute(te,"size",ue*1.3),b.setNodeAttribute(te,"highlighted",!0)}else if(ae.includes(te)){const ue=b.getNodeAttribute(te,"baseColor");b.setNodeAttribute(te,"color",ue)}else{const ue=b.getNodeAttribute(te,"baseColor");b.setNodeAttribute(te,"color",ue+"40")}}),b.forEachEdge(te=>{const[ue,ve]=b.extremities(te);ue===L||ve===L?(b.setEdgeAttribute(te,"color",re.color),b.setEdgeAttribute(te,"size",3)):b.setEdgeAttribute(te,"color","#e8e3d8")}),z.refresh()}),z.on("clickEdge",({edge:L})=>{const re=b.getEdgeAttributes(L),[ae,te]=b.extremities(L),ue=b.getNodeAttribute(ae,"label"),ve=b.getNodeAttribute(te,"label");l(null),d({id:L,source:ue,target:ve,relType:re.relType||"UNKNOWN",color:"#CC8B65",properties:re.properties||{}}),b.forEachNode(Z=>{const T=b.getNodeAttribute(Z,"baseSize"),G=b.getNodeAttribute(Z,"baseColor");b.setNodeAttribute(Z,"size",T),b.setNodeAttribute(Z,"color",G),b.removeNodeAttribute(Z,"highlighted")}),b.forEachEdge(Z=>{const T=b.getEdgeAttribute(Z,"baseColor"),G=b.getEdgeAttribute(Z,"baseSize");b.setEdgeAttribute(Z,"color",T),b.setEdgeAttribute(Z,"size",G)}),b.setEdgeAttribute(L,"color","#CC8B65"),b.setEdgeAttribute(L,"size",4);const Q=b.getNodeAttribute(ae,"baseSize"),se=b.getNodeAttribute(te,"baseSize");b.setNodeAttribute(ae,"size",Q*1.3),b.setNodeAttribute(te,"size",se*1.3),z.refresh()}),z.on("clickStage",()=>{l(null),d(null),b.forEachNode(L=>{const re=b.getNodeAttribute(L,"baseSize"),ae=b.getNodeAttribute(L,"baseColor");b.setNodeAttribute(L,"size",re),b.setNodeAttribute(L,"color",ae),b.removeNodeAttribute(L,"highlighted")}),b.forEachEdge(L=>{const re=b.getEdgeAttribute(L,"baseColor"),ae=b.getEdgeAttribute(L,"baseSize");b.setEdgeAttribute(L,"color",re),b.setEdgeAttribute(L,"size",ae)}),z.refresh()}),z.on("enterNode",({node:L})=>{S.current||(document.body.style.cursor="grab");const re=b.getNodeAttribute(L,"baseSize");b.getNodeAttribute(L,"highlighted")?b.setNodeAttribute(L,"size",re*1.5):b.setNodeAttribute(L,"size",re*1.2),z.refresh()}),z.on("leaveNode",({node:L})=>{S.current||(document.body.style.cursor="default");const re=b.getNodeAttribute(L,"baseSize");b.getNodeAttribute(L,"highlighted")?b.setNodeAttribute(L,"size",re*1.3):b.setNodeAttribute(L,"size",re),z.refresh()}),z.on("enterEdge",({edge:L})=>{document.body.style.cursor="pointer";const re=b.getEdgeAttribute(L,"size");b.setEdgeAttribute(L,"size",re*1.5),z.refresh()}),z.on("leaveEdge",({edge:L})=>{document.body.style.cursor="default";const re=b.getEdgeAttribute(L,"baseSize");(c==null?void 0:c.id)===L?b.setEdgeAttribute(L,"size",4):b.setEdgeAttribute(L,"size",re),z.refresh()}),Mn.setComponentReady(),Mn.setFrameHeight(U+200),()=>{console.log("Cleaning up..."),t.current&&(t.current.kill(),t.current=null),F.current=!1}},[Y]),Pt.useEffect(()=>{F.current&&Mn.setFrameHeight(U+100)},[U]),M?J.jsx("div",{className:"graph-container",children:J.jsxs("div",{className:"content-wrapper",children:[J.jsx("div",{ref:e,className:"sigma-container",style:{width:"100%",height:`${U}px`}}),J.jsx(KE,{nodeTypes:f,relationshipTypes:m,graphOrder:((W=i.current)==null?void 0:W.order)||0,graphSize:((V=i.current)==null?void 0:V.size)||0}),o&&J.jsx(XE,{selectedNode:o,onClose:()=>l(null)}),c&&J.jsx(nx,{selectedEdge:c,onClose:()=>d(null)})]})}):J.jsx("div",{className:"graph-container",children:J.jsxs("div",{className:"no-data-message",children:[J.jsx("h3",{children:"No Graph Data"}),J.jsx("p",{children:"Please provide Neo4j graph data to visualize."})]})})},pA=YE(fA);function gA(){return J.jsx("div",{className:"App",children:J.jsx(pA,{})})}const f0=document.getElementById("root");if(!f0)throw new Error("Root element not found");v_.createRoot(f0).render(J.jsx(Pt.StrictMode,{children:J.jsx(gA,{})}));
