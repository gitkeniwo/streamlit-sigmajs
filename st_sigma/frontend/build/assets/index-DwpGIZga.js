(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function au(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nd={exports:{}},Ro={},rd={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function rb(){if(bg)return je;bg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,L={};function P(I,z,K){this.props=I,this.context=z,this.refs=L,this.updater=K||_}P.prototype.isReactComponent={},P.prototype.setState=function(I,z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,z,"setState")},P.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Z(){}Z.prototype=P.prototype;function j(I,z,K){this.props=I,this.context=z,this.refs=L,this.updater=K||_}var $=j.prototype=new Z;$.constructor=j,N($,P.prototype),$.isPureReactComponent=!0;var x=Array.isArray,T=Object.prototype.hasOwnProperty,M={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function se(I,z,K){var xe,A={},U=null,oe=null;if(z!=null)for(xe in z.ref!==void 0&&(oe=z.ref),z.key!==void 0&&(U=""+z.key),z)T.call(z,xe)&&!H.hasOwnProperty(xe)&&(A[xe]=z[xe]);var pe=arguments.length-2;if(pe===1)A.children=K;else if(1<pe){for(var he=Array(pe),_e=0;_e<pe;_e++)he[_e]=arguments[_e+2];A.children=he}if(I&&I.defaultProps)for(xe in pe=I.defaultProps,pe)A[xe]===void 0&&(A[xe]=pe[xe]);return{$$typeof:r,type:I,key:U,ref:oe,props:A,_owner:M.current}}function le(I,z){return{$$typeof:r,type:I.type,key:z,ref:I.ref,props:I.props,_owner:I._owner}}function O(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function we(I){var z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(K){return z[K]})}var G=/\/+/g;function S(I,z){return typeof I=="object"&&I!==null&&I.key!=null?we(""+I.key):z.toString(36)}function Te(I,z,K,xe,A){var U=typeof I;(U==="undefined"||U==="boolean")&&(I=null);var oe=!1;if(I===null)oe=!0;else switch(U){case"string":case"number":oe=!0;break;case"object":switch(I.$$typeof){case r:case e:oe=!0}}if(oe)return oe=I,A=A(oe),I=xe===""?"."+S(oe,0):xe,x(A)?(K="",I!=null&&(K=I.replace(G,"$&/")+"/"),Te(A,z,K,"",function(_e){return _e})):A!=null&&(O(A)&&(A=le(A,K+(!A.key||oe&&oe.key===A.key?"":(""+A.key).replace(G,"$&/")+"/")+I)),z.push(A)),1;if(oe=0,xe=xe===""?".":xe+":",x(I))for(var pe=0;pe<I.length;pe++){U=I[pe];var he=xe+S(U,pe);oe+=Te(U,z,K,he,A)}else if(he=w(I),typeof he=="function")for(I=he.call(I),pe=0;!(U=I.next()).done;)U=U.value,he=xe+S(U,pe++),oe+=Te(U,z,K,he,A);else if(U==="object")throw z=String(I),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return oe}function ve(I,z,K){if(I==null)return I;var xe=[],A=0;return Te(I,xe,"","",function(U){return z.call(K,U,A++)}),xe}function V(I){if(I._status===-1){var z=I._result;z=z(),z.then(function(K){(I._status===0||I._status===-1)&&(I._status=1,I._result=K)},function(K){(I._status===0||I._status===-1)&&(I._status=2,I._result=K)}),I._status===-1&&(I._status=0,I._result=z)}if(I._status===1)return I._result.default;throw I._result}var C={current:null},Y={transition:null},ie={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:Y,ReactCurrentOwner:M};function J(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:ve,forEach:function(I,z,K){ve(I,function(){z.apply(this,arguments)},K)},count:function(I){var z=0;return ve(I,function(){z++}),z},toArray:function(I){return ve(I,function(z){return z})||[]},only:function(I){if(!O(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},je.Component=P,je.Fragment=t,je.Profiler=o,je.PureComponent=j,je.StrictMode=i,je.Suspense=f,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,je.act=J,je.cloneElement=function(I,z,K){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var xe=N({},I.props),A=I.key,U=I.ref,oe=I._owner;if(z!=null){if(z.ref!==void 0&&(U=z.ref,oe=M.current),z.key!==void 0&&(A=""+z.key),I.type&&I.type.defaultProps)var pe=I.type.defaultProps;for(he in z)T.call(z,he)&&!H.hasOwnProperty(he)&&(xe[he]=z[he]===void 0&&pe!==void 0?pe[he]:z[he])}var he=arguments.length-2;if(he===1)xe.children=K;else if(1<he){pe=Array(he);for(var _e=0;_e<he;_e++)pe[_e]=arguments[_e+2];xe.children=pe}return{$$typeof:r,type:I.type,key:A,ref:U,props:xe,_owner:oe}},je.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:l,_context:I},I.Consumer=I},je.createElement=se,je.createFactory=function(I){var z=se.bind(null,I);return z.type=I,z},je.createRef=function(){return{current:null}},je.forwardRef=function(I){return{$$typeof:d,render:I}},je.isValidElement=O,je.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:V}},je.memo=function(I,z){return{$$typeof:g,type:I,compare:z===void 0?null:z}},je.startTransition=function(I){var z=Y.transition;Y.transition={};try{I()}finally{Y.transition=z}},je.unstable_act=J,je.useCallback=function(I,z){return C.current.useCallback(I,z)},je.useContext=function(I){return C.current.useContext(I)},je.useDebugValue=function(){},je.useDeferredValue=function(I){return C.current.useDeferredValue(I)},je.useEffect=function(I,z){return C.current.useEffect(I,z)},je.useId=function(){return C.current.useId()},je.useImperativeHandle=function(I,z,K){return C.current.useImperativeHandle(I,z,K)},je.useInsertionEffect=function(I,z){return C.current.useInsertionEffect(I,z)},je.useLayoutEffect=function(I,z){return C.current.useLayoutEffect(I,z)},je.useMemo=function(I,z){return C.current.useMemo(I,z)},je.useReducer=function(I,z,K){return C.current.useReducer(I,z,K)},je.useRef=function(I){return C.current.useRef(I)},je.useState=function(I){return C.current.useState(I)},je.useSyncExternalStore=function(I,z,K){return C.current.useSyncExternalStore(I,z,K)},je.useTransition=function(){return C.current.useTransition()},je.version="18.3.1",je}var _g;function Zd(){return _g||(_g=1,rd.exports=rb()),rd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function ib(){if(Sg)return Ro;Sg=1;var r=Zd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,g){var y,v={},w=null,_=null;g!==void 0&&(w=""+g),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(_=f.ref);for(y in f)i.call(f,y)&&!l.hasOwnProperty(y)&&(v[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)v[y]===void 0&&(v[y]=f[y]);return{$$typeof:e,type:d,key:w,ref:_,props:v,_owner:o.current}}return Ro.Fragment=t,Ro.jsx=u,Ro.jsxs=u,Ro}var Eg;function sb(){return Eg||(Eg=1,nd.exports=ib()),nd.exports}var te=sb(),Gt=Zd(),pl={},id={exports:{}},Qt={},sd={exports:{}},od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function ob(){return Ag||(Ag=1,(function(r){function e(Y,ie){var J=Y.length;Y.push(ie);e:for(;0<J;){var I=J-1>>>1,z=Y[I];if(0<o(z,ie))Y[I]=ie,Y[J]=z,J=I;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ie=Y[0],J=Y.pop();if(J!==ie){Y[0]=J;e:for(var I=0,z=Y.length,K=z>>>1;I<K;){var xe=2*(I+1)-1,A=Y[xe],U=xe+1,oe=Y[U];if(0>o(A,J))U<z&&0>o(oe,A)?(Y[I]=oe,Y[U]=J,I=U):(Y[I]=A,Y[xe]=J,I=xe);else if(U<z&&0>o(oe,J))Y[I]=oe,Y[U]=J,I=U;else break e}}return ie}function o(Y,ie){var J=Y.sortIndex-ie.sortIndex;return J!==0?J:Y.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();r.unstable_now=function(){return u.now()-d}}var f=[],g=[],y=1,v=null,w=3,_=!1,N=!1,L=!1,P=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(Y){for(var ie=t(g);ie!==null;){if(ie.callback===null)i(g);else if(ie.startTime<=Y)i(g),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(g)}}function x(Y){if(L=!1,$(Y),!N)if(t(f)!==null)N=!0,V(T);else{var ie=t(g);ie!==null&&C(x,ie.startTime-Y)}}function T(Y,ie){N=!1,L&&(L=!1,Z(se),se=-1),_=!0;var J=w;try{for($(ie),v=t(f);v!==null&&(!(v.expirationTime>ie)||Y&&!we());){var I=v.callback;if(typeof I=="function"){v.callback=null,w=v.priorityLevel;var z=I(v.expirationTime<=ie);ie=r.unstable_now(),typeof z=="function"?v.callback=z:v===t(f)&&i(f),$(ie)}else i(f);v=t(f)}if(v!==null)var K=!0;else{var xe=t(g);xe!==null&&C(x,xe.startTime-ie),K=!1}return K}finally{v=null,w=J,_=!1}}var M=!1,H=null,se=-1,le=5,O=-1;function we(){return!(r.unstable_now()-O<le)}function G(){if(H!==null){var Y=r.unstable_now();O=Y;var ie=!0;try{ie=H(!0,Y)}finally{ie?S():(M=!1,H=null)}}else M=!1}var S;if(typeof j=="function")S=function(){j(G)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,ve=Te.port2;Te.port1.onmessage=G,S=function(){ve.postMessage(null)}}else S=function(){P(G,0)};function V(Y){H=Y,M||(M=!0,S())}function C(Y,ie){se=P(function(){Y(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_continueExecution=function(){N||_||(N=!0,V(T))},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var J=w;w=ie;try{return Y()}finally{w=J}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=w;w=Y;try{return ie()}finally{w=J}},r.unstable_scheduleCallback=function(Y,ie,J){var I=r.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?I+J:I):J=I,Y){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=J+z,Y={id:y++,callback:ie,priorityLevel:Y,startTime:J,expirationTime:z,sortIndex:-1},J>I?(Y.sortIndex=J,e(g,Y),t(f)===null&&Y===t(g)&&(L?(Z(se),se=-1):L=!0,C(x,J-I))):(Y.sortIndex=z,e(f,Y),N||_||(N=!0,V(T))),Y},r.unstable_shouldYield=we,r.unstable_wrapCallback=function(Y){var ie=w;return function(){var J=w;w=ie;try{return Y.apply(this,arguments)}finally{w=J}}}})(od)),od}var Tg;function ab(){return Tg||(Tg=1,sd.exports=ob()),sd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function lb(){if(Ig)return Qt;Ig=1;var r=Zd(),e=ab();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(n){return f.call(v,n)?!0:f.call(y,n)?!1:g.test(n)?v[n]=!0:(y[n]=!0,!1)}function _(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function N(n,s,a,c){if(s===null||typeof s>"u"||_(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(n,s,a,c,h,p,m){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=p,this.removeEmptyString=m}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){P[n]=new L(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];P[s]=new L(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){P[n]=new L(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){P[n]=new L(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){P[n]=new L(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){P[n]=new L(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){P[n]=new L(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){P[n]=new L(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){P[n]=new L(n,5,!1,n.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function j(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(Z,j);P[s]=new L(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(Z,j);P[s]=new L(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(Z,j);P[s]=new L(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){P[n]=new L(n,1,!1,n.toLowerCase(),null,!1,!1)}),P.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){P[n]=new L(n,1,!1,n.toLowerCase(),null,!0,!0)});function $(n,s,a,c){var h=P.hasOwnProperty(s)?P[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,a,h,c)&&(a=null),c||h===null?w(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):h.mustUseProperty?n[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?n.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),M=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),we=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=Y&&n[Y]||n["@@iterator"],typeof n=="function"?n:null)}var J=Object.assign,I;function z(n){if(I===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);I=s&&s[1]||""}return`
`+I+n}var K=!1;function xe(n,s){if(!n||K)return"";K=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var c=B}Reflect.construct(n,[],s)}else{try{s.call()}catch(B){c=B}n.call(s.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var h=B.stack.split(`
`),p=c.stack.split(`
`),m=h.length-1,b=p.length-1;1<=m&&0<=b&&h[m]!==p[b];)b--;for(;1<=m&&0<=b;m--,b--)if(h[m]!==p[b]){if(m!==1||b!==1)do if(m--,b--,0>b||h[m]!==p[b]){var E=`
`+h[m].replace(" at new "," at ");return n.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",n.displayName)),E}while(1<=m&&0<=b);break}}}finally{K=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?z(n):""}function A(n){switch(n.tag){case 5:return z(n.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return n=xe(n.type,!1),n;case 11:return n=xe(n.type.render,!1),n;case 1:return n=xe(n.type,!0),n;default:return""}}function U(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case M:return"Portal";case le:return"Profiler";case se:return"StrictMode";case S:return"Suspense";case Te:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case we:return(n.displayName||"Context")+".Consumer";case O:return(n._context.displayName||"Context")+".Provider";case G:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ve:return s=n.displayName||null,s!==null?s:U(n.type)||"Memo";case V:s=n._payload,n=n._init;try{return U(n(s))}catch{}}return null}function oe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(s);case 8:return s===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function pe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function he(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _e(n){var s=he(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(m){c=""+m,p.call(this,m)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(m){c=""+m},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ke(n){n._valueTracker||(n._valueTracker=_e(n))}function be(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=he(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function et(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ge(n,s){var a=s.checked;return J({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Se(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=pe(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function W(n,s){s=s.checked,s!=null&&$(n,"checked",s,!1)}function Rn(n,s){W(n,s);var a=pe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Nn(n,s.type,a):s.hasOwnProperty("defaultValue")&&Nn(n,s.type,pe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function yr(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Nn(n,s,a){(s!=="number"||et(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var gn=Array.isArray;function _t(n,s,a,c){if(n=n.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=s.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&c&&(n[a].defaultSelected=!0)}else{for(a=""+pe(a),s=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function Yn(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function qi(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(gn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:pe(a)}}function _i(n,s){var a=pe(s.value),c=pe(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Si(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Ei(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mr(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Ei(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var vr,Kn=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,h)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=vr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function qn(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a0=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(n){a0.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Qn[s]=Qn[n]})});function Fh(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Qn.hasOwnProperty(n)&&Qn[n]?(""+s).trim():s+"px"}function Oh(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=Fh(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,h):n[a]=h}}var l0=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pu(n,s){if(s){if(l0[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function gu(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=null;function mu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vu=null,Qi=null,Zi=null;function Bh(n){if(n=yo(n)){if(typeof vu!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Da(s),vu(n.stateNode,n.type,s))}}function Ph(n){Qi?Zi?Zi.push(n):Zi=[n]:Qi=n}function Mh(){if(Qi){var n=Qi,s=Zi;if(Zi=Qi=null,Bh(n),s)for(n=0;n<s.length;n++)Bh(s[n])}}function zh(n,s){return n(s)}function Uh(){}var wu=!1;function Gh(n,s,a){if(wu)return n(s,a);wu=!0;try{return zh(n,s,a)}finally{wu=!1,(Qi!==null||Zi!==null)&&(Uh(),Mh())}}function Ks(n,s){var a=n.stateNode;if(a===null)return null;var c=Da(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var bu=!1;if(d)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){bu=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{bu=!1}function u0(n,s,a,c,h,p,m,b,E){var B=Array.prototype.slice.call(arguments,3);try{s.apply(a,B)}catch(X){this.onError(X)}}var Qs=!1,aa=null,la=!1,_u=null,c0={onError:function(n){Qs=!0,aa=n}};function d0(n,s,a,c,h,p,m,b,E){Qs=!1,aa=null,u0.apply(c0,arguments)}function h0(n,s,a,c,h,p,m,b,E){if(d0.apply(this,arguments),Qs){if(Qs){var B=aa;Qs=!1,aa=null}else throw Error(t(198));la||(la=!0,_u=B)}}function Ai(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function jh(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function $h(n){if(Ai(n)!==n)throw Error(t(188))}function f0(n){var s=n.alternate;if(!s){if(s=Ai(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return $h(h),n;if(p===c)return $h(h),s;p=p.sibling}throw Error(t(188))}if(a.return!==c.return)a=h,c=p;else{for(var m=!1,b=h.child;b;){if(b===a){m=!0,a=h,c=p;break}if(b===c){m=!0,c=h,a=p;break}b=b.sibling}if(!m){for(b=p.child;b;){if(b===a){m=!0,a=p,c=h;break}if(b===c){m=!0,c=p,a=h;break}b=b.sibling}if(!m)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function Vh(n){return n=f0(n),n!==null?Wh(n):null}function Wh(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Wh(n);if(s!==null)return s;n=n.sibling}return null}var Hh=e.unstable_scheduleCallback,Yh=e.unstable_cancelCallback,p0=e.unstable_shouldYield,g0=e.unstable_requestPaint,mt=e.unstable_now,y0=e.unstable_getCurrentPriorityLevel,Su=e.unstable_ImmediatePriority,Kh=e.unstable_UserBlockingPriority,ua=e.unstable_NormalPriority,m0=e.unstable_LowPriority,qh=e.unstable_IdlePriority,ca=null,Zn=null;function v0(n){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(ca,n,void 0,(n.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:_0,w0=Math.log,b0=Math.LN2;function _0(n){return n>>>=0,n===0?32:31-(w0(n)/b0|0)|0}var da=64,ha=4194304;function Zs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function fa(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,h=n.suspendedLanes,p=n.pingedLanes,m=a&268435455;if(m!==0){var b=m&~h;b!==0?c=Zs(b):(p&=m,p!==0&&(c=Zs(p)))}else m=a&~h,m!==0?c=Zs(m):p!==0&&(c=Zs(p));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,p=s&-s,h>=p||h===16&&(p&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-Ln(s),h=1<<a,c|=n[a],s&=~h;return c}function S0(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E0(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes;0<p;){var m=31-Ln(p),b=1<<m,E=h[m];E===-1?((b&a)===0||(b&c)!==0)&&(h[m]=S0(b,s)):E<=s&&(n.expiredLanes|=b),p&=~b}}function Eu(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Qh(){var n=da;return da<<=1,(da&4194240)===0&&(da=64),n}function Au(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Xs(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Ln(s),n[s]=a}function A0(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var h=31-Ln(a),p=1<<h;s[h]=0,c[h]=-1,n[h]=-1,a&=~p}}function Tu(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-Ln(a),h=1<<c;h&s|n[c]&s&&(n[c]|=s),a&=~h}}var tt=0;function Zh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Xh,Iu,Jh,ef,tf,ku=!1,pa=[],$r=null,Vr=null,Wr=null,Js=new Map,eo=new Map,Hr=[],T0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nf(n,s){switch(n){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Js.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(s.pointerId)}}function to(n,s,a,c,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},s!==null&&(s=yo(s),s!==null&&Iu(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function I0(n,s,a,c,h){switch(s){case"focusin":return $r=to($r,n,s,a,c,h),!0;case"dragenter":return Vr=to(Vr,n,s,a,c,h),!0;case"mouseover":return Wr=to(Wr,n,s,a,c,h),!0;case"pointerover":var p=h.pointerId;return Js.set(p,to(Js.get(p)||null,n,s,a,c,h)),!0;case"gotpointercapture":return p=h.pointerId,eo.set(p,to(eo.get(p)||null,n,s,a,c,h)),!0}return!1}function rf(n){var s=Ti(n.target);if(s!==null){var a=Ai(s);if(a!==null){if(s=a.tag,s===13){if(s=jh(a),s!==null){n.blockedOn=s,tf(n.priority,function(){Jh(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ga(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Du(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);yu=c,a.target.dispatchEvent(c),yu=null}else return s=yo(a),s!==null&&Iu(s),n.blockedOn=a,!1;s.shift()}return!0}function sf(n,s,a){ga(n)&&a.delete(s)}function k0(){ku=!1,$r!==null&&ga($r)&&($r=null),Vr!==null&&ga(Vr)&&(Vr=null),Wr!==null&&ga(Wr)&&(Wr=null),Js.forEach(sf),eo.forEach(sf)}function no(n,s){n.blockedOn===s&&(n.blockedOn=null,ku||(ku=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,k0)))}function ro(n){function s(h){return no(h,n)}if(0<pa.length){no(pa[0],n);for(var a=1;a<pa.length;a++){var c=pa[a];c.blockedOn===n&&(c.blockedOn=null)}}for($r!==null&&no($r,n),Vr!==null&&no(Vr,n),Wr!==null&&no(Wr,n),Js.forEach(s),eo.forEach(s),a=0;a<Hr.length;a++)c=Hr[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)rf(a),a.blockedOn===null&&Hr.shift()}var Xi=x.ReactCurrentBatchConfig,ya=!0;function C0(n,s,a,c){var h=tt,p=Xi.transition;Xi.transition=null;try{tt=1,Cu(n,s,a,c)}finally{tt=h,Xi.transition=p}}function D0(n,s,a,c){var h=tt,p=Xi.transition;Xi.transition=null;try{tt=4,Cu(n,s,a,c)}finally{tt=h,Xi.transition=p}}function Cu(n,s,a,c){if(ya){var h=Du(n,s,a,c);if(h===null)Hu(n,s,c,ma,a),nf(n,c);else if(I0(h,n,s,a,c))c.stopPropagation();else if(nf(n,c),s&4&&-1<T0.indexOf(n)){for(;h!==null;){var p=yo(h);if(p!==null&&Xh(p),p=Du(n,s,a,c),p===null&&Hu(n,s,c,ma,a),p===h)break;h=p}h!==null&&c.stopPropagation()}else Hu(n,s,c,null,a)}}var ma=null;function Du(n,s,a,c){if(ma=null,n=mu(c),n=Ti(n),n!==null)if(s=Ai(n),s===null)n=null;else if(a=s.tag,a===13){if(n=jh(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return ma=n,null}function of(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y0()){case Su:return 1;case Kh:return 4;case ua:case m0:return 16;case qh:return 536870912;default:return 16}default:return 16}}var Yr=null,xu=null,va=null;function af(){if(va)return va;var n,s=xu,a=s.length,c,h="value"in Yr?Yr.value:Yr.textContent,p=h.length;for(n=0;n<a&&s[n]===h[n];n++);var m=a-n;for(c=1;c<=m&&s[a-c]===h[p-c];c++);return va=h.slice(n,1<c?1-c:void 0)}function wa(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ba(){return!0}function lf(){return!1}function on(n){function s(a,c,h,p,m){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=m,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ba:lf,this.isPropagationStopped=lf,this}return J(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),s}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ru=on(Ji),io=J({},Ji,{view:0,detail:0}),x0=on(io),Nu,Lu,so,_a=J({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==so&&(so&&n.type==="mousemove"?(Nu=n.screenX-so.screenX,Lu=n.screenY-so.screenY):Lu=Nu=0,so=n),Nu)},movementY:function(n){return"movementY"in n?n.movementY:Lu}}),uf=on(_a),R0=J({},_a,{dataTransfer:0}),N0=on(R0),L0=J({},io,{relatedTarget:0}),Fu=on(L0),F0=J({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),O0=on(F0),B0=J({},Ji,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),P0=on(B0),M0=J({},Ji,{data:0}),cf=on(M0),z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j0(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=G0[n])?!!s[n]:!1}function Ou(){return j0}var $0=J({},io,{key:function(n){if(n.key){var s=z0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=wa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?U0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(n){return n.type==="keypress"?wa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),V0=on($0),W0=J({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=on(W0),H0=J({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),Y0=on(H0),K0=J({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),q0=on(K0),Q0=J({},_a,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Z0=on(Q0),X0=[9,13,27,32],Bu=d&&"CompositionEvent"in window,oo=null;d&&"documentMode"in document&&(oo=document.documentMode);var J0=d&&"TextEvent"in window&&!oo,hf=d&&(!Bu||oo&&8<oo&&11>=oo),ff=" ",pf=!1;function gf(n,s){switch(n){case"keyup":return X0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var es=!1;function ew(n,s){switch(n){case"compositionend":return yf(s);case"keypress":return s.which!==32?null:(pf=!0,ff);case"textInput":return n=s.data,n===ff&&pf?null:n;default:return null}}function tw(n,s){if(es)return n==="compositionend"||!Bu&&gf(n,s)?(n=af(),va=xu=Yr=null,es=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hf&&s.locale!=="ko"?null:s.data;default:return null}}var nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!nw[n.type]:s==="textarea"}function vf(n,s,a,c){Ph(c),s=Ia(s,"onChange"),0<s.length&&(a=new Ru("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var ao=null,lo=null;function rw(n){Bf(n,0)}function Sa(n){var s=ss(n);if(be(s))return n}function iw(n,s){if(n==="change")return s}var wf=!1;if(d){var Pu;if(d){var Mu="oninput"in document;if(!Mu){var bf=document.createElement("div");bf.setAttribute("oninput","return;"),Mu=typeof bf.oninput=="function"}Pu=Mu}else Pu=!1;wf=Pu&&(!document.documentMode||9<document.documentMode)}function _f(){ao&&(ao.detachEvent("onpropertychange",Sf),lo=ao=null)}function Sf(n){if(n.propertyName==="value"&&Sa(lo)){var s=[];vf(s,lo,n,mu(n)),Gh(rw,s)}}function sw(n,s,a){n==="focusin"?(_f(),ao=s,lo=a,ao.attachEvent("onpropertychange",Sf)):n==="focusout"&&_f()}function ow(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sa(lo)}function aw(n,s){if(n==="click")return Sa(s)}function lw(n,s){if(n==="input"||n==="change")return Sa(s)}function uw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Fn=typeof Object.is=="function"?Object.is:uw;function uo(n,s){if(Fn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!f.call(s,h)||!Fn(n[h],s[h]))return!1}return!0}function Ef(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Af(n,s){var a=Ef(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ef(a)}}function Tf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Tf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function If(){for(var n=window,s=et();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=et(n.document)}return s}function zu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function cw(n){var s=If(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&Tf(a.ownerDocument.documentElement,a)){if(c!==null&&zu(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var h=a.textContent.length,p=Math.min(c.start,h);c=c.end===void 0?p:Math.min(c.end,h),!n.extend&&p>c&&(h=c,c=p,p=h),h=Af(a,p);var m=Af(a,c);h&&m&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==m.node||n.focusOffset!==m.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),n.removeAllRanges(),p>c?(n.addRange(s),n.extend(m.node,m.offset)):(s.setEnd(m.node,m.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var dw=d&&"documentMode"in document&&11>=document.documentMode,ts=null,Uu=null,co=null,Gu=!1;function kf(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gu||ts==null||ts!==et(c)||(c=ts,"selectionStart"in c&&zu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),co&&uo(co,c)||(co=c,c=Ia(Uu,"onSelect"),0<c.length&&(s=new Ru("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=ts)))}function Ea(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var ns={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},ju={},Cf={};d&&(Cf=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Aa(n){if(ju[n])return ju[n];if(!ns[n])return n;var s=ns[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in Cf)return ju[n]=s[a];return n}var Df=Aa("animationend"),xf=Aa("animationiteration"),Rf=Aa("animationstart"),Nf=Aa("transitionend"),Lf=new Map,Ff="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(n,s){Lf.set(n,s),l(s,[n])}for(var $u=0;$u<Ff.length;$u++){var Vu=Ff[$u],hw=Vu.toLowerCase(),fw=Vu[0].toUpperCase()+Vu.slice(1);Kr(hw,"on"+fw)}Kr(Df,"onAnimationEnd"),Kr(xf,"onAnimationIteration"),Kr(Rf,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(Nf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function Of(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,h0(c,s,void 0,n),n.currentTarget=null}function Bf(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],h=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var m=c.length-1;0<=m;m--){var b=c[m],E=b.instance,B=b.currentTarget;if(b=b.listener,E!==p&&h.isPropagationStopped())break e;Of(h,b,B),p=E}else for(m=0;m<c.length;m++){if(b=c[m],E=b.instance,B=b.currentTarget,b=b.listener,E!==p&&h.isPropagationStopped())break e;Of(h,b,B),p=E}}}if(la)throw n=_u,la=!1,_u=null,n}function lt(n,s){var a=s[Xu];a===void 0&&(a=s[Xu]=new Set);var c=n+"__bubble";a.has(c)||(Pf(s,n,2,!1),a.add(c))}function Wu(n,s,a){var c=0;s&&(c|=4),Pf(a,n,c,s)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function fo(n){if(!n[Ta]){n[Ta]=!0,i.forEach(function(a){a!=="selectionchange"&&(pw.has(a)||Wu(a,!1,n),Wu(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ta]||(s[Ta]=!0,Wu("selectionchange",!1,s))}}function Pf(n,s,a,c){switch(of(s)){case 1:var h=C0;break;case 4:h=D0;break;default:h=Cu}a=h.bind(null,s,a,n),h=void 0,!bu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(s,a,{capture:!0,passive:h}):n.addEventListener(s,a,!0):h!==void 0?n.addEventListener(s,a,{passive:h}):n.addEventListener(s,a,!1)}function Hu(n,s,a,c,h){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var m=c.tag;if(m===3||m===4){var b=c.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(m===4)for(m=c.return;m!==null;){var E=m.tag;if((E===3||E===4)&&(E=m.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;m=m.return}for(;b!==null;){if(m=Ti(b),m===null)return;if(E=m.tag,E===5||E===6){c=p=m;continue e}b=b.parentNode}}c=c.return}Gh(function(){var B=p,X=mu(a),ee=[];e:{var q=Lf.get(n);if(q!==void 0){var ue=Ru,de=n;switch(n){case"keypress":if(wa(a)===0)break e;case"keydown":case"keyup":ue=V0;break;case"focusin":de="focus",ue=Fu;break;case"focusout":de="blur",ue=Fu;break;case"beforeblur":case"afterblur":ue=Fu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=N0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Y0;break;case Df:case xf:case Rf:ue=O0;break;case Nf:ue=q0;break;case"scroll":ue=x0;break;case"wheel":ue=Z0;break;case"copy":case"cut":case"paste":ue=P0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=df}var fe=(s&4)!==0,vt=!fe&&n==="scroll",R=fe?q!==null?q+"Capture":null:q;fe=[];for(var k=B,F;k!==null;){F=k;var ne=F.stateNode;if(F.tag===5&&ne!==null&&(F=ne,R!==null&&(ne=Ks(k,R),ne!=null&&fe.push(po(k,ne,F)))),vt)break;k=k.return}0<fe.length&&(q=new ue(q,de,null,a,X),ee.push({event:q,listeners:fe}))}}if((s&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",ue=n==="mouseout"||n==="pointerout",q&&a!==yu&&(de=a.relatedTarget||a.fromElement)&&(Ti(de)||de[wr]))break e;if((ue||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,ue?(de=a.relatedTarget||a.toElement,ue=B,de=de?Ti(de):null,de!==null&&(vt=Ai(de),de!==vt||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=B),ue!==de)){if(fe=uf,ne="onMouseLeave",R="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(fe=df,ne="onPointerLeave",R="onPointerEnter",k="pointer"),vt=ue==null?q:ss(ue),F=de==null?q:ss(de),q=new fe(ne,k+"leave",ue,a,X),q.target=vt,q.relatedTarget=F,ne=null,Ti(X)===B&&(fe=new fe(R,k+"enter",de,a,X),fe.target=F,fe.relatedTarget=vt,ne=fe),vt=ne,ue&&de)t:{for(fe=ue,R=de,k=0,F=fe;F;F=rs(F))k++;for(F=0,ne=R;ne;ne=rs(ne))F++;for(;0<k-F;)fe=rs(fe),k--;for(;0<F-k;)R=rs(R),F--;for(;k--;){if(fe===R||R!==null&&fe===R.alternate)break t;fe=rs(fe),R=rs(R)}fe=null}else fe=null;ue!==null&&Mf(ee,q,ue,fe,!1),de!==null&&vt!==null&&Mf(ee,vt,de,fe,!0)}}e:{if(q=B?ss(B):window,ue=q.nodeName&&q.nodeName.toLowerCase(),ue==="select"||ue==="input"&&q.type==="file")var me=iw;else if(mf(q))if(wf)me=lw;else{me=ow;var Ee=sw}else(ue=q.nodeName)&&ue.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(me=aw);if(me&&(me=me(n,B))){vf(ee,me,a,X);break e}Ee&&Ee(n,q,B),n==="focusout"&&(Ee=q._wrapperState)&&Ee.controlled&&q.type==="number"&&Nn(q,"number",q.value)}switch(Ee=B?ss(B):window,n){case"focusin":(mf(Ee)||Ee.contentEditable==="true")&&(ts=Ee,Uu=B,co=null);break;case"focusout":co=Uu=ts=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,kf(ee,a,X);break;case"selectionchange":if(dw)break;case"keydown":case"keyup":kf(ee,a,X)}var Ae;if(Bu)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else es?gf(n,a)&&(Ce="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(hf&&a.locale!=="ko"&&(es||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&es&&(Ae=af()):(Yr=X,xu="value"in Yr?Yr.value:Yr.textContent,es=!0)),Ee=Ia(B,Ce),0<Ee.length&&(Ce=new cf(Ce,n,null,a,X),ee.push({event:Ce,listeners:Ee}),Ae?Ce.data=Ae:(Ae=yf(a),Ae!==null&&(Ce.data=Ae)))),(Ae=J0?ew(n,a):tw(n,a))&&(B=Ia(B,"onBeforeInput"),0<B.length&&(X=new cf("onBeforeInput","beforeinput",null,a,X),ee.push({event:X,listeners:B}),X.data=Ae))}Bf(ee,s)})}function po(n,s,a){return{instance:n,listener:s,currentTarget:a}}function Ia(n,s){for(var a=s+"Capture",c=[];n!==null;){var h=n,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=Ks(n,a),p!=null&&c.unshift(po(n,p,h)),p=Ks(n,s),p!=null&&c.push(po(n,p,h))),n=n.return}return c}function rs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Mf(n,s,a,c,h){for(var p=s._reactName,m=[];a!==null&&a!==c;){var b=a,E=b.alternate,B=b.stateNode;if(E!==null&&E===c)break;b.tag===5&&B!==null&&(b=B,h?(E=Ks(a,p),E!=null&&m.unshift(po(a,E,b))):h||(E=Ks(a,p),E!=null&&m.push(po(a,E,b)))),a=a.return}m.length!==0&&n.push({event:s,listeners:m})}var gw=/\r\n?/g,yw=/\u0000|\uFFFD/g;function zf(n){return(typeof n=="string"?n:""+n).replace(gw,`
`).replace(yw,"")}function ka(n,s,a){if(s=zf(s),zf(n)!==s&&a)throw Error(t(425))}function Ca(){}var Yu=null,Ku=null;function qu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qu=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,Uf=typeof Promise=="function"?Promise:void 0,vw=typeof queueMicrotask=="function"?queueMicrotask:typeof Uf<"u"?function(n){return Uf.resolve(null).then(n).catch(ww)}:Qu;function ww(n){setTimeout(function(){throw n})}function Zu(n,s){var a=s,c=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){n.removeChild(h),ro(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);ro(s)}function qr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Gf(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var is=Math.random().toString(36).slice(2),Xn="__reactFiber$"+is,go="__reactProps$"+is,wr="__reactContainer$"+is,Xu="__reactEvents$"+is,bw="__reactListeners$"+is,_w="__reactHandles$"+is;function Ti(n){var s=n[Xn];if(s)return s;for(var a=n.parentNode;a;){if(s=a[wr]||a[Xn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Gf(n);n!==null;){if(a=n[Xn])return a;n=Gf(n)}return s}n=a,a=n.parentNode}return null}function yo(n){return n=n[Xn]||n[wr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ss(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Da(n){return n[go]||null}var Ju=[],os=-1;function Qr(n){return{current:n}}function ut(n){0>os||(n.current=Ju[os],Ju[os]=null,os--)}function ot(n,s){os++,Ju[os]=n.current,n.current=s}var Zr={},Lt=Qr(Zr),Wt=Qr(!1),Ii=Zr;function as(n,s){var a=n.type.contextTypes;if(!a)return Zr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in a)h[p]=s[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(n){return n=n.childContextTypes,n!=null}function xa(){ut(Wt),ut(Lt)}function jf(n,s,a){if(Lt.current!==Zr)throw Error(t(168));ot(Lt,s),ot(Wt,a)}function $f(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(t(108,oe(n)||"Unknown",h));return J({},a,c)}function Ra(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zr,Ii=Lt.current,ot(Lt,n),ot(Wt,Wt.current),!0}function Vf(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=$f(n,s,Ii),c.__reactInternalMemoizedMergedChildContext=n,ut(Wt),ut(Lt),ot(Lt,n)):ut(Wt),ot(Wt,a)}var br=null,Na=!1,ec=!1;function Wf(n){br===null?br=[n]:br.push(n)}function Sw(n){Na=!0,Wf(n)}function Xr(){if(!ec&&br!==null){ec=!0;var n=0,s=tt;try{var a=br;for(tt=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}br=null,Na=!1}catch(h){throw br!==null&&(br=br.slice(n+1)),Hh(Su,Xr),h}finally{tt=s,ec=!1}}return null}var ls=[],us=0,La=null,Fa=0,yn=[],mn=0,ki=null,_r=1,Sr="";function Ci(n,s){ls[us++]=Fa,ls[us++]=La,La=n,Fa=s}function Hf(n,s,a){yn[mn++]=_r,yn[mn++]=Sr,yn[mn++]=ki,ki=n;var c=_r;n=Sr;var h=32-Ln(c)-1;c&=~(1<<h),a+=1;var p=32-Ln(s)+h;if(30<p){var m=h-h%5;p=(c&(1<<m)-1).toString(32),c>>=m,h-=m,_r=1<<32-Ln(s)+h|a<<h|c,Sr=p+n}else _r=1<<p|a<<h|c,Sr=n}function tc(n){n.return!==null&&(Ci(n,1),Hf(n,1,0))}function nc(n){for(;n===La;)La=ls[--us],ls[us]=null,Fa=ls[--us],ls[us]=null;for(;n===ki;)ki=yn[--mn],yn[mn]=null,Sr=yn[--mn],yn[mn]=null,_r=yn[--mn],yn[mn]=null}var an=null,ln=null,dt=!1,On=null;function Yf(n,s){var a=_n(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function Kf(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,an=n,ln=qr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,an=n,ln=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ki!==null?{id:_r,overflow:Sr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=_n(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,an=n,ln=null,!0):!1;default:return!1}}function rc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ic(n){if(dt){var s=ln;if(s){var a=s;if(!Kf(n,s)){if(rc(n))throw Error(t(418));s=qr(a.nextSibling);var c=an;s&&Kf(n,s)?Yf(c,a):(n.flags=n.flags&-4097|2,dt=!1,an=n)}}else{if(rc(n))throw Error(t(418));n.flags=n.flags&-4097|2,dt=!1,an=n}}}function qf(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;an=n}function Oa(n){if(n!==an)return!1;if(!dt)return qf(n),dt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!qu(n.type,n.memoizedProps)),s&&(s=ln)){if(rc(n))throw Qf(),Error(t(418));for(;s;)Yf(n,s),s=qr(s.nextSibling)}if(qf(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){ln=qr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}ln=null}}else ln=an?qr(n.stateNode.nextSibling):null;return!0}function Qf(){for(var n=ln;n;)n=qr(n.nextSibling)}function cs(){ln=an=null,dt=!1}function sc(n){On===null?On=[n]:On.push(n)}var Ew=x.ReactCurrentBatchConfig;function mo(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var h=c,p=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(m){var b=h.refs;m===null?delete b[p]:b[p]=m},s._stringRef=p,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Ba(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Zf(n){var s=n._init;return s(n._payload)}function Xf(n){function s(R,k){if(n){var F=R.deletions;F===null?(R.deletions=[k],R.flags|=16):F.push(k)}}function a(R,k){if(!n)return null;for(;k!==null;)s(R,k),k=k.sibling;return null}function c(R,k){for(R=new Map;k!==null;)k.key!==null?R.set(k.key,k):R.set(k.index,k),k=k.sibling;return R}function h(R,k){return R=oi(R,k),R.index=0,R.sibling=null,R}function p(R,k,F){return R.index=F,n?(F=R.alternate,F!==null?(F=F.index,F<k?(R.flags|=2,k):F):(R.flags|=2,k)):(R.flags|=1048576,k)}function m(R){return n&&R.alternate===null&&(R.flags|=2),R}function b(R,k,F,ne){return k===null||k.tag!==6?(k=Qc(F,R.mode,ne),k.return=R,k):(k=h(k,F),k.return=R,k)}function E(R,k,F,ne){var me=F.type;return me===H?X(R,k,F.props.children,ne,F.key):k!==null&&(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===V&&Zf(me)===k.type)?(ne=h(k,F.props),ne.ref=mo(R,k,F),ne.return=R,ne):(ne=ol(F.type,F.key,F.props,null,R.mode,ne),ne.ref=mo(R,k,F),ne.return=R,ne)}function B(R,k,F,ne){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=Zc(F,R.mode,ne),k.return=R,k):(k=h(k,F.children||[]),k.return=R,k)}function X(R,k,F,ne,me){return k===null||k.tag!==7?(k=Bi(F,R.mode,ne,me),k.return=R,k):(k=h(k,F),k.return=R,k)}function ee(R,k,F){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Qc(""+k,R.mode,F),k.return=R,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return F=ol(k.type,k.key,k.props,null,R.mode,F),F.ref=mo(R,null,k),F.return=R,F;case M:return k=Zc(k,R.mode,F),k.return=R,k;case V:var ne=k._init;return ee(R,ne(k._payload),F)}if(gn(k)||ie(k))return k=Bi(k,R.mode,F,null),k.return=R,k;Ba(R,k)}return null}function q(R,k,F,ne){var me=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return me!==null?null:b(R,k,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===me?E(R,k,F,ne):null;case M:return F.key===me?B(R,k,F,ne):null;case V:return me=F._init,q(R,k,me(F._payload),ne)}if(gn(F)||ie(F))return me!==null?null:X(R,k,F,ne,null);Ba(R,F)}return null}function ue(R,k,F,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return R=R.get(F)||null,b(k,R,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return R=R.get(ne.key===null?F:ne.key)||null,E(k,R,ne,me);case M:return R=R.get(ne.key===null?F:ne.key)||null,B(k,R,ne,me);case V:var Ee=ne._init;return ue(R,k,F,Ee(ne._payload),me)}if(gn(ne)||ie(ne))return R=R.get(F)||null,X(k,R,ne,me,null);Ba(k,ne)}return null}function de(R,k,F,ne){for(var me=null,Ee=null,Ae=k,Ce=k=0,Dt=null;Ae!==null&&Ce<F.length;Ce++){Ae.index>Ce?(Dt=Ae,Ae=null):Dt=Ae.sibling;var He=q(R,Ae,F[Ce],ne);if(He===null){Ae===null&&(Ae=Dt);break}n&&Ae&&He.alternate===null&&s(R,Ae),k=p(He,k,Ce),Ee===null?me=He:Ee.sibling=He,Ee=He,Ae=Dt}if(Ce===F.length)return a(R,Ae),dt&&Ci(R,Ce),me;if(Ae===null){for(;Ce<F.length;Ce++)Ae=ee(R,F[Ce],ne),Ae!==null&&(k=p(Ae,k,Ce),Ee===null?me=Ae:Ee.sibling=Ae,Ee=Ae);return dt&&Ci(R,Ce),me}for(Ae=c(R,Ae);Ce<F.length;Ce++)Dt=ue(Ae,R,Ce,F[Ce],ne),Dt!==null&&(n&&Dt.alternate!==null&&Ae.delete(Dt.key===null?Ce:Dt.key),k=p(Dt,k,Ce),Ee===null?me=Dt:Ee.sibling=Dt,Ee=Dt);return n&&Ae.forEach(function(ai){return s(R,ai)}),dt&&Ci(R,Ce),me}function fe(R,k,F,ne){var me=ie(F);if(typeof me!="function")throw Error(t(150));if(F=me.call(F),F==null)throw Error(t(151));for(var Ee=me=null,Ae=k,Ce=k=0,Dt=null,He=F.next();Ae!==null&&!He.done;Ce++,He=F.next()){Ae.index>Ce?(Dt=Ae,Ae=null):Dt=Ae.sibling;var ai=q(R,Ae,He.value,ne);if(ai===null){Ae===null&&(Ae=Dt);break}n&&Ae&&ai.alternate===null&&s(R,Ae),k=p(ai,k,Ce),Ee===null?me=ai:Ee.sibling=ai,Ee=ai,Ae=Dt}if(He.done)return a(R,Ae),dt&&Ci(R,Ce),me;if(Ae===null){for(;!He.done;Ce++,He=F.next())He=ee(R,He.value,ne),He!==null&&(k=p(He,k,Ce),Ee===null?me=He:Ee.sibling=He,Ee=He);return dt&&Ci(R,Ce),me}for(Ae=c(R,Ae);!He.done;Ce++,He=F.next())He=ue(Ae,R,Ce,He.value,ne),He!==null&&(n&&He.alternate!==null&&Ae.delete(He.key===null?Ce:He.key),k=p(He,k,Ce),Ee===null?me=He:Ee.sibling=He,Ee=He);return n&&Ae.forEach(function(nb){return s(R,nb)}),dt&&Ci(R,Ce),me}function vt(R,k,F,ne){if(typeof F=="object"&&F!==null&&F.type===H&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:e:{for(var me=F.key,Ee=k;Ee!==null;){if(Ee.key===me){if(me=F.type,me===H){if(Ee.tag===7){a(R,Ee.sibling),k=h(Ee,F.props.children),k.return=R,R=k;break e}}else if(Ee.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===V&&Zf(me)===Ee.type){a(R,Ee.sibling),k=h(Ee,F.props),k.ref=mo(R,Ee,F),k.return=R,R=k;break e}a(R,Ee);break}else s(R,Ee);Ee=Ee.sibling}F.type===H?(k=Bi(F.props.children,R.mode,ne,F.key),k.return=R,R=k):(ne=ol(F.type,F.key,F.props,null,R.mode,ne),ne.ref=mo(R,k,F),ne.return=R,R=ne)}return m(R);case M:e:{for(Ee=F.key;k!==null;){if(k.key===Ee)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){a(R,k.sibling),k=h(k,F.children||[]),k.return=R,R=k;break e}else{a(R,k);break}else s(R,k);k=k.sibling}k=Zc(F,R.mode,ne),k.return=R,R=k}return m(R);case V:return Ee=F._init,vt(R,k,Ee(F._payload),ne)}if(gn(F))return de(R,k,F,ne);if(ie(F))return fe(R,k,F,ne);Ba(R,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,k!==null&&k.tag===6?(a(R,k.sibling),k=h(k,F),k.return=R,R=k):(a(R,k),k=Qc(F,R.mode,ne),k.return=R,R=k),m(R)):a(R,k)}return vt}var ds=Xf(!0),Jf=Xf(!1),Pa=Qr(null),Ma=null,hs=null,oc=null;function ac(){oc=hs=Ma=null}function lc(n){var s=Pa.current;ut(Pa),n._currentValue=s}function uc(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function fs(n,s){Ma=n,oc=hs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Yt=!0),n.firstContext=null)}function vn(n){var s=n._currentValue;if(oc!==n)if(n={context:n,memoizedValue:s,next:null},hs===null){if(Ma===null)throw Error(t(308));hs=n,Ma.dependencies={lanes:0,firstContext:n}}else hs=hs.next=n;return s}var Di=null;function cc(n){Di===null?Di=[n]:Di.push(n)}function ep(n,s,a,c){var h=s.interleaved;return h===null?(a.next=a,cc(s)):(a.next=h.next,h.next=a),s.interleaved=a,Er(n,c)}function Er(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Jr=!1;function dc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ar(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ei(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,Er(n,a)}return h=c.interleaved,h===null?(s.next=s,cc(c)):(s.next=h.next,h.next=s),c.interleaved=s,Er(n,a)}function za(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Tu(n,a)}}function np(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var m={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?h=p=m:p=p.next=m,a=a.next}while(a!==null);p===null?h=p=s:p=p.next=s}else h=p=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function Ua(n,s,a,c){var h=n.updateQueue;Jr=!1;var p=h.firstBaseUpdate,m=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var E=b,B=E.next;E.next=null,m===null?p=B:m.next=B,m=E;var X=n.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==m&&(b===null?X.firstBaseUpdate=B:b.next=B,X.lastBaseUpdate=E))}if(p!==null){var ee=h.baseState;m=0,X=B=E=null,b=p;do{var q=b.lane,ue=b.eventTime;if((c&q)===q){X!==null&&(X=X.next={eventTime:ue,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var de=n,fe=b;switch(q=s,ue=a,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ee=de.call(ue,ee,q);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,q=typeof de=="function"?de.call(ue,ee,q):de,q==null)break e;ee=J({},ee,q);break e;case 2:Jr=!0}}b.callback!==null&&b.lane!==0&&(n.flags|=64,q=h.effects,q===null?h.effects=[b]:q.push(b))}else ue={eventTime:ue,lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(B=X=ue,E=ee):X=X.next=ue,m|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;q=b,b=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(X===null&&(E=ee),h.baseState=E,h.firstBaseUpdate=B,h.lastBaseUpdate=X,s=h.shared.interleaved,s!==null){h=s;do m|=h.lane,h=h.next;while(h!==s)}else p===null&&(h.shared.lanes=0);Ni|=m,n.lanes=m,n.memoizedState=ee}}function rp(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(t(191,h));h.call(c)}}}var vo={},Jn=Qr(vo),wo=Qr(vo),bo=Qr(vo);function xi(n){if(n===vo)throw Error(t(174));return n}function hc(n,s){switch(ot(bo,s),ot(wo,n),ot(Jn,vo),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mr(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=mr(s,n)}ut(Jn),ot(Jn,s)}function ps(){ut(Jn),ut(wo),ut(bo)}function ip(n){xi(bo.current);var s=xi(Jn.current),a=mr(s,n.type);s!==a&&(ot(wo,n),ot(Jn,a))}function fc(n){wo.current===n&&(ut(Jn),ut(wo))}var ht=Qr(0);function Ga(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var pc=[];function gc(){for(var n=0;n<pc.length;n++)pc[n]._workInProgressVersionPrimary=null;pc.length=0}var ja=x.ReactCurrentDispatcher,yc=x.ReactCurrentBatchConfig,Ri=0,ft=null,St=null,kt=null,$a=!1,_o=!1,So=0,Aw=0;function Ft(){throw Error(t(321))}function mc(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Fn(n[a],s[a]))return!1;return!0}function vc(n,s,a,c,h,p){if(Ri=p,ft=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ja.current=n===null||n.memoizedState===null?Cw:Dw,n=a(c,h),_o){p=0;do{if(_o=!1,So=0,25<=p)throw Error(t(301));p+=1,kt=St=null,s.updateQueue=null,ja.current=xw,n=a(c,h)}while(_o)}if(ja.current=Ha,s=St!==null&&St.next!==null,Ri=0,kt=St=ft=null,$a=!1,s)throw Error(t(300));return n}function wc(){var n=So!==0;return So=0,n}function er(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ft.memoizedState=kt=n:kt=kt.next=n,kt}function wn(){if(St===null){var n=ft.alternate;n=n!==null?n.memoizedState:null}else n=St.next;var s=kt===null?ft.memoizedState:kt.next;if(s!==null)kt=s,St=n;else{if(n===null)throw Error(t(310));St=n,n={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},kt===null?ft.memoizedState=kt=n:kt=kt.next=n}return kt}function Eo(n,s){return typeof s=="function"?s(n):s}function bc(n){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=St,h=c.baseQueue,p=a.pending;if(p!==null){if(h!==null){var m=h.next;h.next=p.next,p.next=m}c.baseQueue=h=p,a.pending=null}if(h!==null){p=h.next,c=c.baseState;var b=m=null,E=null,B=p;do{var X=B.lane;if((Ri&X)===X)E!==null&&(E=E.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var ee={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};E===null?(b=E=ee,m=c):E=E.next=ee,ft.lanes|=X,Ni|=X}B=B.next}while(B!==null&&B!==p);E===null?m=c:E.next=b,Fn(c,s.memoizedState)||(Yt=!0),s.memoizedState=c,s.baseState=m,s.baseQueue=E,a.lastRenderedState=c}if(n=a.interleaved,n!==null){h=n;do p=h.lane,ft.lanes|=p,Ni|=p,h=h.next;while(h!==n)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function _c(n){var s=wn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,h=a.pending,p=s.memoizedState;if(h!==null){a.pending=null;var m=h=h.next;do p=n(p,m.action),m=m.next;while(m!==h);Fn(p,s.memoizedState)||(Yt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,c]}function sp(){}function op(n,s){var a=ft,c=wn(),h=s(),p=!Fn(c.memoizedState,h);if(p&&(c.memoizedState=h,Yt=!0),c=c.queue,Sc(up.bind(null,a,c,n),[n]),c.getSnapshot!==s||p||kt!==null&&kt.memoizedState.tag&1){if(a.flags|=2048,Ao(9,lp.bind(null,a,c,h,s),void 0,null),Ct===null)throw Error(t(349));(Ri&30)!==0||ap(a,s,h)}return h}function ap(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function lp(n,s,a,c){s.value=a,s.getSnapshot=c,cp(s)&&dp(n)}function up(n,s,a){return a(function(){cp(s)&&dp(n)})}function cp(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Fn(n,a)}catch{return!0}}function dp(n){var s=Er(n,1);s!==null&&zn(s,n,1,-1)}function hp(n){var s=er();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:n},s.queue=n,n=n.dispatch=kw.bind(null,ft,n),[s.memoizedState,n]}function Ao(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=ft.updateQueue,s===null?(s={lastEffect:null,stores:null},ft.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function fp(){return wn().memoizedState}function Va(n,s,a,c){var h=er();ft.flags|=n,h.memoizedState=Ao(1|s,a,void 0,c===void 0?null:c)}function Wa(n,s,a,c){var h=wn();c=c===void 0?null:c;var p=void 0;if(St!==null){var m=St.memoizedState;if(p=m.destroy,c!==null&&mc(c,m.deps)){h.memoizedState=Ao(s,a,p,c);return}}ft.flags|=n,h.memoizedState=Ao(1|s,a,p,c)}function pp(n,s){return Va(8390656,8,n,s)}function Sc(n,s){return Wa(2048,8,n,s)}function gp(n,s){return Wa(4,2,n,s)}function yp(n,s){return Wa(4,4,n,s)}function mp(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function vp(n,s,a){return a=a!=null?a.concat([n]):null,Wa(4,4,mp.bind(null,s,n),a)}function Ec(){}function wp(n,s){var a=wn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&mc(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function bp(n,s){var a=wn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&mc(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function _p(n,s,a){return(Ri&21)===0?(n.baseState&&(n.baseState=!1,Yt=!0),n.memoizedState=a):(Fn(a,s)||(a=Qh(),ft.lanes|=a,Ni|=a,n.baseState=!0),s)}function Tw(n,s){var a=tt;tt=a!==0&&4>a?a:4,n(!0);var c=yc.transition;yc.transition={};try{n(!1),s()}finally{tt=a,yc.transition=c}}function Sp(){return wn().memoizedState}function Iw(n,s,a){var c=ii(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Ep(n))Ap(s,a);else if(a=ep(n,s,a,c),a!==null){var h=Ut();zn(a,n,c,h),Tp(a,s,c)}}function kw(n,s,a){var c=ii(n),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ep(n))Ap(s,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var m=s.lastRenderedState,b=p(m,a);if(h.hasEagerState=!0,h.eagerState=b,Fn(b,m)){var E=s.interleaved;E===null?(h.next=h,cc(s)):(h.next=E.next,E.next=h),s.interleaved=h;return}}catch{}finally{}a=ep(n,s,h,c),a!==null&&(h=Ut(),zn(a,n,c,h),Tp(a,s,c))}}function Ep(n){var s=n.alternate;return n===ft||s!==null&&s===ft}function Ap(n,s){_o=$a=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function Tp(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Tu(n,a)}}var Ha={readContext:vn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Cw={readContext:vn,useCallback:function(n,s){return er().memoizedState=[n,s===void 0?null:s],n},useContext:vn,useEffect:pp,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,Va(4194308,4,mp.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Va(4194308,4,n,s)},useInsertionEffect:function(n,s){return Va(4,2,n,s)},useMemo:function(n,s){var a=er();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=er();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=Iw.bind(null,ft,n),[c.memoizedState,n]},useRef:function(n){var s=er();return n={current:n},s.memoizedState=n},useState:hp,useDebugValue:Ec,useDeferredValue:function(n){return er().memoizedState=n},useTransition:function(){var n=hp(!1),s=n[0];return n=Tw.bind(null,n[1]),er().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=ft,h=er();if(dt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Ct===null)throw Error(t(349));(Ri&30)!==0||ap(c,s,a)}h.memoizedState=a;var p={value:a,getSnapshot:s};return h.queue=p,pp(up.bind(null,c,p,n),[n]),c.flags|=2048,Ao(9,lp.bind(null,c,p,a,s),void 0,null),a},useId:function(){var n=er(),s=Ct.identifierPrefix;if(dt){var a=Sr,c=_r;a=(c&~(1<<32-Ln(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=So++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Aw++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Dw={readContext:vn,useCallback:wp,useContext:vn,useEffect:Sc,useImperativeHandle:vp,useInsertionEffect:gp,useLayoutEffect:yp,useMemo:bp,useReducer:bc,useRef:fp,useState:function(){return bc(Eo)},useDebugValue:Ec,useDeferredValue:function(n){var s=wn();return _p(s,St.memoizedState,n)},useTransition:function(){var n=bc(Eo)[0],s=wn().memoizedState;return[n,s]},useMutableSource:sp,useSyncExternalStore:op,useId:Sp,unstable_isNewReconciler:!1},xw={readContext:vn,useCallback:wp,useContext:vn,useEffect:Sc,useImperativeHandle:vp,useInsertionEffect:gp,useLayoutEffect:yp,useMemo:bp,useReducer:_c,useRef:fp,useState:function(){return _c(Eo)},useDebugValue:Ec,useDeferredValue:function(n){var s=wn();return St===null?s.memoizedState=n:_p(s,St.memoizedState,n)},useTransition:function(){var n=_c(Eo)[0],s=wn().memoizedState;return[n,s]},useMutableSource:sp,useSyncExternalStore:op,useId:Sp,unstable_isNewReconciler:!1};function Bn(n,s){if(n&&n.defaultProps){s=J({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function Ac(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:J({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ya={isMounted:function(n){return(n=n._reactInternals)?Ai(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Ut(),h=ii(n),p=Ar(c,h);p.payload=s,a!=null&&(p.callback=a),s=ei(n,p,h),s!==null&&(zn(s,n,h,c),za(s,n,h))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Ut(),h=ii(n),p=Ar(c,h);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=ei(n,p,h),s!==null&&(zn(s,n,h,c),za(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Ut(),c=ii(n),h=Ar(a,c);h.tag=2,s!=null&&(h.callback=s),s=ei(n,h,c),s!==null&&(zn(s,n,c,a),za(s,n,c))}};function Ip(n,s,a,c,h,p,m){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,m):s.prototype&&s.prototype.isPureReactComponent?!uo(a,c)||!uo(h,p):!0}function kp(n,s,a){var c=!1,h=Zr,p=s.contextType;return typeof p=="object"&&p!==null?p=vn(p):(h=Ht(s)?Ii:Lt.current,c=s.contextTypes,p=(c=c!=null)?as(n,h):Zr),s=new s(a,p),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ya,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=p),s}function Cp(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&Ya.enqueueReplaceState(s,s.state,null)}function Tc(n,s,a,c){var h=n.stateNode;h.props=a,h.state=n.memoizedState,h.refs={},dc(n);var p=s.contextType;typeof p=="object"&&p!==null?h.context=vn(p):(p=Ht(s)?Ii:Lt.current,h.context=as(n,p)),h.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Ac(n,s,p,a),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ya.enqueueReplaceState(h,h.state,null),Ua(n,a,h,c),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function gs(n,s){try{var a="",c=s;do a+=A(c),c=c.return;while(c);var h=a}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:s,stack:h,digest:null}}function Ic(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function kc(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Rw=typeof WeakMap=="function"?WeakMap:Map;function Dp(n,s,a){a=Ar(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){el||(el=!0,jc=c),kc(n,s)},a}function xp(n,s,a){a=Ar(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){kc(n,s)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){kc(n,s),typeof c!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var m=s.stack;this.componentDidCatch(s.value,{componentStack:m!==null?m:""})}),a}function Rp(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Rw;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),n=Ww.bind(null,n,s,a),s.then(n,n))}function Np(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Lp(n,s,a,c,h){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ar(-1,1),s.tag=2,ei(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var Nw=x.ReactCurrentOwner,Yt=!1;function zt(n,s,a,c){s.child=n===null?Jf(s,null,a,c):ds(s,n.child,a,c)}function Fp(n,s,a,c,h){a=a.render;var p=s.ref;return fs(s,h),c=vc(n,s,a,c,p,h),a=wc(),n!==null&&!Yt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,Tr(n,s,h)):(dt&&a&&tc(s),s.flags|=1,zt(n,s,c,h),s.child)}function Op(n,s,a,c,h){if(n===null){var p=a.type;return typeof p=="function"&&!qc(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=p,Bp(n,s,p,c,h)):(n=ol(a.type,null,c,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,(n.lanes&h)===0){var m=p.memoizedProps;if(a=a.compare,a=a!==null?a:uo,a(m,c)&&n.ref===s.ref)return Tr(n,s,h)}return s.flags|=1,n=oi(p,c),n.ref=s.ref,n.return=s,s.child=n}function Bp(n,s,a,c,h){if(n!==null){var p=n.memoizedProps;if(uo(p,c)&&n.ref===s.ref)if(Yt=!1,s.pendingProps=c=p,(n.lanes&h)!==0)(n.flags&131072)!==0&&(Yt=!0);else return s.lanes=n.lanes,Tr(n,s,h)}return Cc(n,s,a,c,h)}function Pp(n,s,a){var c=s.pendingProps,h=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(ms,un),un|=a;else{if((a&1073741824)===0)return n=p!==null?p.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,ot(ms,un),un|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,ot(ms,un),un|=c}else p!==null?(c=p.baseLanes|a,s.memoizedState=null):c=a,ot(ms,un),un|=c;return zt(n,s,h,a),s.child}function Mp(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Cc(n,s,a,c,h){var p=Ht(a)?Ii:Lt.current;return p=as(s,p),fs(s,h),a=vc(n,s,a,c,p,h),c=wc(),n!==null&&!Yt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,Tr(n,s,h)):(dt&&c&&tc(s),s.flags|=1,zt(n,s,a,h),s.child)}function zp(n,s,a,c,h){if(Ht(a)){var p=!0;Ra(s)}else p=!1;if(fs(s,h),s.stateNode===null)qa(n,s),kp(s,a,c),Tc(s,a,c,h),c=!0;else if(n===null){var m=s.stateNode,b=s.memoizedProps;m.props=b;var E=m.context,B=a.contextType;typeof B=="object"&&B!==null?B=vn(B):(B=Ht(a)?Ii:Lt.current,B=as(s,B));var X=a.getDerivedStateFromProps,ee=typeof X=="function"||typeof m.getSnapshotBeforeUpdate=="function";ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==c||E!==B)&&Cp(s,m,c,B),Jr=!1;var q=s.memoizedState;m.state=q,Ua(s,c,m,h),E=s.memoizedState,b!==c||q!==E||Wt.current||Jr?(typeof X=="function"&&(Ac(s,a,X,c),E=s.memoizedState),(b=Jr||Ip(s,a,b,c,q,E,B))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=E),m.props=c,m.state=E,m.context=B,c=b):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,tp(n,s),b=s.memoizedProps,B=s.type===s.elementType?b:Bn(s.type,b),m.props=B,ee=s.pendingProps,q=m.context,E=a.contextType,typeof E=="object"&&E!==null?E=vn(E):(E=Ht(a)?Ii:Lt.current,E=as(s,E));var ue=a.getDerivedStateFromProps;(X=typeof ue=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ee||q!==E)&&Cp(s,m,c,E),Jr=!1,q=s.memoizedState,m.state=q,Ua(s,c,m,h);var de=s.memoizedState;b!==ee||q!==de||Wt.current||Jr?(typeof ue=="function"&&(Ac(s,a,ue,c),de=s.memoizedState),(B=Jr||Ip(s,a,B,c,q,de,E)||!1)?(X||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,de,E),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,de,E)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=de),m.props=c,m.state=de,m.context=E,c=B):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),c=!1)}return Dc(n,s,a,c,p,h)}function Dc(n,s,a,c,h,p){Mp(n,s);var m=(s.flags&128)!==0;if(!c&&!m)return h&&Vf(s,a,!1),Tr(n,s,p);c=s.stateNode,Nw.current=s;var b=m&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&m?(s.child=ds(s,n.child,null,p),s.child=ds(s,null,b,p)):zt(n,s,b,p),s.memoizedState=c.state,h&&Vf(s,a,!0),s.child}function Up(n){var s=n.stateNode;s.pendingContext?jf(n,s.pendingContext,s.pendingContext!==s.context):s.context&&jf(n,s.context,!1),hc(n,s.containerInfo)}function Gp(n,s,a,c,h){return cs(),sc(h),s.flags|=256,zt(n,s,a,c),s.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function Rc(n){return{baseLanes:n,cachePool:null,transitions:null}}function jp(n,s,a){var c=s.pendingProps,h=ht.current,p=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(h&2)!==0),b?(p=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),ot(ht,h&1),n===null)return ic(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(m=c.children,n=c.fallback,p?(c=s.mode,p=s.child,m={mode:"hidden",children:m},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=m):p=al(m,c,0,null),n=Bi(n,c,a,null),p.return=s,n.return=s,p.sibling=n,s.child=p,s.child.memoizedState=Rc(a),s.memoizedState=xc,n):Nc(s,m));if(h=n.memoizedState,h!==null&&(b=h.dehydrated,b!==null))return Lw(n,s,m,c,b,h,a);if(p){p=c.fallback,m=s.mode,h=n.child,b=h.sibling;var E={mode:"hidden",children:c.children};return(m&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=E,s.deletions=null):(c=oi(h,E),c.subtreeFlags=h.subtreeFlags&14680064),b!==null?p=oi(b,p):(p=Bi(p,m,a,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,m=n.child.memoizedState,m=m===null?Rc(a):{baseLanes:m.baseLanes|a,cachePool:null,transitions:m.transitions},p.memoizedState=m,p.childLanes=n.childLanes&~a,s.memoizedState=xc,c}return p=n.child,n=p.sibling,c=oi(p,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function Nc(n,s){return s=al({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Ka(n,s,a,c){return c!==null&&sc(c),ds(s,n.child,null,a),n=Nc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Lw(n,s,a,c,h,p,m){if(a)return s.flags&256?(s.flags&=-257,c=Ic(Error(t(422))),Ka(n,s,m,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(p=c.fallback,h=s.mode,c=al({mode:"visible",children:c.children},h,0,null),p=Bi(p,h,m,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,(s.mode&1)!==0&&ds(s,n.child,null,m),s.child.memoizedState=Rc(m),s.memoizedState=xc,p);if((s.mode&1)===0)return Ka(n,s,m,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var b=c.dgst;return c=b,p=Error(t(419)),c=Ic(p,c,void 0),Ka(n,s,m,c)}if(b=(m&n.childLanes)!==0,Yt||b){if(c=Ct,c!==null){switch(m&-m){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|m))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,Er(n,h),zn(c,n,h,-1))}return Kc(),c=Ic(Error(t(421))),Ka(n,s,m,c)}return h.data==="$?"?(s.flags|=128,s.child=n.child,s=Hw.bind(null,n),h._reactRetry=s,null):(n=p.treeContext,ln=qr(h.nextSibling),an=s,dt=!0,On=null,n!==null&&(yn[mn++]=_r,yn[mn++]=Sr,yn[mn++]=ki,_r=n.id,Sr=n.overflow,ki=s),s=Nc(s,c.children),s.flags|=4096,s)}function $p(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),uc(n.return,s,a)}function Lc(n,s,a,c,h){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=h)}function Vp(n,s,a){var c=s.pendingProps,h=c.revealOrder,p=c.tail;if(zt(n,s,c.children,a),c=ht.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$p(n,a,s);else if(n.tag===19)$p(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(ot(ht,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)n=a.alternate,n!==null&&Ga(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Lc(s,!1,h,a,p);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&Ga(n)===null){s.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Lc(s,!0,a,null,p);break;case"together":Lc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qa(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Tr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Ni|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=oi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=oi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Fw(n,s,a){switch(s.tag){case 3:Up(s),cs();break;case 5:ip(s);break;case 1:Ht(s.type)&&Ra(s);break;case 4:hc(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;ot(Pa,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(ot(ht,ht.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?jp(n,s,a):(ot(ht,ht.current&1),n=Tr(n,s,a),n!==null?n.sibling:null);ot(ht,ht.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return Vp(n,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(ht,ht.current),c)break;return null;case 22:case 23:return s.lanes=0,Pp(n,s,a)}return Tr(n,s,a)}var Wp,Fc,Hp,Yp;Wp=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Fc=function(){},Hp=function(n,s,a,c){var h=n.memoizedProps;if(h!==c){n=s.stateNode,xi(Jn.current);var p=null;switch(a){case"input":h=ge(n,h),c=ge(n,c),p=[];break;case"select":h=J({},h,{value:void 0}),c=J({},c,{value:void 0}),p=[];break;case"textarea":h=Yn(n,h),c=Yn(n,c),p=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Ca)}pu(a,c);var m;a=null;for(B in h)if(!c.hasOwnProperty(B)&&h.hasOwnProperty(B)&&h[B]!=null)if(B==="style"){var b=h[B];for(m in b)b.hasOwnProperty(m)&&(a||(a={}),a[m]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in c){var E=c[B];if(b=h!=null?h[B]:void 0,c.hasOwnProperty(B)&&E!==b&&(E!=null||b!=null))if(B==="style")if(b){for(m in b)!b.hasOwnProperty(m)||E&&E.hasOwnProperty(m)||(a||(a={}),a[m]="");for(m in E)E.hasOwnProperty(m)&&b[m]!==E[m]&&(a||(a={}),a[m]=E[m])}else a||(p||(p=[]),p.push(B,a)),a=E;else B==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,b=b?b.__html:void 0,E!=null&&b!==E&&(p=p||[]).push(B,E)):B==="children"?typeof E!="string"&&typeof E!="number"||(p=p||[]).push(B,""+E):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(E!=null&&B==="onScroll"&&lt("scroll",n),p||b===E||(p=[])):(p=p||[]).push(B,E))}a&&(p=p||[]).push("style",a);var B=p;(s.updateQueue=B)&&(s.flags|=4)}},Yp=function(n,s,a,c){a!==c&&(s.flags|=4)};function To(n,s){if(!dt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function Ow(n,s,a){var c=s.pendingProps;switch(nc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(s),null;case 1:return Ht(s.type)&&xa(),Ot(s),null;case 3:return c=s.stateNode,ps(),ut(Wt),ut(Lt),gc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Oa(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,On!==null&&(Wc(On),On=null))),Fc(n,s),Ot(s),null;case 5:fc(s);var h=xi(bo.current);if(a=s.type,n!==null&&s.stateNode!=null)Hp(n,s,a,c,h),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Ot(s),null}if(n=xi(Jn.current),Oa(s)){c=s.stateNode,a=s.type;var p=s.memoizedProps;switch(c[Xn]=s,c[go]=p,n=(s.mode&1)!==0,a){case"dialog":lt("cancel",c),lt("close",c);break;case"iframe":case"object":case"embed":lt("load",c);break;case"video":case"audio":for(h=0;h<ho.length;h++)lt(ho[h],c);break;case"source":lt("error",c);break;case"img":case"image":case"link":lt("error",c),lt("load",c);break;case"details":lt("toggle",c);break;case"input":Se(c,p),lt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},lt("invalid",c);break;case"textarea":qi(c,p),lt("invalid",c)}pu(a,p),h=null;for(var m in p)if(p.hasOwnProperty(m)){var b=p[m];m==="children"?typeof b=="string"?c.textContent!==b&&(p.suppressHydrationWarning!==!0&&ka(c.textContent,b,n),h=["children",b]):typeof b=="number"&&c.textContent!==""+b&&(p.suppressHydrationWarning!==!0&&ka(c.textContent,b,n),h=["children",""+b]):o.hasOwnProperty(m)&&b!=null&&m==="onScroll"&&lt("scroll",c)}switch(a){case"input":ke(c),yr(c,p,!0);break;case"textarea":ke(c),Si(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Ca)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{m=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ei(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=m.createElement(a,{is:c.is}):(n=m.createElement(a),a==="select"&&(m=n,c.multiple?m.multiple=!0:c.size&&(m.size=c.size))):n=m.createElementNS(n,a),n[Xn]=s,n[go]=c,Wp(n,s,!1,!1),s.stateNode=n;e:{switch(m=gu(a,c),a){case"dialog":lt("cancel",n),lt("close",n),h=c;break;case"iframe":case"object":case"embed":lt("load",n),h=c;break;case"video":case"audio":for(h=0;h<ho.length;h++)lt(ho[h],n);h=c;break;case"source":lt("error",n),h=c;break;case"img":case"image":case"link":lt("error",n),lt("load",n),h=c;break;case"details":lt("toggle",n),h=c;break;case"input":Se(n,c),h=ge(n,c),lt("invalid",n);break;case"option":h=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},h=J({},c,{value:void 0}),lt("invalid",n);break;case"textarea":qi(n,c),h=Yn(n,c),lt("invalid",n);break;default:h=c}pu(a,h),b=h;for(p in b)if(b.hasOwnProperty(p)){var E=b[p];p==="style"?Oh(n,E):p==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Kn(n,E)):p==="children"?typeof E=="string"?(a!=="textarea"||E!=="")&&qn(n,E):typeof E=="number"&&qn(n,""+E):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?E!=null&&p==="onScroll"&&lt("scroll",n):E!=null&&$(n,p,E,m))}switch(a){case"input":ke(n),yr(n,c,!1);break;case"textarea":ke(n),Si(n);break;case"option":c.value!=null&&n.setAttribute("value",""+pe(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?_t(n,!!c.multiple,p,!1):c.defaultValue!=null&&_t(n,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=Ca)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ot(s),null;case 6:if(n&&s.stateNode!=null)Yp(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=xi(bo.current),xi(Jn.current),Oa(s)){if(c=s.stateNode,a=s.memoizedProps,c[Xn]=s,(p=c.nodeValue!==a)&&(n=an,n!==null))switch(n.tag){case 3:ka(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ka(c.nodeValue,a,(n.mode&1)!==0)}p&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Xn]=s,s.stateNode=c}return Ot(s),null;case 13:if(ut(ht),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(dt&&ln!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Qf(),cs(),s.flags|=98560,p=!1;else if(p=Oa(s),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[Xn]=s}else cs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ot(s),p=!1}else On!==null&&(Wc(On),On=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(ht.current&1)!==0?Et===0&&(Et=3):Kc())),s.updateQueue!==null&&(s.flags|=4),Ot(s),null);case 4:return ps(),Fc(n,s),n===null&&fo(s.stateNode.containerInfo),Ot(s),null;case 10:return lc(s.type._context),Ot(s),null;case 17:return Ht(s.type)&&xa(),Ot(s),null;case 19:if(ut(ht),p=s.memoizedState,p===null)return Ot(s),null;if(c=(s.flags&128)!==0,m=p.rendering,m===null)if(c)To(p,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Ga(n),m!==null){for(s.flags|=128,To(p,!1),c=m.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)p=a,n=c,p.flags&=14680066,m=p.alternate,m===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=m.childLanes,p.lanes=m.lanes,p.child=m.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=m.memoizedProps,p.memoizedState=m.memoizedState,p.updateQueue=m.updateQueue,p.type=m.type,n=m.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return ot(ht,ht.current&1|2),s.child}n=n.sibling}p.tail!==null&&mt()>vs&&(s.flags|=128,c=!0,To(p,!1),s.lanes=4194304)}else{if(!c)if(n=Ga(m),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),To(p,!0),p.tail===null&&p.tailMode==="hidden"&&!m.alternate&&!dt)return Ot(s),null}else 2*mt()-p.renderingStartTime>vs&&a!==1073741824&&(s.flags|=128,c=!0,To(p,!1),s.lanes=4194304);p.isBackwards?(m.sibling=s.child,s.child=m):(a=p.last,a!==null?a.sibling=m:s.child=m,p.last=m)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=mt(),s.sibling=null,a=ht.current,ot(ht,c?a&1|2:a&1),s):(Ot(s),null);case 22:case 23:return Yc(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(un&1073741824)!==0&&(Ot(s),s.subtreeFlags&6&&(s.flags|=8192)):Ot(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Bw(n,s){switch(nc(s),s.tag){case 1:return Ht(s.type)&&xa(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ps(),ut(Wt),ut(Lt),gc(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return fc(s),null;case 13:if(ut(ht),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));cs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ut(ht),null;case 4:return ps(),null;case 10:return lc(s.type._context),null;case 22:case 23:return Yc(),null;case 24:return null;default:return null}}var Qa=!1,Bt=!1,Pw=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ys(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){yt(n,s,c)}else a.current=null}function Oc(n,s,a){try{a()}catch(c){yt(n,s,c)}}var Kp=!1;function Mw(n,s){if(Yu=ya,n=If(),zu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var m=0,b=-1,E=-1,B=0,X=0,ee=n,q=null;t:for(;;){for(var ue;ee!==a||h!==0&&ee.nodeType!==3||(b=m+h),ee!==p||c!==0&&ee.nodeType!==3||(E=m+c),ee.nodeType===3&&(m+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)q=ee,ee=ue;for(;;){if(ee===n)break t;if(q===a&&++B===h&&(b=m),q===p&&++X===c&&(E=m),(ue=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=ue}a=b===-1||E===-1?null:{start:b,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ku={focusedElem:n,selectionRange:a},ya=!1,ce=s;ce!==null;)if(s=ce,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ce=n;else for(;ce!==null;){s=ce;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,vt=de.memoizedState,R=s.stateNode,k=R.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Bn(s.type,fe),vt);R.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var F=s.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){yt(s,s.return,ne)}if(n=s.sibling,n!==null){n.return=s.return,ce=n;break}ce=s.return}return de=Kp,Kp=!1,de}function Io(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&n)===n){var p=h.destroy;h.destroy=void 0,p!==void 0&&Oc(s,a,p)}h=h.next}while(h!==c)}}function Za(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Bc(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function qp(n){var s=n.alternate;s!==null&&(n.alternate=null,qp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Xn],delete s[go],delete s[Xu],delete s[bw],delete s[_w])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Qp(n){return n.tag===5||n.tag===3||n.tag===4}function Zp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Qp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Pc(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ca));else if(c!==4&&(n=n.child,n!==null))for(Pc(n,s,a),n=n.sibling;n!==null;)Pc(n,s,a),n=n.sibling}function Mc(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Mc(n,s,a),n=n.sibling;n!==null;)Mc(n,s,a),n=n.sibling}var xt=null,Pn=!1;function ti(n,s,a){for(a=a.child;a!==null;)Xp(n,s,a),a=a.sibling}function Xp(n,s,a){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(ca,a)}catch{}switch(a.tag){case 5:Bt||ys(a,s);case 6:var c=xt,h=Pn;xt=null,ti(n,s,a),xt=c,Pn=h,xt!==null&&(Pn?(n=xt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):xt.removeChild(a.stateNode));break;case 18:xt!==null&&(Pn?(n=xt,a=a.stateNode,n.nodeType===8?Zu(n.parentNode,a):n.nodeType===1&&Zu(n,a),ro(n)):Zu(xt,a.stateNode));break;case 4:c=xt,h=Pn,xt=a.stateNode.containerInfo,Pn=!0,ti(n,s,a),xt=c,Pn=h;break;case 0:case 11:case 14:case 15:if(!Bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var p=h,m=p.destroy;p=p.tag,m!==void 0&&((p&2)!==0||(p&4)!==0)&&Oc(a,s,m),h=h.next}while(h!==c)}ti(n,s,a);break;case 1:if(!Bt&&(ys(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(b){yt(a,s,b)}ti(n,s,a);break;case 21:ti(n,s,a);break;case 22:a.mode&1?(Bt=(c=Bt)||a.memoizedState!==null,ti(n,s,a),Bt=c):ti(n,s,a);break;default:ti(n,s,a)}}function Jp(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Pw),s.forEach(function(c){var h=Yw.bind(null,n,c);a.has(c)||(a.add(c),c.then(h,h))})}}function Mn(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var p=n,m=s,b=m;e:for(;b!==null;){switch(b.tag){case 5:xt=b.stateNode,Pn=!1;break e;case 3:xt=b.stateNode.containerInfo,Pn=!0;break e;case 4:xt=b.stateNode.containerInfo,Pn=!0;break e}b=b.return}if(xt===null)throw Error(t(160));Xp(p,m,h),xt=null,Pn=!1;var E=h.alternate;E!==null&&(E.return=null),h.return=null}catch(B){yt(h,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)eg(s,n),s=s.sibling}function eg(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mn(s,n),tr(n),c&4){try{Io(3,n,n.return),Za(3,n)}catch(fe){yt(n,n.return,fe)}try{Io(5,n,n.return)}catch(fe){yt(n,n.return,fe)}}break;case 1:Mn(s,n),tr(n),c&512&&a!==null&&ys(a,a.return);break;case 5:if(Mn(s,n),tr(n),c&512&&a!==null&&ys(a,a.return),n.flags&32){var h=n.stateNode;try{qn(h,"")}catch(fe){yt(n,n.return,fe)}}if(c&4&&(h=n.stateNode,h!=null)){var p=n.memoizedProps,m=a!==null?a.memoizedProps:p,b=n.type,E=n.updateQueue;if(n.updateQueue=null,E!==null)try{b==="input"&&p.type==="radio"&&p.name!=null&&W(h,p),gu(b,m);var B=gu(b,p);for(m=0;m<E.length;m+=2){var X=E[m],ee=E[m+1];X==="style"?Oh(h,ee):X==="dangerouslySetInnerHTML"?Kn(h,ee):X==="children"?qn(h,ee):$(h,X,ee,B)}switch(b){case"input":Rn(h,p);break;case"textarea":_i(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ue=p.value;ue!=null?_t(h,!!p.multiple,ue,!1):q!==!!p.multiple&&(p.defaultValue!=null?_t(h,!!p.multiple,p.defaultValue,!0):_t(h,!!p.multiple,p.multiple?[]:"",!1))}h[go]=p}catch(fe){yt(n,n.return,fe)}}break;case 6:if(Mn(s,n),tr(n),c&4){if(n.stateNode===null)throw Error(t(162));h=n.stateNode,p=n.memoizedProps;try{h.nodeValue=p}catch(fe){yt(n,n.return,fe)}}break;case 3:if(Mn(s,n),tr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(s.containerInfo)}catch(fe){yt(n,n.return,fe)}break;case 4:Mn(s,n),tr(n);break;case 13:Mn(s,n),tr(n),h=n.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Gc=mt())),c&4&&Jp(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(Bt=(B=Bt)||X,Mn(s,n),Bt=B):Mn(s,n),tr(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!X&&(n.mode&1)!==0)for(ce=n,X=n.child;X!==null;){for(ee=ce=X;ce!==null;){switch(q=ce,ue=q.child,q.tag){case 0:case 11:case 14:case 15:Io(4,q,q.return);break;case 1:ys(q,q.return);var de=q.stateNode;if(typeof de.componentWillUnmount=="function"){c=q,a=q.return;try{s=c,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(fe){yt(c,a,fe)}}break;case 5:ys(q,q.return);break;case 22:if(q.memoizedState!==null){rg(ee);continue}}ue!==null?(ue.return=q,ce=ue):rg(ee)}X=X.sibling}e:for(X=null,ee=n;;){if(ee.tag===5){if(X===null){X=ee;try{h=ee.stateNode,B?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(b=ee.stateNode,E=ee.memoizedProps.style,m=E!=null&&E.hasOwnProperty("display")?E.display:null,b.style.display=Fh("display",m))}catch(fe){yt(n,n.return,fe)}}}else if(ee.tag===6){if(X===null)try{ee.stateNode.nodeValue=B?"":ee.memoizedProps}catch(fe){yt(n,n.return,fe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===n)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===n)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===n)break e;X===ee&&(X=null),ee=ee.return}X===ee&&(X=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Mn(s,n),tr(n),c&4&&Jp(n);break;case 21:break;default:Mn(s,n),tr(n)}}function tr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(Qp(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(qn(h,""),c.flags&=-33);var p=Zp(n);Mc(n,p,h);break;case 3:case 4:var m=c.stateNode.containerInfo,b=Zp(n);Pc(n,b,m);break;default:throw Error(t(161))}}catch(E){yt(n,n.return,E)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function zw(n,s,a){ce=n,tg(n)}function tg(n,s,a){for(var c=(n.mode&1)!==0;ce!==null;){var h=ce,p=h.child;if(h.tag===22&&c){var m=h.memoizedState!==null||Qa;if(!m){var b=h.alternate,E=b!==null&&b.memoizedState!==null||Bt;b=Qa;var B=Bt;if(Qa=m,(Bt=E)&&!B)for(ce=h;ce!==null;)m=ce,E=m.child,m.tag===22&&m.memoizedState!==null?ig(h):E!==null?(E.return=m,ce=E):ig(h);for(;p!==null;)ce=p,tg(p),p=p.sibling;ce=h,Qa=b,Bt=B}ng(n)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ce=p):ng(n)}}function ng(n){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Bt||Za(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Bt)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:Bn(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&rp(s,p,c);break;case 3:var m=s.updateQueue;if(m!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}rp(s,m,a)}break;case 5:var b=s.stateNode;if(a===null&&s.flags&4){a=b;var E=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&a.focus();break;case"img":E.src&&(a.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var ee=X.dehydrated;ee!==null&&ro(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||s.flags&512&&Bc(s)}catch(q){yt(s,s.return,q)}}if(s===n){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function rg(n){for(;ce!==null;){var s=ce;if(s===n){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function ig(n){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Za(4,s)}catch(E){yt(s,a,E)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(E){yt(s,h,E)}}var p=s.return;try{Bc(s)}catch(E){yt(s,p,E)}break;case 5:var m=s.return;try{Bc(s)}catch(E){yt(s,m,E)}}}catch(E){yt(s,s.return,E)}if(s===n){ce=null;break}var b=s.sibling;if(b!==null){b.return=s.return,ce=b;break}ce=s.return}}var Uw=Math.ceil,Xa=x.ReactCurrentDispatcher,zc=x.ReactCurrentOwner,bn=x.ReactCurrentBatchConfig,We=0,Ct=null,wt=null,Rt=0,un=0,ms=Qr(0),Et=0,ko=null,Ni=0,Ja=0,Uc=0,Co=null,Kt=null,Gc=0,vs=1/0,Ir=null,el=!1,jc=null,ni=null,tl=!1,ri=null,nl=0,Do=0,$c=null,rl=-1,il=0;function Ut(){return(We&6)!==0?mt():rl!==-1?rl:rl=mt()}function ii(n){return(n.mode&1)===0?1:(We&2)!==0&&Rt!==0?Rt&-Rt:Ew.transition!==null?(il===0&&(il=Qh()),il):(n=tt,n!==0||(n=window.event,n=n===void 0?16:of(n.type)),n)}function zn(n,s,a,c){if(50<Do)throw Do=0,$c=null,Error(t(185));Xs(n,a,c),((We&2)===0||n!==Ct)&&(n===Ct&&((We&2)===0&&(Ja|=a),Et===4&&si(n,Rt)),qt(n,c),a===1&&We===0&&(s.mode&1)===0&&(vs=mt()+500,Na&&Xr()))}function qt(n,s){var a=n.callbackNode;E0(n,s);var c=fa(n,n===Ct?Rt:0);if(c===0)a!==null&&Yh(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&Yh(a),s===1)n.tag===0?Sw(og.bind(null,n)):Wf(og.bind(null,n)),vw(function(){(We&6)===0&&Xr()}),a=null;else{switch(Zh(c)){case 1:a=Su;break;case 4:a=Kh;break;case 16:a=ua;break;case 536870912:a=qh;break;default:a=ua}a=pg(a,sg.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function sg(n,s){if(rl=-1,il=0,(We&6)!==0)throw Error(t(327));var a=n.callbackNode;if(ws()&&n.callbackNode!==a)return null;var c=fa(n,n===Ct?Rt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=sl(n,c);else{s=c;var h=We;We|=2;var p=lg();(Ct!==n||Rt!==s)&&(Ir=null,vs=mt()+500,Fi(n,s));do try{$w();break}catch(b){ag(n,b)}while(!0);ac(),Xa.current=p,We=h,wt!==null?s=0:(Ct=null,Rt=0,s=Et)}if(s!==0){if(s===2&&(h=Eu(n),h!==0&&(c=h,s=Vc(n,h))),s===1)throw a=ko,Fi(n,0),si(n,c),qt(n,mt()),a;if(s===6)si(n,c);else{if(h=n.current.alternate,(c&30)===0&&!Gw(h)&&(s=sl(n,c),s===2&&(p=Eu(n),p!==0&&(c=p,s=Vc(n,p))),s===1))throw a=ko,Fi(n,0),si(n,c),qt(n,mt()),a;switch(n.finishedWork=h,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:Oi(n,Kt,Ir);break;case 3:if(si(n,c),(c&130023424)===c&&(s=Gc+500-mt(),10<s)){if(fa(n,0)!==0)break;if(h=n.suspendedLanes,(h&c)!==c){Ut(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=Qu(Oi.bind(null,n,Kt,Ir),s);break}Oi(n,Kt,Ir);break;case 4:if(si(n,c),(c&4194240)===c)break;for(s=n.eventTimes,h=-1;0<c;){var m=31-Ln(c);p=1<<m,m=s[m],m>h&&(h=m),c&=~p}if(c=h,c=mt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Uw(c/1960))-c,10<c){n.timeoutHandle=Qu(Oi.bind(null,n,Kt,Ir),c);break}Oi(n,Kt,Ir);break;case 5:Oi(n,Kt,Ir);break;default:throw Error(t(329))}}}return qt(n,mt()),n.callbackNode===a?sg.bind(null,n):null}function Vc(n,s){var a=Co;return n.current.memoizedState.isDehydrated&&(Fi(n,s).flags|=256),n=sl(n,s),n!==2&&(s=Kt,Kt=a,s!==null&&Wc(s)),n}function Wc(n){Kt===null?Kt=n:Kt.push.apply(Kt,n)}function Gw(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],p=h.getSnapshot;h=h.value;try{if(!Fn(p(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function si(n,s){for(s&=~Uc,s&=~Ja,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-Ln(s),c=1<<a;n[a]=-1,s&=~c}}function og(n){if((We&6)!==0)throw Error(t(327));ws();var s=fa(n,0);if((s&1)===0)return qt(n,mt()),null;var a=sl(n,s);if(n.tag!==0&&a===2){var c=Eu(n);c!==0&&(s=c,a=Vc(n,c))}if(a===1)throw a=ko,Fi(n,0),si(n,s),qt(n,mt()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Oi(n,Kt,Ir),qt(n,mt()),null}function Hc(n,s){var a=We;We|=1;try{return n(s)}finally{We=a,We===0&&(vs=mt()+500,Na&&Xr())}}function Li(n){ri!==null&&ri.tag===0&&(We&6)===0&&ws();var s=We;We|=1;var a=bn.transition,c=tt;try{if(bn.transition=null,tt=1,n)return n()}finally{tt=c,bn.transition=a,We=s,(We&6)===0&&Xr()}}function Yc(){un=ms.current,ut(ms)}function Fi(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,mw(a)),wt!==null)for(a=wt.return;a!==null;){var c=a;switch(nc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&xa();break;case 3:ps(),ut(Wt),ut(Lt),gc();break;case 5:fc(c);break;case 4:ps();break;case 13:ut(ht);break;case 19:ut(ht);break;case 10:lc(c.type._context);break;case 22:case 23:Yc()}a=a.return}if(Ct=n,wt=n=oi(n.current,null),Rt=un=s,Et=0,ko=null,Uc=Ja=Ni=0,Kt=Co=null,Di!==null){for(s=0;s<Di.length;s++)if(a=Di[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,p=a.pending;if(p!==null){var m=p.next;p.next=h,c.next=m}a.pending=c}Di=null}return n}function ag(n,s){do{var a=wt;try{if(ac(),ja.current=Ha,$a){for(var c=ft.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}$a=!1}if(Ri=0,kt=St=ft=null,_o=!1,So=0,zc.current=null,a===null||a.return===null){Et=1,ko=s,wt=null;break}e:{var p=n,m=a.return,b=a,E=s;if(s=Rt,b.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var B=E,X=b,ee=X.tag;if((X.mode&1)===0&&(ee===0||ee===11||ee===15)){var q=X.alternate;q?(X.updateQueue=q.updateQueue,X.memoizedState=q.memoizedState,X.lanes=q.lanes):(X.updateQueue=null,X.memoizedState=null)}var ue=Np(m);if(ue!==null){ue.flags&=-257,Lp(ue,m,b,p,s),ue.mode&1&&Rp(p,B,s),s=ue,E=B;var de=s.updateQueue;if(de===null){var fe=new Set;fe.add(E),s.updateQueue=fe}else de.add(E);break e}else{if((s&1)===0){Rp(p,B,s),Kc();break e}E=Error(t(426))}}else if(dt&&b.mode&1){var vt=Np(m);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Lp(vt,m,b,p,s),sc(gs(E,b));break e}}p=E=gs(E,b),Et!==4&&(Et=2),Co===null?Co=[p]:Co.push(p),p=m;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var R=Dp(p,E,s);np(p,R);break e;case 1:b=E;var k=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ni===null||!ni.has(F)))){p.flags|=65536,s&=-s,p.lanes|=s;var ne=xp(p,b,s);np(p,ne);break e}}p=p.return}while(p!==null)}cg(a)}catch(me){s=me,wt===a&&a!==null&&(wt=a=a.return);continue}break}while(!0)}function lg(){var n=Xa.current;return Xa.current=Ha,n===null?Ha:n}function Kc(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||(Ni&268435455)===0&&(Ja&268435455)===0||si(Ct,Rt)}function sl(n,s){var a=We;We|=2;var c=lg();(Ct!==n||Rt!==s)&&(Ir=null,Fi(n,s));do try{jw();break}catch(h){ag(n,h)}while(!0);if(ac(),We=a,Xa.current=c,wt!==null)throw Error(t(261));return Ct=null,Rt=0,Et}function jw(){for(;wt!==null;)ug(wt)}function $w(){for(;wt!==null&&!p0();)ug(wt)}function ug(n){var s=fg(n.alternate,n,un);n.memoizedProps=n.pendingProps,s===null?cg(n):wt=s,zc.current=null}function cg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=Ow(a,s,un),a!==null){wt=a;return}}else{if(a=Bw(a,s),a!==null){a.flags&=32767,wt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Et=6,wt=null;return}}if(s=s.sibling,s!==null){wt=s;return}wt=s=n}while(s!==null);Et===0&&(Et=5)}function Oi(n,s,a){var c=tt,h=bn.transition;try{bn.transition=null,tt=1,Vw(n,s,a,c)}finally{bn.transition=h,tt=c}return null}function Vw(n,s,a,c){do ws();while(ri!==null);if((We&6)!==0)throw Error(t(327));a=n.finishedWork;var h=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=a.lanes|a.childLanes;if(A0(n,p),n===Ct&&(wt=Ct=null,Rt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||tl||(tl=!0,pg(ua,function(){return ws(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=bn.transition,bn.transition=null;var m=tt;tt=1;var b=We;We|=4,zc.current=null,Mw(n,a),eg(a,n),cw(Ku),ya=!!Yu,Ku=Yu=null,n.current=a,zw(a),g0(),We=b,tt=m,bn.transition=p}else n.current=a;if(tl&&(tl=!1,ri=n,nl=h),p=n.pendingLanes,p===0&&(ni=null),v0(a.stateNode),qt(n,mt()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(el)throw el=!1,n=jc,jc=null,n;return(nl&1)!==0&&n.tag!==0&&ws(),p=n.pendingLanes,(p&1)!==0?n===$c?Do++:(Do=0,$c=n):Do=0,Xr(),null}function ws(){if(ri!==null){var n=Zh(nl),s=bn.transition,a=tt;try{if(bn.transition=null,tt=16>n?16:n,ri===null)var c=!1;else{if(n=ri,ri=null,nl=0,(We&6)!==0)throw Error(t(331));var h=We;for(We|=4,ce=n.current;ce!==null;){var p=ce,m=p.child;if((ce.flags&16)!==0){var b=p.deletions;if(b!==null){for(var E=0;E<b.length;E++){var B=b[E];for(ce=B;ce!==null;){var X=ce;switch(X.tag){case 0:case 11:case 15:Io(8,X,p)}var ee=X.child;if(ee!==null)ee.return=X,ce=ee;else for(;ce!==null;){X=ce;var q=X.sibling,ue=X.return;if(qp(X),X===B){ce=null;break}if(q!==null){q.return=ue,ce=q;break}ce=ue}}}var de=p.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var vt=fe.sibling;fe.sibling=null,fe=vt}while(fe!==null)}}ce=p}}if((p.subtreeFlags&2064)!==0&&m!==null)m.return=p,ce=m;else e:for(;ce!==null;){if(p=ce,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Io(9,p,p.return)}var R=p.sibling;if(R!==null){R.return=p.return,ce=R;break e}ce=p.return}}var k=n.current;for(ce=k;ce!==null;){m=ce;var F=m.child;if((m.subtreeFlags&2064)!==0&&F!==null)F.return=m,ce=F;else e:for(m=k;ce!==null;){if(b=ce,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Za(9,b)}}catch(me){yt(b,b.return,me)}if(b===m){ce=null;break e}var ne=b.sibling;if(ne!==null){ne.return=b.return,ce=ne;break e}ce=b.return}}if(We=h,Xr(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(ca,n)}catch{}c=!0}return c}finally{tt=a,bn.transition=s}}return!1}function dg(n,s,a){s=gs(a,s),s=Dp(n,s,1),n=ei(n,s,1),s=Ut(),n!==null&&(Xs(n,1,s),qt(n,s))}function yt(n,s,a){if(n.tag===3)dg(n,n,a);else for(;s!==null;){if(s.tag===3){dg(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ni===null||!ni.has(c))){n=gs(a,n),n=xp(s,n,1),s=ei(s,n,1),n=Ut(),s!==null&&(Xs(s,1,n),qt(s,n));break}}s=s.return}}function Ww(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Ut(),n.pingedLanes|=n.suspendedLanes&a,Ct===n&&(Rt&a)===a&&(Et===4||Et===3&&(Rt&130023424)===Rt&&500>mt()-Gc?Fi(n,0):Uc|=a),qt(n,s)}function hg(n,s){s===0&&((n.mode&1)===0?s=1:(s=ha,ha<<=1,(ha&130023424)===0&&(ha=4194304)));var a=Ut();n=Er(n,s),n!==null&&(Xs(n,s,a),qt(n,a))}function Hw(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),hg(n,a)}function Yw(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),hg(n,a)}var fg;fg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Wt.current)Yt=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return Yt=!1,Fw(n,s,a);Yt=(n.flags&131072)!==0}else Yt=!1,dt&&(s.flags&1048576)!==0&&Hf(s,Fa,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;qa(n,s),n=s.pendingProps;var h=as(s,Lt.current);fs(s,a),h=vc(null,s,c,n,h,a);var p=wc();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ht(c)?(p=!0,Ra(s)):p=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,dc(s),h.updater=Ya,s.stateNode=h,h._reactInternals=s,Tc(s,c,n,a),s=Dc(null,s,c,!0,p,a)):(s.tag=0,dt&&p&&tc(s),zt(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(qa(n,s),n=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=qw(c),n=Bn(c,n),h){case 0:s=Cc(null,s,c,n,a);break e;case 1:s=zp(null,s,c,n,a);break e;case 11:s=Fp(null,s,c,n,a);break e;case 14:s=Op(null,s,c,Bn(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Bn(c,h),Cc(n,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Bn(c,h),zp(n,s,c,h,a);case 3:e:{if(Up(s),n===null)throw Error(t(387));c=s.pendingProps,p=s.memoizedState,h=p.element,tp(n,s),Ua(s,c,null,a);var m=s.memoizedState;if(c=m.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){h=gs(Error(t(423)),s),s=Gp(n,s,c,a,h);break e}else if(c!==h){h=gs(Error(t(424)),s),s=Gp(n,s,c,a,h);break e}else for(ln=qr(s.stateNode.containerInfo.firstChild),an=s,dt=!0,On=null,a=Jf(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(cs(),c===h){s=Tr(n,s,a);break e}zt(n,s,c,a)}s=s.child}return s;case 5:return ip(s),n===null&&ic(s),c=s.type,h=s.pendingProps,p=n!==null?n.memoizedProps:null,m=h.children,qu(c,h)?m=null:p!==null&&qu(c,p)&&(s.flags|=32),Mp(n,s),zt(n,s,m,a),s.child;case 6:return n===null&&ic(s),null;case 13:return jp(n,s,a);case 4:return hc(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=ds(s,null,c,a):zt(n,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Bn(c,h),Fp(n,s,c,h,a);case 7:return zt(n,s,s.pendingProps,a),s.child;case 8:return zt(n,s,s.pendingProps.children,a),s.child;case 12:return zt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,p=s.memoizedProps,m=h.value,ot(Pa,c._currentValue),c._currentValue=m,p!==null)if(Fn(p.value,m)){if(p.children===h.children&&!Wt.current){s=Tr(n,s,a);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var b=p.dependencies;if(b!==null){m=p.child;for(var E=b.firstContext;E!==null;){if(E.context===c){if(p.tag===1){E=Ar(-1,a&-a),E.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?E.next=E:(E.next=X.next,X.next=E),B.pending=E}}p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),uc(p.return,a,s),b.lanes|=a;break}E=E.next}}else if(p.tag===10)m=p.type===s.type?null:p.child;else if(p.tag===18){if(m=p.return,m===null)throw Error(t(341));m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),uc(m,a,s),m=p.sibling}else m=p.child;if(m!==null)m.return=p;else for(m=p;m!==null;){if(m===s){m=null;break}if(p=m.sibling,p!==null){p.return=m.return,m=p;break}m=m.return}p=m}zt(n,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,fs(s,a),h=vn(h),c=c(h),s.flags|=1,zt(n,s,c,a),s.child;case 14:return c=s.type,h=Bn(c,s.pendingProps),h=Bn(c.type,h),Op(n,s,c,h,a);case 15:return Bp(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Bn(c,h),qa(n,s),s.tag=1,Ht(c)?(n=!0,Ra(s)):n=!1,fs(s,a),kp(s,c,h),Tc(s,c,h,a),Dc(null,s,c,!0,n,a);case 19:return Vp(n,s,a);case 22:return Pp(n,s,a)}throw Error(t(156,s.tag))};function pg(n,s){return Hh(n,s)}function Kw(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,s,a,c){return new Kw(n,s,a,c)}function qc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qw(n){if(typeof n=="function")return qc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===G)return 11;if(n===ve)return 14}return 2}function oi(n,s){var a=n.alternate;return a===null?(a=_n(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function ol(n,s,a,c,h,p){var m=2;if(c=n,typeof n=="function")qc(n)&&(m=1);else if(typeof n=="string")m=5;else e:switch(n){case H:return Bi(a.children,h,p,s);case se:m=8,h|=8;break;case le:return n=_n(12,a,s,h|2),n.elementType=le,n.lanes=p,n;case S:return n=_n(13,a,s,h),n.elementType=S,n.lanes=p,n;case Te:return n=_n(19,a,s,h),n.elementType=Te,n.lanes=p,n;case C:return al(a,h,p,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O:m=10;break e;case we:m=9;break e;case G:m=11;break e;case ve:m=14;break e;case V:m=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=_n(m,a,s,h),s.elementType=n,s.type=c,s.lanes=p,s}function Bi(n,s,a,c){return n=_n(7,n,c,s),n.lanes=a,n}function al(n,s,a,c){return n=_n(22,n,c,s),n.elementType=C,n.lanes=a,n.stateNode={isHidden:!1},n}function Qc(n,s,a){return n=_n(6,n,null,s),n.lanes=a,n}function Zc(n,s,a){return s=_n(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Qw(n,s,a,c,h){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Au(0),this.expirationTimes=Au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Au(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Xc(n,s,a,c,h,p,m,b,E){return n=new Qw(n,s,a,b,E),s===1?(s=1,p===!0&&(s|=8)):s=0,p=_n(3,null,null,s),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},dc(p),n}function Zw(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function gg(n){if(!n)return Zr;n=n._reactInternals;e:{if(Ai(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ht(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Ht(a))return $f(n,a,s)}return s}function yg(n,s,a,c,h,p,m,b,E){return n=Xc(a,c,!0,n,h,p,m,b,E),n.context=gg(null),a=n.current,c=Ut(),h=ii(a),p=Ar(c,h),p.callback=s??null,ei(a,p,h),n.current.lanes=h,Xs(n,h,c),qt(n,c),n}function ll(n,s,a,c){var h=s.current,p=Ut(),m=ii(h);return a=gg(a),s.context===null?s.context=a:s.pendingContext=a,s=Ar(p,m),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=ei(h,s,m),n!==null&&(zn(n,h,m,p),za(n,h,m)),m}function ul(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function mg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Jc(n,s){mg(n,s),(n=n.alternate)&&mg(n,s)}function Xw(){return null}var vg=typeof reportError=="function"?reportError:function(n){console.error(n)};function ed(n){this._internalRoot=n}cl.prototype.render=ed.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));ll(n,s,null,null)},cl.prototype.unmount=ed.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Li(function(){ll(null,n,null,null)}),s[wr]=null}};function cl(n){this._internalRoot=n}cl.prototype.unstable_scheduleHydration=function(n){if(n){var s=ef();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Hr.length&&s!==0&&s<Hr[a].priority;a++);Hr.splice(a,0,n),a===0&&rf(n)}};function td(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function dl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function wg(){}function Jw(n,s,a,c,h){if(h){if(typeof c=="function"){var p=c;c=function(){var B=ul(m);p.call(B)}}var m=yg(s,c,n,0,null,!1,!1,"",wg);return n._reactRootContainer=m,n[wr]=m.current,fo(n.nodeType===8?n.parentNode:n),Li(),m}for(;h=n.lastChild;)n.removeChild(h);if(typeof c=="function"){var b=c;c=function(){var B=ul(E);b.call(B)}}var E=Xc(n,0,!1,null,null,!1,!1,"",wg);return n._reactRootContainer=E,n[wr]=E.current,fo(n.nodeType===8?n.parentNode:n),Li(function(){ll(s,E,a,c)}),E}function hl(n,s,a,c,h){var p=a._reactRootContainer;if(p){var m=p;if(typeof h=="function"){var b=h;h=function(){var E=ul(m);b.call(E)}}ll(s,m,n,h)}else m=Jw(a,s,n,h,c);return ul(m)}Xh=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Zs(s.pendingLanes);a!==0&&(Tu(s,a|1),qt(s,mt()),(We&6)===0&&(vs=mt()+500,Xr()))}break;case 13:Li(function(){var c=Er(n,1);if(c!==null){var h=Ut();zn(c,n,1,h)}}),Jc(n,1)}},Iu=function(n){if(n.tag===13){var s=Er(n,134217728);if(s!==null){var a=Ut();zn(s,n,134217728,a)}Jc(n,134217728)}},Jh=function(n){if(n.tag===13){var s=ii(n),a=Er(n,s);if(a!==null){var c=Ut();zn(a,n,s,c)}Jc(n,s)}},ef=function(){return tt},tf=function(n,s){var a=tt;try{return tt=n,s()}finally{tt=a}},vu=function(n,s,a){switch(s){case"input":if(Rn(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var h=Da(c);if(!h)throw Error(t(90));be(c),Rn(c,h)}}}break;case"textarea":_i(n,a);break;case"select":s=a.value,s!=null&&_t(n,!!a.multiple,s,!1)}},zh=Hc,Uh=Li;var eb={usingClientEntryPoint:!1,Events:[yo,ss,Da,Ph,Mh,Hc]},xo={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tb={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Vh(n),n===null?null:n.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||Xw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{ca=fl.inject(tb),Zn=fl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eb,Qt.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!td(s))throw Error(t(200));return Zw(n,s,null,a)},Qt.createRoot=function(n,s){if(!td(n))throw Error(t(299));var a=!1,c="",h=vg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Xc(n,1,!1,null,null,a,!1,c,h),n[wr]=s.current,fo(n.nodeType===8?n.parentNode:n),new ed(s)},Qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Vh(s),n=n===null?null:n.stateNode,n},Qt.flushSync=function(n){return Li(n)},Qt.hydrate=function(n,s,a){if(!dl(s))throw Error(t(200));return hl(null,n,s,!0,a)},Qt.hydrateRoot=function(n,s,a){if(!td(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,h=!1,p="",m=vg;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),s=yg(s,null,n,1,a??null,h,!1,p,m),n[wr]=s.current,fo(n),c)for(n=0;n<c.length;n++)a=c[n],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new cl(s)},Qt.render=function(n,s,a){if(!dl(s))throw Error(t(200));return hl(null,n,s,!1,a)},Qt.unmountComponentAtNode=function(n){if(!dl(n))throw Error(t(40));return n._reactRootContainer?(Li(function(){hl(null,null,n,!1,function(){n._reactRootContainer=null,n[wr]=null})}),!0):!1},Qt.unstable_batchedUpdates=Hc,Qt.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!dl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return hl(n,s,a,!1,c)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var kg;function ub(){if(kg)return id.exports;kg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),id.exports=lb(),id.exports}var Cg;function cb(){if(Cg)return pl;Cg=1;var r=ub();return pl.createRoot=r.createRoot,pl.hydrateRoot=r.hydrateRoot,pl}var db=cb();function hb(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function jo(r){var e=hb(r,"string");return typeof e=="symbol"?e:e+""}function Pt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Dg(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,jo(i.key),i)}}function Mt(r,e,t){return e&&Dg(r.prototype,e),t&&Dg(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Fs(r){return Fs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fs(r)}function Oy(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oy=function(){return!!r})()}function fb(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pb(r,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fb(r)}function Dn(r,e,t){return e=Fs(e),pb(r,Oy()?Reflect.construct(e,t||[],Fs(r).constructor):e.apply(r,t))}function Nd(r,e){return Nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Nd(r,e)}function xn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Nd(r,e)}function gb(r){if(Array.isArray(r))return r}function yb(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i,o,l,u,d=[],f=!0,g=!1;try{if(l=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(i=l.call(t)).done)&&(d.push(i.value),d.length!==e);f=!0);}catch(y){g=!0,o=y}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(g)throw o}}return d}}function Ld(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=Array(e);t<e;t++)i[t]=r[t];return i}function By(r,e){if(r){if(typeof r=="string")return Ld(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ld(r,e):void 0}}function mb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Os(r,e){return gb(r)||yb(r,e)||By(r,e)||mb()}var ad={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"},Py=new Int8Array(4),ld=new Int32Array(Py.buffer,0,1),vb=new Float32Array(Py.buffer,0,1),wb=/^\s*rgba?\s*\(/,bb=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function _b(r){var e=0,t=0,i=0,o=1;if(r[0]==="#")r.length===4?(e=parseInt(r.charAt(1)+r.charAt(1),16),t=parseInt(r.charAt(2)+r.charAt(2),16),i=parseInt(r.charAt(3)+r.charAt(3),16)):(e=parseInt(r.charAt(1)+r.charAt(2),16),t=parseInt(r.charAt(3)+r.charAt(4),16),i=parseInt(r.charAt(5)+r.charAt(6),16)),r.length===9&&(o=parseInt(r.charAt(7)+r.charAt(8),16)/255);else if(wb.test(r)){var l=r.match(bb);l&&(e=+l[1],t=+l[2],i=+l[3],l[4]&&(o=+l[4]))}return{r:e,g:t,b:i,a:o}}var Cs={};for(var gl in ad)Cs[gl]=Jo(ad[gl]),Cs[ad[gl]]=Cs[gl];function My(r,e,t,i,o){return ld[0]=i<<24|t<<16|e<<8|r,ld[0]=ld[0]&4278190079,vb[0]}function Jo(r){if(r=r.toLowerCase(),typeof Cs[r]<"u")return Cs[r];var e=_b(r),t=e.r,i=e.g,o=e.b,l=e.a;l=l*255|0;var u=My(t,i,o,l);return Cs[r]=u,u}var ud={};function zy(r){if(typeof ud[r]<"u")return ud[r];var e=(r&16711680)>>>16,t=(r&65280)>>>8,i=r&255,o=255,l=My(e,t,i,o);return ud[r]=l,l}function xg(r,e,t,i){return t+(e<<8)+(r<<16)}function Rg(r,e,t,i,o,l){var u=Math.floor(t/l*o),d=Math.floor(r.drawingBufferHeight/l-i/l*o),f=new Uint8Array(4);r.bindFramebuffer(r.FRAMEBUFFER,e),r.readPixels(u,d,1,1,r.RGBA,r.UNSIGNED_BYTE,f);var g=Os(f,4),y=g[0],v=g[1],w=g[2],_=g[3];return[y,v,w,_]}function Q(r,e,t){return(e=jo(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ng(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,i)}return t}function ye(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ng(Object(t),!0).forEach(function(i){Q(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ng(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function Sb(r,e){for(;!{}.hasOwnProperty.call(r,e)&&(r=Fs(r))!==null;);return r}function Fd(){return Fd=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,t){var i=Sb(r,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(arguments.length<3?r:t):o.value}},Fd.apply(null,arguments)}function Uy(r,e,t,i){var o=Fd(Fs(r.prototype),e,t);return typeof o=="function"?function(l){return o.apply(t,l)}:o}function Eb(r){return r.normalized?1:r.size}function cd(r){var e=0;return r.forEach(function(t){return e+=Eb(t)}),e}function Gy(r,e,t){var i=r==="VERTEX"?e.VERTEX_SHADER:e.FRAGMENT_SHADER,o=e.createShader(i);if(o===null)throw new Error("loadShader: error while creating the shader");e.shaderSource(o,t),e.compileShader(o);var l=e.getShaderParameter(o,e.COMPILE_STATUS);if(!l){var u=e.getShaderInfoLog(o);throw e.deleteShader(o),new Error(`loadShader: error while compiling the shader:
`.concat(u,`
`).concat(t))}return o}function Ab(r,e){return Gy("VERTEX",r,e)}function Tb(r,e){return Gy("FRAGMENT",r,e)}function Ib(r,e){var t=r.createProgram();if(t===null)throw new Error("loadProgram: error while creating the program.");var i,o;for(i=0,o=e.length;i<o;i++)r.attachShader(t,e[i]);r.linkProgram(t);var l=r.getProgramParameter(t,r.LINK_STATUS);if(!l)throw r.deleteProgram(t),new Error("loadProgram: error while linking the program.");return t}function Lg(r){var e=r.gl,t=r.buffer,i=r.program,o=r.vertexShader,l=r.fragmentShader;e.deleteShader(o),e.deleteShader(l),e.deleteProgram(i),e.deleteBuffer(t)}var Fg=`#define PICKING_MODE
`,kb=Q(Q(Q(Q(Q(Q(Q(Q({},WebGL2RenderingContext.BOOL,1),WebGL2RenderingContext.BYTE,1),WebGL2RenderingContext.UNSIGNED_BYTE,1),WebGL2RenderingContext.SHORT,2),WebGL2RenderingContext.UNSIGNED_SHORT,2),WebGL2RenderingContext.INT,4),WebGL2RenderingContext.UNSIGNED_INT,4),WebGL2RenderingContext.FLOAT,4),jy=(function(){function r(e,t,i){Pt(this,r),Q(this,"array",new Float32Array),Q(this,"constantArray",new Float32Array),Q(this,"capacity",0),Q(this,"verticesCount",0);var o=this.getDefinition();if(this.VERTICES=o.VERTICES,this.VERTEX_SHADER_SOURCE=o.VERTEX_SHADER_SOURCE,this.FRAGMENT_SHADER_SOURCE=o.FRAGMENT_SHADER_SOURCE,this.UNIFORMS=o.UNIFORMS,this.ATTRIBUTES=o.ATTRIBUTES,this.METHOD=o.METHOD,this.CONSTANT_ATTRIBUTES="CONSTANT_ATTRIBUTES"in o?o.CONSTANT_ATTRIBUTES:[],this.CONSTANT_DATA="CONSTANT_DATA"in o?o.CONSTANT_DATA:[],this.isInstanced="CONSTANT_ATTRIBUTES"in o,this.ATTRIBUTES_ITEMS_COUNT=cd(this.ATTRIBUTES),this.STRIDE=this.VERTICES*this.ATTRIBUTES_ITEMS_COUNT,this.renderer=i,this.normalProgram=this.getProgramInfo("normal",e,o.VERTEX_SHADER_SOURCE,o.FRAGMENT_SHADER_SOURCE,null),this.pickProgram=t?this.getProgramInfo("pick",e,Fg+o.VERTEX_SHADER_SOURCE,Fg+o.FRAGMENT_SHADER_SOURCE,t):null,this.isInstanced){var l=cd(this.CONSTANT_ATTRIBUTES);if(this.CONSTANT_DATA.length!==this.VERTICES)throw new Error("Program: error while getting constant data (expected ".concat(this.VERTICES," items, received ").concat(this.CONSTANT_DATA.length," instead)"));this.constantArray=new Float32Array(this.CONSTANT_DATA.length*l);for(var u=0;u<this.CONSTANT_DATA.length;u++){var d=this.CONSTANT_DATA[u];if(d.length!==l)throw new Error("Program: error while getting constant data (one vector has ".concat(d.length," items instead of ").concat(l,")"));for(var f=0;f<d.length;f++)this.constantArray[u*l+f]=d[f]}this.STRIDE=this.ATTRIBUTES_ITEMS_COUNT}}return Mt(r,[{key:"kill",value:function(){Lg(this.normalProgram),this.pickProgram&&(Lg(this.pickProgram),this.pickProgram=null)}},{key:"getProgramInfo",value:function(t,i,o,l,u){var d=this.getDefinition(),f=i.createBuffer();if(f===null)throw new Error("Program: error while creating the WebGL buffer.");var g=Ab(i,o),y=Tb(i,l),v=Ib(i,[g,y]),w={};d.UNIFORMS.forEach(function(L){var P=i.getUniformLocation(v,L);P&&(w[L]=P)});var _={};d.ATTRIBUTES.forEach(function(L){_[L.name]=i.getAttribLocation(v,L.name)});var N;if("CONSTANT_ATTRIBUTES"in d&&(d.CONSTANT_ATTRIBUTES.forEach(function(L){_[L.name]=i.getAttribLocation(v,L.name)}),N=i.createBuffer(),N===null))throw new Error("Program: error while creating the WebGL constant buffer.");return{name:t,program:v,gl:i,frameBuffer:u,buffer:f,constantBuffer:N||{},uniformLocations:w,attributeLocations:_,isPicking:t==="pick",vertexShader:g,fragmentShader:y}}},{key:"bindProgram",value:function(t){var i=this,o=0,l=t.gl,u=t.buffer;this.isInstanced?(l.bindBuffer(l.ARRAY_BUFFER,t.constantBuffer),o=0,this.CONSTANT_ATTRIBUTES.forEach(function(d){return o+=i.bindAttribute(d,t,o,!1)}),l.bufferData(l.ARRAY_BUFFER,this.constantArray,l.STATIC_DRAW),l.bindBuffer(l.ARRAY_BUFFER,t.buffer),o=0,this.ATTRIBUTES.forEach(function(d){return o+=i.bindAttribute(d,t,o,!0)}),l.bufferData(l.ARRAY_BUFFER,this.array,l.DYNAMIC_DRAW)):(l.bindBuffer(l.ARRAY_BUFFER,u),o=0,this.ATTRIBUTES.forEach(function(d){return o+=i.bindAttribute(d,t,o)}),l.bufferData(l.ARRAY_BUFFER,this.array,l.DYNAMIC_DRAW)),l.bindBuffer(l.ARRAY_BUFFER,null)}},{key:"unbindProgram",value:function(t){var i=this;this.isInstanced?(this.CONSTANT_ATTRIBUTES.forEach(function(o){return i.unbindAttribute(o,t,!1)}),this.ATTRIBUTES.forEach(function(o){return i.unbindAttribute(o,t,!0)})):this.ATTRIBUTES.forEach(function(o){return i.unbindAttribute(o,t)})}},{key:"bindAttribute",value:function(t,i,o,l){var u=kb[t.type];if(typeof u!="number")throw new Error('Program.bind: yet unsupported attribute type "'.concat(t.type,'"'));var d=i.attributeLocations[t.name],f=i.gl;if(d!==-1){f.enableVertexAttribArray(d);var g=this.isInstanced?(l?this.ATTRIBUTES_ITEMS_COUNT:cd(this.CONSTANT_ATTRIBUTES))*Float32Array.BYTES_PER_ELEMENT:this.ATTRIBUTES_ITEMS_COUNT*Float32Array.BYTES_PER_ELEMENT;if(f.vertexAttribPointer(d,t.size,t.type,t.normalized||!1,g,o),this.isInstanced&&l)if(f instanceof WebGL2RenderingContext)f.vertexAttribDivisor(d,1);else{var y=f.getExtension("ANGLE_instanced_arrays");y&&y.vertexAttribDivisorANGLE(d,1)}}return t.size*u}},{key:"unbindAttribute",value:function(t,i,o){var l=i.attributeLocations[t.name],u=i.gl;if(l!==-1&&(u.disableVertexAttribArray(l),this.isInstanced&&o))if(u instanceof WebGL2RenderingContext)u.vertexAttribDivisor(l,0);else{var d=u.getExtension("ANGLE_instanced_arrays");d&&d.vertexAttribDivisorANGLE(l,0)}}},{key:"reallocate",value:function(t){t!==this.capacity&&(this.capacity=t,this.verticesCount=this.VERTICES*t,this.array=new Float32Array(this.isInstanced?this.capacity*this.ATTRIBUTES_ITEMS_COUNT:this.verticesCount*this.ATTRIBUTES_ITEMS_COUNT))}},{key:"hasNothingToRender",value:function(){return this.verticesCount===0}},{key:"renderProgram",value:function(t,i){var o=i.gl,l=i.program;o.enable(o.BLEND),o.useProgram(l),this.setUniforms(t,i),this.drawWebGL(this.METHOD,i)}},{key:"render",value:function(t){this.hasNothingToRender()||(this.pickProgram&&(this.pickProgram.gl.viewport(0,0,t.width*t.pixelRatio/t.downSizingRatio,t.height*t.pixelRatio/t.downSizingRatio),this.bindProgram(this.pickProgram),this.renderProgram(ye(ye({},t),{},{pixelRatio:t.pixelRatio/t.downSizingRatio}),this.pickProgram),this.unbindProgram(this.pickProgram)),this.normalProgram.gl.viewport(0,0,t.width*t.pixelRatio,t.height*t.pixelRatio),this.bindProgram(this.normalProgram),this.renderProgram(t,this.normalProgram),this.unbindProgram(this.normalProgram))}},{key:"drawWebGL",value:function(t,i){var o=i.gl,l=i.frameBuffer;if(o.bindFramebuffer(o.FRAMEBUFFER,l),!this.isInstanced)o.drawArrays(t,0,this.verticesCount);else if(o instanceof WebGL2RenderingContext)o.drawArraysInstanced(t,0,this.VERTICES,this.capacity);else{var u=o.getExtension("ANGLE_instanced_arrays");u&&u.drawArraysInstancedANGLE(t,0,this.VERTICES,this.capacity)}}}])})(),Cb=(function(r){function e(){return Pt(this,e),Dn(this,e,arguments)}return xn(e,r),Mt(e,[{key:"kill",value:function(){Uy(e,"kill",this)([])}},{key:"process",value:function(i,o,l){var u=o*this.STRIDE;if(l.hidden){for(var d=u+this.STRIDE;u<d;u++)this.array[u]=0;return}return this.processVisibleItem(zy(i),u,l)}}])})(jy),Xd=(function(r){function e(){var t;Pt(this,e);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=Dn(this,e,[].concat(o)),Q(t,"drawLabel",void 0),t}return xn(e,r),Mt(e,[{key:"kill",value:function(){Uy(e,"kill",this)([])}},{key:"process",value:function(i,o,l,u,d){var f=o*this.STRIDE;if(d.hidden||l.hidden||u.hidden){for(var g=f+this.STRIDE;f<g;f++)this.array[f]=0;return}return this.processVisibleItem(zy(i),f,l,u,d)}}])})(jy);function Db(r,e){return(function(){function t(i,o,l){Pt(this,t),Q(this,"drawLabel",e),this.programs=r.map(function(u){return new u(i,o,l)})}return Mt(t,[{key:"reallocate",value:function(o){this.programs.forEach(function(l){return l.reallocate(o)})}},{key:"process",value:function(o,l,u,d,f){this.programs.forEach(function(g){return g.process(o,l,u,d,f)})}},{key:"render",value:function(o){this.programs.forEach(function(l){return l.render(o)})}},{key:"kill",value:function(){this.programs.forEach(function(o){return o.kill()})}}])})()}function xb(r,e,t,i,o){var l=o.edgeLabelSize,u=o.edgeLabelFont,d=o.edgeLabelWeight,f=o.edgeLabelColor.attribute?e[o.edgeLabelColor.attribute]||o.edgeLabelColor.color||"#000":o.edgeLabelColor.color,g=e.label;if(g){r.fillStyle=f,r.font="".concat(d," ").concat(l,"px ").concat(u);var y=t.size,v=i.size,w=t.x,_=t.y,N=i.x,L=i.y,P=(w+N)/2,Z=(_+L)/2,j=N-w,$=L-_,x=Math.sqrt(j*j+$*$);if(!(x<y+v)){w+=j*y/x,_+=$*y/x,N-=j*v/x,L-=$*v/x,P=(w+N)/2,Z=(_+L)/2,j=N-w,$=L-_,x=Math.sqrt(j*j+$*$);var T=r.measureText(g).width;if(T>x){var M="";for(g=g+M,T=r.measureText(g).width;T>x&&g.length>1;)g=g.slice(0,-2)+M,T=r.measureText(g).width;if(g.length<4)return}var H;j>0?$>0?H=Math.acos(j/x):H=Math.asin($/x):$>0?H=Math.acos(j/x)+Math.PI:H=Math.asin(j/x)+Math.PI/2,r.save(),r.translate(P,Z),r.rotate(H),r.fillText(g,-T/2,e.size/2+l),r.restore()}}}function $y(r,e,t){if(e.label){var i=t.labelSize,o=t.labelFont,l=t.labelWeight,u=t.labelColor.attribute?e[t.labelColor.attribute]||t.labelColor.color||"#000":t.labelColor.color;r.fillStyle=u,r.font="".concat(l," ").concat(i,"px ").concat(o),r.fillText(e.label,e.x+e.size+3,e.y+i/3)}}function Rb(r,e,t){var i=t.labelSize,o=t.labelFont,l=t.labelWeight;r.font="".concat(l," ").concat(i,"px ").concat(o),r.fillStyle="#FFF",r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=8,r.shadowColor="#000";var u=2;if(typeof e.label=="string"){var d=r.measureText(e.label).width,f=Math.round(d+5),g=Math.round(i+2*u),y=Math.max(e.size,i/2)+u,v=Math.asin(g/2/y),w=Math.sqrt(Math.abs(Math.pow(y,2)-Math.pow(g/2,2)));r.beginPath(),r.moveTo(e.x+w,e.y+g/2),r.lineTo(e.x+y+f,e.y+g/2),r.lineTo(e.x+y+f,e.y-g/2),r.lineTo(e.x+w,e.y-g/2),r.arc(e.x,e.y,y,v,-v),r.closePath(),r.fill()}else r.beginPath(),r.arc(e.x,e.y,e.size+u,0,Math.PI*2),r.closePath(),r.fill();r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=0,$y(r,e,t)}var Nb=`
precision highp float;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;

uniform float u_correctionRatio;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  float border = u_correctionRatio * 2.0;
  float dist = length(v_diffVector) - v_radius + border;

  // No antialiasing for picking mode:
  #ifdef PICKING_MODE
  if (dist > border)
    gl_FragColor = transparent;
  else
    gl_FragColor = v_color;

  #else
  float t = 0.0;
  if (dist > border)
    t = 1.0;
  else if (dist > 0.0)
    t = dist / border;

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,Lb=Nb,Fb=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_position;
attribute float a_size;
attribute float a_angle;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;
varying float v_border;

const float bias = 255.0 / 254.0;

void main() {
  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;
  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));
  vec2 position = a_position + diffVector;
  gl_Position = vec4(
    (u_matrix * vec3(position, 1)).xy,
    0,
    1
  );

  v_diffVector = diffVector;
  v_radius = size / 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Ob=Fb,Vy=WebGLRenderingContext,Og=Vy.UNSIGNED_BYTE,dd=Vy.FLOAT,Bb=["u_sizeRatio","u_correctionRatio","u_matrix"],lu=(function(r){function e(){return Pt(this,e),Dn(this,e,arguments)}return xn(e,r),Mt(e,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:Ob,FRAGMENT_SHADER_SOURCE:Lb,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:Bb,ATTRIBUTES:[{name:"a_position",size:2,type:dd},{name:"a_size",size:1,type:dd},{name:"a_color",size:4,type:Og,normalized:!0},{name:"a_id",size:4,type:Og,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_angle",size:1,type:dd}],CONSTANT_DATA:[[e.ANGLE_1],[e.ANGLE_2],[e.ANGLE_3]]}}},{key:"processVisibleItem",value:function(i,o,l){var u=this.array,d=Jo(l.color);u[o++]=l.x,u[o++]=l.y,u[o++]=l.size,u[o++]=d,u[o++]=i}},{key:"setUniforms",value:function(i,o){var l=o.gl,u=o.uniformLocations,d=u.u_sizeRatio,f=u.u_correctionRatio,g=u.u_matrix;l.uniform1f(f,i.correctionRatio),l.uniform1f(d,i.sizeRatio),l.uniformMatrix3fv(g,!1,i.matrix)}}])})(Cb);Q(lu,"ANGLE_1",0);Q(lu,"ANGLE_2",2*Math.PI/3);Q(lu,"ANGLE_3",4*Math.PI/3);var Pb=`
precision mediump float;

varying vec4 v_color;

void main(void) {
  gl_FragColor = v_color;
}
`,Mb=Pb,zb=`
attribute vec2 a_position;
attribute vec2 a_normal;
attribute float a_radius;
attribute vec3 a_barycentric;

#ifdef PICKING_MODE
attribute vec4 a_id;
#else
attribute vec4 a_color;
#endif

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_widenessToThicknessRatio;

varying vec4 v_color;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl and
  // edge.clamped.vert.glsl. Please read it to get better comments on what's
  // happening:
  float pixelsThickness = max(normalLength / u_sizeRatio, minThickness);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;
  float webGLArrowHeadThickness = webGLThickness * u_widenessToThicknessRatio;

  float da = a_barycentric.x;
  float db = a_barycentric.y;
  float dc = a_barycentric.z;

  vec2 delta = vec2(
      da * (webGLNodeRadius * unitNormal.y)
    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadThickness * unitNormal.x)
    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadThickness * unitNormal.x),

      da * (-webGLNodeRadius * unitNormal.x)
    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadThickness * unitNormal.y)
    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadThickness * unitNormal.y)
  );

  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;

  gl_Position = vec4(position, 0, 1);

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Ub=zb,Wy=WebGLRenderingContext,Bg=Wy.UNSIGNED_BYTE,yl=Wy.FLOAT,Gb=["u_matrix","u_sizeRatio","u_correctionRatio","u_minEdgeThickness","u_lengthToThicknessRatio","u_widenessToThicknessRatio"],Hy={extremity:"target",lengthToThicknessRatio:2.5,widenessToThicknessRatio:2};function Yy(r){var e=ye(ye({},Hy),{});return(function(t){function i(){return Pt(this,i),Dn(this,i,arguments)}return xn(i,t),Mt(i,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:Ub,FRAGMENT_SHADER_SOURCE:Mb,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:Gb,ATTRIBUTES:[{name:"a_position",size:2,type:yl},{name:"a_normal",size:2,type:yl},{name:"a_radius",size:1,type:yl},{name:"a_color",size:4,type:Bg,normalized:!0},{name:"a_id",size:4,type:Bg,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_barycentric",size:3,type:yl}],CONSTANT_DATA:[[1,0,0],[0,1,0],[0,0,1]]}}},{key:"processVisibleItem",value:function(l,u,d,f,g){if(e.extremity==="source"){var y=[f,d];d=y[0],f=y[1]}var v=g.size||1,w=f.size||1,_=d.x,N=d.y,L=f.x,P=f.y,Z=Jo(g.color),j=L-_,$=P-N,x=j*j+$*$,T=0,M=0;x&&(x=1/Math.sqrt(x),T=-$*x*v,M=j*x*v);var H=this.array;H[u++]=L,H[u++]=P,H[u++]=-T,H[u++]=-M,H[u++]=w,H[u++]=Z,H[u++]=l}},{key:"setUniforms",value:function(l,u){var d=u.gl,f=u.uniformLocations,g=f.u_matrix,y=f.u_sizeRatio,v=f.u_correctionRatio,w=f.u_minEdgeThickness,_=f.u_lengthToThicknessRatio,N=f.u_widenessToThicknessRatio;d.uniformMatrix3fv(g,!1,l.matrix),d.uniform1f(y,l.sizeRatio),d.uniform1f(v,l.correctionRatio),d.uniform1f(w,l.minEdgeThickness),d.uniform1f(_,e.lengthToThicknessRatio),d.uniform1f(N,e.widenessToThicknessRatio)}}])})(Xd)}Yy();var jb=`
precision mediump float;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  // We only handle antialiasing for normal mode:
  #ifdef PICKING_MODE
  gl_FragColor = v_color;
  #else
  float dist = length(v_normal) * v_thickness;

  float t = smoothstep(
    v_thickness - v_feather,
    v_thickness,
    dist
  );

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,Ky=jb,$b=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;
attribute float a_radius;
attribute float a_radiusCoef;

uniform mat3 u_matrix;
uniform float u_zoomRatio;
uniform float u_sizeRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float radius = a_radius * a_radiusCoef;
  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // These first computations are taken from edge.vert.glsl. Please read it to
  // get better comments on what's happening:
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here, we move the point to leave space for the arrow head:
  float direction = sign(radius);
  float webGLNodeRadius = direction * radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;

  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);

  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Vb=$b,qy=WebGLRenderingContext,Pg=qy.UNSIGNED_BYTE,Pi=qy.FLOAT,Wb=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness","u_lengthToThicknessRatio"],Hb={lengthToThicknessRatio:Hy.lengthToThicknessRatio};function Qy(r){var e=ye(ye({},Hb),{});return(function(t){function i(){return Pt(this,i),Dn(this,i,arguments)}return xn(i,t),Mt(i,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:Vb,FRAGMENT_SHADER_SOURCE:Ky,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:Wb,ATTRIBUTES:[{name:"a_positionStart",size:2,type:Pi},{name:"a_positionEnd",size:2,type:Pi},{name:"a_normal",size:2,type:Pi},{name:"a_color",size:4,type:Pg,normalized:!0},{name:"a_id",size:4,type:Pg,normalized:!0},{name:"a_radius",size:1,type:Pi}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:Pi},{name:"a_normalCoef",size:1,type:Pi},{name:"a_radiusCoef",size:1,type:Pi}],CONSTANT_DATA:[[0,1,0],[0,-1,0],[1,1,1],[1,1,1],[0,-1,0],[1,-1,-1]]}}},{key:"processVisibleItem",value:function(l,u,d,f,g){var y=g.size||1,v=d.x,w=d.y,_=f.x,N=f.y,L=Jo(g.color),P=_-v,Z=N-w,j=f.size||1,$=P*P+Z*Z,x=0,T=0;$&&($=1/Math.sqrt($),x=-Z*$*y,T=P*$*y);var M=this.array;M[u++]=v,M[u++]=w,M[u++]=_,M[u++]=N,M[u++]=x,M[u++]=T,M[u++]=L,M[u++]=l,M[u++]=j}},{key:"setUniforms",value:function(l,u){var d=u.gl,f=u.uniformLocations,g=f.u_matrix,y=f.u_zoomRatio,v=f.u_feather,w=f.u_pixelRatio,_=f.u_correctionRatio,N=f.u_sizeRatio,L=f.u_minEdgeThickness,P=f.u_lengthToThicknessRatio;d.uniformMatrix3fv(g,!1,l.matrix),d.uniform1f(y,l.zoomRatio),d.uniform1f(N,l.sizeRatio),d.uniform1f(_,l.correctionRatio),d.uniform1f(w,l.pixelRatio),d.uniform1f(v,l.antiAliasingFeather),d.uniform1f(L,l.minEdgeThickness),d.uniform1f(P,e.lengthToThicknessRatio)}}])})(Xd)}Qy();function Yb(r){return Db([Qy(),Yy()])}var Kb=Yb(),qb=Kb,Qb=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_zoomRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // We require edges to be at least "minThickness" pixels thick *on screen*
  // (so we need to compensate the size ratio):
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);

  // Then, we need to retrieve the normalized thickness of the edge in the WebGL
  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction
  // ratio:
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness, 1)).xy, 0, 1);

  // For the fragment shader though, we need a thickness that takes the "magic"
  // correction ratio into account (as in webGLThickness), but so that the
  // antialiasing effect does not depend on the zoom level. So here's yet
  // another thickness version:
  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,Zb=Qb,Zy=WebGLRenderingContext,Mg=Zy.UNSIGNED_BYTE,No=Zy.FLOAT,Xb=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness"],Jb=(function(r){function e(){return Pt(this,e),Dn(this,e,arguments)}return xn(e,r),Mt(e,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:Zb,FRAGMENT_SHADER_SOURCE:Ky,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:Xb,ATTRIBUTES:[{name:"a_positionStart",size:2,type:No},{name:"a_positionEnd",size:2,type:No},{name:"a_normal",size:2,type:No},{name:"a_color",size:4,type:Mg,normalized:!0},{name:"a_id",size:4,type:Mg,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:No},{name:"a_normalCoef",size:1,type:No}],CONSTANT_DATA:[[0,1],[0,-1],[1,1],[1,1],[0,-1],[1,-1]]}}},{key:"processVisibleItem",value:function(i,o,l,u,d){var f=d.size||1,g=l.x,y=l.y,v=u.x,w=u.y,_=Jo(d.color),N=v-g,L=w-y,P=N*N+L*L,Z=0,j=0;P&&(P=1/Math.sqrt(P),Z=-L*P*f,j=N*P*f);var $=this.array;$[o++]=g,$[o++]=y,$[o++]=v,$[o++]=w,$[o++]=Z,$[o++]=j,$[o++]=_,$[o++]=i}},{key:"setUniforms",value:function(i,o){var l=o.gl,u=o.uniformLocations,d=u.u_matrix,f=u.u_zoomRatio,g=u.u_feather,y=u.u_pixelRatio,v=u.u_correctionRatio,w=u.u_sizeRatio,_=u.u_minEdgeThickness;l.uniformMatrix3fv(d,!1,i.matrix),l.uniform1f(f,i.zoomRatio),l.uniform1f(w,i.sizeRatio),l.uniform1f(v,i.correctionRatio),l.uniform1f(y,i.pixelRatio),l.uniform1f(g,i.antiAliasingFeather),l.uniform1f(_,i.minEdgeThickness)}}])})(Xd),ml={exports:{}},zg;function e_(){if(zg)return ml.exports;zg=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(T,M,H){return Function.prototype.apply.call(T,M,H)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:t=function(T){return Object.getOwnPropertyNames(T)};function i(x){console&&console.warn&&console.warn(x)}var o=Number.isNaN||function(T){return T!==T};function l(){l.init.call(this)}ml.exports=l,ml.exports.once=Z,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function d(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(x){if(typeof x!="number"||x<0||o(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");u=x}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||o(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function f(x){return x._maxListeners===void 0?l.defaultMaxListeners:x._maxListeners}l.prototype.getMaxListeners=function(){return f(this)},l.prototype.emit=function(T){for(var M=[],H=1;H<arguments.length;H++)M.push(arguments[H]);var se=T==="error",le=this._events;if(le!==void 0)se=se&&le.error===void 0;else if(!se)return!1;if(se){var O;if(M.length>0&&(O=M[0]),O instanceof Error)throw O;var we=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw we.context=O,we}var G=le[T];if(G===void 0)return!1;if(typeof G=="function")e(G,this,M);else for(var S=G.length,Te=N(G,S),H=0;H<S;++H)e(Te[H],this,M);return!0};function g(x,T,M,H){var se,le,O;if(d(M),le=x._events,le===void 0?(le=x._events=Object.create(null),x._eventsCount=0):(le.newListener!==void 0&&(x.emit("newListener",T,M.listener?M.listener:M),le=x._events),O=le[T]),O===void 0)O=le[T]=M,++x._eventsCount;else if(typeof O=="function"?O=le[T]=H?[M,O]:[O,M]:H?O.unshift(M):O.push(M),se=f(x),se>0&&O.length>se&&!O.warned){O.warned=!0;var we=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");we.name="MaxListenersExceededWarning",we.emitter=x,we.type=T,we.count=O.length,i(we)}return x}l.prototype.addListener=function(T,M){return g(this,T,M,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(T,M){return g(this,T,M,!0)};function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(x,T,M){var H={fired:!1,wrapFn:void 0,target:x,type:T,listener:M},se=y.bind(H);return se.listener=M,H.wrapFn=se,se}l.prototype.once=function(T,M){return d(M),this.on(T,v(this,T,M)),this},l.prototype.prependOnceListener=function(T,M){return d(M),this.prependListener(T,v(this,T,M)),this},l.prototype.removeListener=function(T,M){var H,se,le,O,we;if(d(M),se=this._events,se===void 0)return this;if(H=se[T],H===void 0)return this;if(H===M||H.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete se[T],se.removeListener&&this.emit("removeListener",T,H.listener||M));else if(typeof H!="function"){for(le=-1,O=H.length-1;O>=0;O--)if(H[O]===M||H[O].listener===M){we=H[O].listener,le=O;break}if(le<0)return this;le===0?H.shift():L(H,le),H.length===1&&(se[T]=H[0]),se.removeListener!==void 0&&this.emit("removeListener",T,we||M)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(T){var M,H,se;if(H=this._events,H===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete H[T]),this;if(arguments.length===0){var le=Object.keys(H),O;for(se=0;se<le.length;++se)O=le[se],O!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=H[T],typeof M=="function")this.removeListener(T,M);else if(M!==void 0)for(se=M.length-1;se>=0;se--)this.removeListener(T,M[se]);return this};function w(x,T,M){var H=x._events;if(H===void 0)return[];var se=H[T];return se===void 0?[]:typeof se=="function"?M?[se.listener||se]:[se]:M?P(se):N(se,se.length)}l.prototype.listeners=function(T){return w(this,T,!0)},l.prototype.rawListeners=function(T){return w(this,T,!1)},l.listenerCount=function(x,T){return typeof x.listenerCount=="function"?x.listenerCount(T):_.call(x,T)},l.prototype.listenerCount=_;function _(x){var T=this._events;if(T!==void 0){var M=T[x];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function N(x,T){for(var M=new Array(T),H=0;H<T;++H)M[H]=x[H];return M}function L(x,T){for(;T+1<x.length;T++)x[T]=x[T+1];x.pop()}function P(x){for(var T=new Array(x.length),M=0;M<T.length;++M)T[M]=x[M].listener||x[M];return T}function Z(x,T){return new Promise(function(M,H){function se(O){x.removeListener(T,le),H(O)}function le(){typeof x.removeListener=="function"&&x.removeListener("error",se),M([].slice.call(arguments))}$(x,T,le,{once:!0}),T!=="error"&&j(x,se,{once:!0})})}function j(x,T,M){typeof x.on=="function"&&$(x,"error",T,M)}function $(x,T,M,H){if(typeof x.on=="function")H.once?x.once(T,M):x.on(T,M);else if(typeof x.addEventListener=="function")x.addEventListener(T,function se(le){H.once&&x.removeEventListener(T,se),M(le)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return ml.exports}var Xy=e_(),Jd=(function(r){function e(){var t;return Pt(this,e),t=Dn(this,e),t.rawEmitter=t,t}return xn(e,r),Mt(e)})(Xy.EventEmitter),hd,Ug;function Jy(){return Ug||(Ug=1,hd=function(e){return e!==null&&typeof e=="object"&&typeof e.addUndirectedEdgeWithKey=="function"&&typeof e.dropNode=="function"&&typeof e.multi=="boolean"}),hd}var t_=Jy();const n_=au(t_);var r_=function(e){return e},i_=function(e){return e*e},s_=function(e){return e*(2-e)},o_=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},a_=function(e){return e*e*e},l_=function(e){return--e*e*e+1},u_=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},c_={linear:r_,quadraticIn:i_,quadraticOut:s_,quadraticInOut:o_,cubicIn:a_,cubicOut:l_,cubicInOut:u_},d_={easing:"quadraticInOut",duration:150};function Gn(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}function vl(r,e,t){return r[0]=e,r[4]=typeof t=="number"?t:e,r}function Gg(r,e){var t=Math.sin(e),i=Math.cos(e);return r[0]=i,r[1]=t,r[3]=-t,r[4]=i,r}function jg(r,e,t){return r[6]=e,r[7]=t,r}function li(r,e){var t=r[0],i=r[1],o=r[2],l=r[3],u=r[4],d=r[5],f=r[6],g=r[7],y=r[8],v=e[0],w=e[1],_=e[2],N=e[3],L=e[4],P=e[5],Z=e[6],j=e[7],$=e[8];return r[0]=v*t+w*l+_*f,r[1]=v*i+w*u+_*g,r[2]=v*o+w*d+_*y,r[3]=N*t+L*l+P*f,r[4]=N*i+L*u+P*g,r[5]=N*o+L*d+P*y,r[6]=Z*t+j*l+$*f,r[7]=Z*i+j*u+$*g,r[8]=Z*o+j*d+$*y,r}function Od(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=r[0],o=r[1],l=r[3],u=r[4],d=r[6],f=r[7],g=e.x,y=e.y;return{x:g*i+y*l+d*t,y:g*o+y*u+f*t}}function h_(r,e){var t=r.height/r.width,i=e.height/e.width;return t<1&&i>1||t>1&&i<1?1:Math.min(Math.max(i,1/i),Math.max(1/t,t))}function Lo(r,e,t,i,o){var l=r.angle,u=r.ratio,d=r.x,f=r.y,g=e.width,y=e.height,v=Gn(),w=Math.min(g,y)-2*i,_=h_(e,t);return o?(li(v,jg(Gn(),d,f)),li(v,vl(Gn(),u)),li(v,Gg(Gn(),l)),li(v,vl(Gn(),g/w/2/_,y/w/2/_))):(li(v,vl(Gn(),2*(w/g)*_,2*(w/y)*_)),li(v,Gg(Gn(),-l)),li(v,vl(Gn(),1/u)),li(v,jg(Gn(),-d,-f))),v}function f_(r,e,t){var i=Od(r,{x:Math.cos(e.angle),y:Math.sin(e.angle)},0),o=i.x,l=i.y;return 1/Math.sqrt(Math.pow(o,2)+Math.pow(l,2))/t.width}function p_(r){if(!r.order)return{x:[0,1],y:[0,1]};var e=1/0,t=-1/0,i=1/0,o=-1/0;return r.forEachNode(function(l,u){var d=u.x,f=u.y;d<e&&(e=d),d>t&&(t=d),f<i&&(i=f),f>o&&(o=f)}),{x:[e,t],y:[i,o]}}function g_(r){if(!n_(r))throw new Error("Sigma: invalid graph instance.");r.forEachNode(function(e,t){if(!Number.isFinite(t.x)||!Number.isFinite(t.y))throw new Error("Sigma: Coordinates of node ".concat(e," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}function y_(r,e,t){var i=document.createElement(r);if(e)for(var o in e)i.style[o]=e[o];if(t)for(var l in t)i.setAttribute(l,t[l]);return i}function $g(){return typeof window.devicePixelRatio<"u"?window.devicePixelRatio:1}function Vg(r,e,t){return t.sort(function(i,o){var l=e(i)||0,u=e(o)||0;return l<u?-1:l>u?1:0})}function Wg(r){var e=Os(r.x,2),t=e[0],i=e[1],o=Os(r.y,2),l=o[0],u=o[1],d=Math.max(i-t,u-l),f=(i+t)/2,g=(u+l)/2;(d===0||Math.abs(d)===1/0||isNaN(d))&&(d=1),isNaN(f)&&(f=0),isNaN(g)&&(g=0);var y=function(w){return{x:.5+(w.x-f)/d,y:.5+(w.y-g)/d}};return y.applyTo=function(v){v.x=.5+(v.x-f)/d,v.y=.5+(v.y-g)/d},y.inverse=function(v){return{x:f+d*(v.x-.5),y:g+d*(v.y-.5)}},y.ratio=d,y}function Bd(r){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(r)}function Hg(r,e){var t=e.size;if(t!==0){var i=r.length;r.length+=t;var o=0;e.forEach(function(l){r[i+o]=l,o++})}}function fd(r){r=r||{};for(var e=0,t=arguments.length<=1?0:arguments.length-1;e<t;e++){var i=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];i&&Object.assign(r,i)}return r}var eh={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,defaultDrawEdgeLabel:xb,defaultDrawNodeLabel:$y,defaultDrawNodeHover:Rb,minEdgeThickness:1.7,antiAliasingFeather:1,dragTimeout:100,draggedEventsTolerance:3,inertiaDuration:200,inertiaRatio:3,zoomDuration:250,zoomingRatio:1.7,doubleClickTimeout:300,doubleClickZoomingRatio:2.2,doubleClickZoomingDuration:200,tapMoveTolerance:10,zoomToSizeRatioFunction:Math.sqrt,itemSizesReference:"screen",autoRescale:!0,autoCenter:!0,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,enableCameraZooming:!0,enableCameraPanning:!0,enableCameraRotation:!0,cameraPanBoundaries:null,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},m_={circle:lu},v_={arrow:qb,line:Jb};function pd(r){if(typeof r.labelDensity!="number"||r.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var e=r.minCameraRatio,t=r.maxCameraRatio;if(typeof e=="number"&&typeof t=="number"&&t<e)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")}function w_(r){var e=fd({},eh,r);return e.nodeProgramClasses=fd({},m_,e.nodeProgramClasses),e.edgeProgramClasses=fd({},v_,e.edgeProgramClasses),e}var wl=1.5,Yg=(function(r){function e(){var t;return Pt(this,e),t=Dn(this,e),Q(t,"x",.5),Q(t,"y",.5),Q(t,"angle",0),Q(t,"ratio",1),Q(t,"minRatio",null),Q(t,"maxRatio",null),Q(t,"enabledZooming",!0),Q(t,"enabledPanning",!0),Q(t,"enabledRotation",!0),Q(t,"clean",null),Q(t,"nextFrame",null),Q(t,"previousState",null),Q(t,"enabled",!0),t.previousState=t.getState(),t}return xn(e,r),Mt(e,[{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"getState",value:function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}}},{key:"hasState",value:function(i){return this.x===i.x&&this.y===i.y&&this.ratio===i.ratio&&this.angle===i.angle}},{key:"getPreviousState",value:function(){var i=this.previousState;return i?{x:i.x,y:i.y,angle:i.angle,ratio:i.ratio}:null}},{key:"getBoundedRatio",value:function(i){var o=i;return typeof this.minRatio=="number"&&(o=Math.max(o,this.minRatio)),typeof this.maxRatio=="number"&&(o=Math.min(o,this.maxRatio)),o}},{key:"validateState",value:function(i){var o={};return this.enabledPanning&&typeof i.x=="number"&&(o.x=i.x),this.enabledPanning&&typeof i.y=="number"&&(o.y=i.y),this.enabledZooming&&typeof i.ratio=="number"&&(o.ratio=this.getBoundedRatio(i.ratio)),this.enabledRotation&&typeof i.angle=="number"&&(o.angle=i.angle),this.clean?this.clean(ye(ye({},this.getState()),o)):o}},{key:"isAnimated",value:function(){return!!this.nextFrame}},{key:"setState",value:function(i){if(!this.enabled)return this;this.previousState=this.getState();var o=this.validateState(i);return typeof o.x=="number"&&(this.x=o.x),typeof o.y=="number"&&(this.y=o.y),typeof o.ratio=="number"&&(this.ratio=o.ratio),typeof o.angle=="number"&&(this.angle=o.angle),this.hasState(this.previousState)||this.emit("updated",this.getState()),this}},{key:"updateState",value:function(i){return this.setState(i(this.getState())),this}},{key:"animate",value:function(i){var o=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2?arguments[2]:void 0;if(!u)return new Promise(function(_){return o.animate(i,l,_)});if(this.enabled){var d=ye(ye({},d_),l),f=this.validateState(i),g=typeof d.easing=="function"?d.easing:c_[d.easing],y=Date.now(),v=this.getState(),w=function(){var N=(Date.now()-y)/d.duration;if(N>=1){o.nextFrame=null,o.setState(f),o.animationCallback&&(o.animationCallback.call(null),o.animationCallback=void 0);return}var L=g(N),P={};typeof f.x=="number"&&(P.x=v.x+(f.x-v.x)*L),typeof f.y=="number"&&(P.y=v.y+(f.y-v.y)*L),o.enabledRotation&&typeof f.angle=="number"&&(P.angle=v.angle+(f.angle-v.angle)*L),typeof f.ratio=="number"&&(P.ratio=v.ratio+(f.ratio-v.ratio)*L),o.setState(P),o.nextFrame=requestAnimationFrame(w)};this.nextFrame?(cancelAnimationFrame(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=requestAnimationFrame(w)):w(),this.animationCallback=u}}},{key:"animatedZoom",value:function(i){return i?typeof i=="number"?this.animate({ratio:this.ratio/i}):this.animate({ratio:this.ratio/(i.factor||wl)},i):this.animate({ratio:this.ratio/wl})}},{key:"animatedUnzoom",value:function(i){return i?typeof i=="number"?this.animate({ratio:this.ratio*i}):this.animate({ratio:this.ratio*(i.factor||wl)},i):this.animate({ratio:this.ratio*wl})}},{key:"animatedReset",value:function(i){return this.animate({x:.5,y:.5,ratio:1,angle:0},i)}},{key:"copy",value:function(){return e.from(this.getState())}}],[{key:"from",value:function(i){var o=new e;return o.setState(i)}}])})(Jd);function Vn(r,e){var t=e.getBoundingClientRect();return{x:r.clientX-t.left,y:r.clientY-t.top}}function Cr(r,e){var t=ye(ye({},Vn(r,e)),{},{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){t.sigmaDefaultPrevented=!0},original:r});return t}function Fo(r){var e="x"in r?r:ye(ye({},r.touches[0]||r.previousTouches[0]),{},{original:r.original,sigmaDefaultPrevented:r.sigmaDefaultPrevented,preventSigmaDefault:function(){r.sigmaDefaultPrevented=!0,e.sigmaDefaultPrevented=!0}});return e}function b_(r,e){return ye(ye({},Cr(r,e)),{},{delta:em(r)})}var __=2;function Al(r){for(var e=[],t=0,i=Math.min(r.length,__);t<i;t++)e.push(r[t]);return e}function Oo(r,e,t){var i={touches:Al(r.touches).map(function(o){return Vn(o,t)}),previousTouches:e.map(function(o){return Vn(o,t)}),sigmaDefaultPrevented:!1,preventSigmaDefault:function(){i.sigmaDefaultPrevented=!0},original:r};return i}function em(r){if(typeof r.deltaY<"u")return r.deltaY*-3/360;if(typeof r.detail<"u")return r.detail/-9;throw new Error("Captor: could not extract delta from event.")}var tm=(function(r){function e(t,i){var o;return Pt(this,e),o=Dn(this,e),o.container=t,o.renderer=i,o}return xn(e,r),Mt(e)})(Jd),S_=["doubleClickTimeout","doubleClickZoomingDuration","doubleClickZoomingRatio","dragTimeout","draggedEventsTolerance","inertiaDuration","inertiaRatio","zoomDuration","zoomingRatio"],E_=S_.reduce(function(r,e){return ye(ye({},r),{},Q({},e,eh[e]))},{}),A_=(function(r){function e(t,i){var o;return Pt(this,e),o=Dn(this,e,[t,i]),Q(o,"enabled",!0),Q(o,"draggedEvents",0),Q(o,"downStartTime",null),Q(o,"lastMouseX",null),Q(o,"lastMouseY",null),Q(o,"isMouseDown",!1),Q(o,"isMoving",!1),Q(o,"movingTimeout",null),Q(o,"startCameraState",null),Q(o,"clicks",0),Q(o,"doubleClickTimeout",null),Q(o,"currentWheelDirection",0),Q(o,"settings",E_),o.handleClick=o.handleClick.bind(o),o.handleRightClick=o.handleRightClick.bind(o),o.handleDown=o.handleDown.bind(o),o.handleUp=o.handleUp.bind(o),o.handleMove=o.handleMove.bind(o),o.handleWheel=o.handleWheel.bind(o),o.handleLeave=o.handleLeave.bind(o),o.handleEnter=o.handleEnter.bind(o),t.addEventListener("click",o.handleClick,{capture:!1}),t.addEventListener("contextmenu",o.handleRightClick,{capture:!1}),t.addEventListener("mousedown",o.handleDown,{capture:!1}),t.addEventListener("wheel",o.handleWheel,{capture:!1}),t.addEventListener("mouseleave",o.handleLeave,{capture:!1}),t.addEventListener("mouseenter",o.handleEnter,{capture:!1}),document.addEventListener("mousemove",o.handleMove,{capture:!1}),document.addEventListener("mouseup",o.handleUp,{capture:!1}),o}return xn(e,r),Mt(e,[{key:"kill",value:function(){var i=this.container;i.removeEventListener("click",this.handleClick),i.removeEventListener("contextmenu",this.handleRightClick),i.removeEventListener("mousedown",this.handleDown),i.removeEventListener("wheel",this.handleWheel),i.removeEventListener("mouseleave",this.handleLeave),i.removeEventListener("mouseenter",this.handleEnter),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)}},{key:"handleClick",value:function(i){var o=this;if(this.enabled){if(this.clicks++,this.clicks===2)return this.clicks=0,typeof this.doubleClickTimeout=="number"&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(i);setTimeout(function(){o.clicks=0,o.doubleClickTimeout=null},this.settings.doubleClickTimeout),this.draggedEvents<this.settings.draggedEventsTolerance&&this.emit("click",Cr(i,this.container))}}},{key:"handleRightClick",value:function(i){this.enabled&&this.emit("rightClick",Cr(i,this.container))}},{key:"handleDoubleClick",value:function(i){if(this.enabled){i.preventDefault(),i.stopPropagation();var o=Cr(i,this.container);if(this.emit("doubleClick",o),!o.sigmaDefaultPrevented){var l=this.renderer.getCamera(),u=l.getBoundedRatio(l.getState().ratio/this.settings.doubleClickZoomingRatio);l.animate(this.renderer.getViewportZoomedState(Vn(i,this.container),u),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}}},{key:"handleDown",value:function(i){if(this.enabled){if(i.button===0){this.startCameraState=this.renderer.getCamera().getState();var o=Vn(i,this.container),l=o.x,u=o.y;this.lastMouseX=l,this.lastMouseY=u,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",Cr(i,this.container))}}},{key:"handleUp",value:function(i){var o=this;if(!(!this.enabled||!this.isMouseDown)){var l=this.renderer.getCamera();this.isMouseDown=!1,typeof this.movingTimeout=="number"&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var u=Vn(i,this.container),d=u.x,f=u.y,g=l.getState(),y=l.getPreviousState()||{x:0,y:0};this.isMoving?l.animate({x:g.x+this.settings.inertiaRatio*(g.x-y.x),y:g.y+this.settings.inertiaRatio*(g.y-y.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"}):(this.lastMouseX!==d||this.lastMouseY!==f)&&l.setState({x:g.x,y:g.y}),this.isMoving=!1,setTimeout(function(){var v=o.draggedEvents>0;o.draggedEvents=0,v&&o.renderer.getSetting("hideEdgesOnMove")&&o.renderer.refresh()},0),this.emit("mouseup",Cr(i,this.container))}}},{key:"handleMove",value:function(i){var o=this;if(this.enabled){var l=Cr(i,this.container);if(this.emit("mousemovebody",l),(i.target===this.container||i.composedPath()[0]===this.container)&&this.emit("mousemove",l),!l.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,typeof this.movingTimeout=="number"&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){o.movingTimeout=null,o.isMoving=!1},this.settings.dragTimeout);var u=this.renderer.getCamera(),d=Vn(i,this.container),f=d.x,g=d.y,y=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),v=this.renderer.viewportToFramedGraph({x:f,y:g}),w=y.x-v.x,_=y.y-v.y,N=u.getState(),L=N.x+w,P=N.y+_;u.setState({x:L,y:P}),this.lastMouseX=f,this.lastMouseY=g,i.preventDefault(),i.stopPropagation()}}}},{key:"handleLeave",value:function(i){this.emit("mouseleave",Cr(i,this.container))}},{key:"handleEnter",value:function(i){this.emit("mouseenter",Cr(i,this.container))}},{key:"handleWheel",value:function(i){var o=this,l=this.renderer.getCamera();if(!(!this.enabled||!l.enabledZooming)){var u=em(i);if(u){var d=b_(i,this.container);if(this.emit("wheel",d),d.sigmaDefaultPrevented){i.preventDefault(),i.stopPropagation();return}var f=l.getState().ratio,g=u>0?1/this.settings.zoomingRatio:this.settings.zoomingRatio,y=l.getBoundedRatio(f*g),v=u>0?1:-1,w=Date.now();f!==y&&(i.preventDefault(),i.stopPropagation(),!(this.currentWheelDirection===v&&this.lastWheelTriggerTime&&w-this.lastWheelTriggerTime<this.settings.zoomDuration/5)&&(l.animate(this.renderer.getViewportZoomedState(Vn(i,this.container),y),{easing:"quadraticOut",duration:this.settings.zoomDuration},function(){o.currentWheelDirection=0}),this.currentWheelDirection=v,this.lastWheelTriggerTime=w))}}}},{key:"setSettings",value:function(i){this.settings=i}}])})(tm),T_=["dragTimeout","inertiaDuration","inertiaRatio","doubleClickTimeout","doubleClickZoomingRatio","doubleClickZoomingDuration","tapMoveTolerance"],I_=T_.reduce(function(r,e){return ye(ye({},r),{},Q({},e,eh[e]))},{}),k_=(function(r){function e(t,i){var o;return Pt(this,e),o=Dn(this,e,[t,i]),Q(o,"enabled",!0),Q(o,"isMoving",!1),Q(o,"hasMoved",!1),Q(o,"touchMode",0),Q(o,"startTouchesPositions",[]),Q(o,"lastTouches",[]),Q(o,"lastTap",null),Q(o,"settings",I_),o.handleStart=o.handleStart.bind(o),o.handleLeave=o.handleLeave.bind(o),o.handleMove=o.handleMove.bind(o),t.addEventListener("touchstart",o.handleStart,{capture:!1}),t.addEventListener("touchcancel",o.handleLeave,{capture:!1}),document.addEventListener("touchend",o.handleLeave,{capture:!1,passive:!1}),document.addEventListener("touchmove",o.handleMove,{capture:!1,passive:!1}),o}return xn(e,r),Mt(e,[{key:"kill",value:function(){var i=this.container;i.removeEventListener("touchstart",this.handleStart),i.removeEventListener("touchcancel",this.handleLeave),document.removeEventListener("touchend",this.handleLeave),document.removeEventListener("touchmove",this.handleMove)}},{key:"getDimensions",value:function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}}},{key:"handleStart",value:function(i){var o=this;if(this.enabled){i.preventDefault();var l=Al(i.touches);if(this.touchMode=l.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=l.map(function(_){return Vn(_,o.container)}),this.touchMode===2){var u=Os(this.startTouchesPositions,2),d=u[0],f=d.x,g=d.y,y=u[1],v=y.x,w=y.y;this.startTouchesAngle=Math.atan2(w-g,v-f),this.startTouchesDistance=Math.sqrt(Math.pow(v-f,2)+Math.pow(w-g,2))}this.emit("touchdown",Oo(i,this.lastTouches,this.container)),this.lastTouches=l,this.lastTouchesPositions=this.startTouchesPositions}}},{key:"handleLeave",value:function(i){if(!(!this.enabled||!this.startTouchesPositions.length)){switch(i.cancelable&&i.preventDefault(),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(i.touches.length===1){this.handleStart(i),i.preventDefault();break}case 1:if(this.isMoving){var o=this.renderer.getCamera(),l=o.getState(),u=o.getPreviousState()||{x:0,y:0};o.animate({x:l.x+this.settings.inertiaRatio*(l.x-u.x),y:l.y+this.settings.inertiaRatio*(l.y-u.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0;break}if(this.emit("touchup",Oo(i,this.lastTouches,this.container)),!i.touches.length){var d=Vn(this.lastTouches[0],this.container),f=this.startTouchesPositions[0],g=Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2);if(!i.touches.length&&g<Math.pow(this.settings.tapMoveTolerance,2))if(this.lastTap&&Date.now()-this.lastTap.time<this.settings.doubleClickTimeout){var y=Oo(i,this.lastTouches,this.container);if(this.emit("doubletap",y),this.lastTap=null,!y.sigmaDefaultPrevented){var v=this.renderer.getCamera(),w=v.getBoundedRatio(v.getState().ratio/this.settings.doubleClickZoomingRatio);v.animate(this.renderer.getViewportZoomedState(d,w),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}else{var _=Oo(i,this.lastTouches,this.container);this.emit("tap",_),this.lastTap={time:Date.now(),position:_.touches[0]||_.previousTouches[0]}}}this.lastTouches=Al(i.touches),this.startTouchesPositions=[]}}},{key:"handleMove",value:function(i){var o=this;if(!(!this.enabled||!this.startTouchesPositions.length)){i.preventDefault();var l=Al(i.touches),u=l.map(function(I){return Vn(I,o.container)}),d=this.lastTouches;this.lastTouches=l,this.lastTouchesPositions=u;var f=Oo(i,d,this.container);if(this.emit("touchmove",f),!f.sigmaDefaultPrevented&&(this.hasMoved||(this.hasMoved=u.some(function(I,z){var K=o.startTouchesPositions[z];return K&&(I.x!==K.x||I.y!==K.y)})),!!this.hasMoved)){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){o.isMoving=!1},this.settings.dragTimeout);var g=this.renderer.getCamera(),y=this.startCameraState,v=this.renderer.getSetting("stagePadding");switch(this.touchMode){case 1:{var w=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),_=w.x,N=w.y,L=this.renderer.viewportToFramedGraph(u[0]),P=L.x,Z=L.y;g.setState({x:y.x+_-P,y:y.y+N-Z});break}case 2:{var j={x:.5,y:.5,angle:0,ratio:1},$=u[0],x=$.x,T=$.y,M=u[1],H=M.x,se=M.y,le=Math.atan2(se-T,H-x)-this.startTouchesAngle,O=Math.hypot(se-T,H-x)/this.startTouchesDistance,we=g.getBoundedRatio(y.ratio/O);j.ratio=we,j.angle=y.angle+le;var G=this.getDimensions(),S=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:y}),Te=Math.min(G.width,G.height)-2*v,ve=Te/G.width,V=Te/G.height,C=we/Te,Y=x-Te/2/ve,ie=T-Te/2/V,J=[Y*Math.cos(-j.angle)-ie*Math.sin(-j.angle),ie*Math.cos(-j.angle)+Y*Math.sin(-j.angle)];Y=J[0],ie=J[1],j.x=S.x-Y*C,j.y=S.y+ie*C,g.setState(j);break}}}}}},{key:"setSettings",value:function(i){this.settings=i}}])})(tm);function C_(r){if(Array.isArray(r))return Ld(r)}function D_(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function x_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kg(r){return C_(r)||D_(r)||By(r)||x_()}function R_(r,e){if(r==null)return{};var t={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;t[i]=r[i]}return t}function gd(r,e){if(r==null)return{};var t,i,o=R_(r,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(i=0;i<l.length;i++)t=l[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}var qg=(function(){function r(e,t){Pt(this,r),this.key=e,this.size=t}return Mt(r,null,[{key:"compare",value:function(t,i){return t.size>i.size?-1:t.size<i.size||t.key>i.key?1:-1}}])})(),Qg=(function(){function r(){Pt(this,r),Q(this,"width",0),Q(this,"height",0),Q(this,"cellSize",0),Q(this,"columns",0),Q(this,"rows",0),Q(this,"cells",{})}return Mt(r,[{key:"resizeAndClear",value:function(t,i){this.width=t.width,this.height=t.height,this.cellSize=i,this.columns=Math.ceil(t.width/i),this.rows=Math.ceil(t.height/i),this.cells={}}},{key:"getIndex",value:function(t){var i=Math.floor(t.x/this.cellSize),o=Math.floor(t.y/this.cellSize);return o*this.columns+i}},{key:"add",value:function(t,i,o){var l=new qg(t,i),u=this.getIndex(o),d=this.cells[u];d||(d=[],this.cells[u]=d),d.push(l)}},{key:"organize",value:function(){for(var t in this.cells){var i=this.cells[t];i.sort(qg.compare)}}},{key:"getLabelsToDisplay",value:function(t,i){var o=this.cellSize*this.cellSize,l=o/t/t,u=l*i/o,d=Math.ceil(u),f=[];for(var g in this.cells)for(var y=this.cells[g],v=0;v<Math.min(d,y.length);v++)f.push(y[v].key);return f}}])})();function N_(r){var e=r.graph,t=r.hoveredNode,i=r.highlightedNodes,o=r.displayedNodeLabels,l=[];return e.forEachEdge(function(u,d,f,g){(f===t||g===t||i.has(f)||i.has(g)||o.has(f)&&o.has(g))&&l.push(u)}),l}var Zg=150,Xg=50,Lr=Object.prototype.hasOwnProperty;function L_(r,e,t){if(!Lr.call(t,"x")||!Lr.call(t,"y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(e,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return t.color||(t.color=r.defaultNodeColor),!t.label&&t.label!==""&&(t.label=null),t.label!==void 0&&t.label!==null?t.label=""+t.label:t.label=null,t.size||(t.size=2),Lr.call(t,"hidden")||(t.hidden=!1),Lr.call(t,"highlighted")||(t.highlighted=!1),Lr.call(t,"forceLabel")||(t.forceLabel=!1),(!t.type||t.type==="")&&(t.type=r.defaultNodeType),t.zIndex||(t.zIndex=0),t}function F_(r,e,t){return t.color||(t.color=r.defaultEdgeColor),t.label||(t.label=""),t.size||(t.size=.5),Lr.call(t,"hidden")||(t.hidden=!1),Lr.call(t,"forceLabel")||(t.forceLabel=!1),(!t.type||t.type==="")&&(t.type=r.defaultEdgeType),t.zIndex||(t.zIndex=0),t}var O_=(function(r){function e(t,i){var o,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Pt(this,e),o=Dn(this,e),Q(o,"elements",{}),Q(o,"canvasContexts",{}),Q(o,"webGLContexts",{}),Q(o,"pickingLayers",new Set),Q(o,"textures",{}),Q(o,"frameBuffers",{}),Q(o,"activeListeners",{}),Q(o,"labelGrid",new Qg),Q(o,"nodeDataCache",{}),Q(o,"edgeDataCache",{}),Q(o,"nodeProgramIndex",{}),Q(o,"edgeProgramIndex",{}),Q(o,"nodesWithForcedLabels",new Set),Q(o,"edgesWithForcedLabels",new Set),Q(o,"nodeExtent",{x:[0,1],y:[0,1]}),Q(o,"nodeZExtent",[1/0,-1/0]),Q(o,"edgeZExtent",[1/0,-1/0]),Q(o,"matrix",Gn()),Q(o,"invMatrix",Gn()),Q(o,"correctionRatio",1),Q(o,"customBBox",null),Q(o,"normalizationFunction",Wg({x:[0,1],y:[0,1]})),Q(o,"graphToViewportRatio",1),Q(o,"itemIDsIndex",{}),Q(o,"nodeIndices",{}),Q(o,"edgeIndices",{}),Q(o,"width",0),Q(o,"height",0),Q(o,"pixelRatio",$g()),Q(o,"pickingDownSizingRatio",2*o.pixelRatio),Q(o,"displayedNodeLabels",new Set),Q(o,"displayedEdgeLabels",new Set),Q(o,"highlightedNodes",new Set),Q(o,"hoveredNode",null),Q(o,"hoveredEdge",null),Q(o,"renderFrame",null),Q(o,"renderHighlightedNodesFrame",null),Q(o,"needToProcess",!1),Q(o,"checkEdgesEventsFrame",null),Q(o,"nodePrograms",{}),Q(o,"nodeHoverPrograms",{}),Q(o,"edgePrograms",{}),o.settings=w_(l),pd(o.settings),g_(t),!(i instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");o.graph=t,o.container=i,o.createWebGLContext("edges",{picking:l.enableEdgeEvents}),o.createCanvasContext("edgeLabels"),o.createWebGLContext("nodes",{picking:!0}),o.createCanvasContext("labels"),o.createCanvasContext("hovers"),o.createWebGLContext("hoverNodes"),o.createCanvasContext("mouse",{style:{touchAction:"none",userSelect:"none"}}),o.resize();for(var u in o.settings.nodeProgramClasses)o.registerNodeProgram(u,o.settings.nodeProgramClasses[u],o.settings.nodeHoverProgramClasses[u]);for(var d in o.settings.edgeProgramClasses)o.registerEdgeProgram(d,o.settings.edgeProgramClasses[d]);return o.camera=new Yg,o.bindCameraHandlers(),o.mouseCaptor=new A_(o.elements.mouse,o),o.mouseCaptor.setSettings(o.settings),o.touchCaptor=new k_(o.elements.mouse,o),o.touchCaptor.setSettings(o.settings),o.bindEventHandlers(),o.bindGraphHandlers(),o.handleSettingsUpdate(),o.refresh(),o}return xn(e,r),Mt(e,[{key:"registerNodeProgram",value:function(i,o,l){return this.nodePrograms[i]&&this.nodePrograms[i].kill(),this.nodeHoverPrograms[i]&&this.nodeHoverPrograms[i].kill(),this.nodePrograms[i]=new o(this.webGLContexts.nodes,this.frameBuffers.nodes,this),this.nodeHoverPrograms[i]=new(l||o)(this.webGLContexts.hoverNodes,null,this),this}},{key:"registerEdgeProgram",value:function(i,o){return this.edgePrograms[i]&&this.edgePrograms[i].kill(),this.edgePrograms[i]=new o(this.webGLContexts.edges,this.frameBuffers.edges,this),this}},{key:"unregisterNodeProgram",value:function(i){if(this.nodePrograms[i]){var o=this.nodePrograms,l=o[i],u=gd(o,[i].map(jo));l.kill(),this.nodePrograms=u}if(this.nodeHoverPrograms[i]){var d=this.nodeHoverPrograms,f=d[i],g=gd(d,[i].map(jo));f.kill(),this.nodePrograms=g}return this}},{key:"unregisterEdgeProgram",value:function(i){if(this.edgePrograms[i]){var o=this.edgePrograms,l=o[i],u=gd(o,[i].map(jo));l.kill(),this.edgePrograms=u}return this}},{key:"resetWebGLTexture",value:function(i){var o=this.webGLContexts[i],l=this.frameBuffers[i],u=this.textures[i];u&&o.deleteTexture(u);var d=o.createTexture();return o.bindFramebuffer(o.FRAMEBUFFER,l),o.bindTexture(o.TEXTURE_2D,d),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,this.width,this.height,0,o.RGBA,o.UNSIGNED_BYTE,null),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,d,0),this.textures[i]=d,this}},{key:"bindCameraHandlers",value:function(){var i=this;return this.activeListeners.camera=function(){i.scheduleRender()},this.camera.on("updated",this.activeListeners.camera),this}},{key:"unbindCameraHandlers",value:function(){return this.camera.removeListener("updated",this.activeListeners.camera),this}},{key:"getNodeAtPosition",value:function(i){var o=i.x,l=i.y,u=Rg(this.webGLContexts.nodes,this.frameBuffers.nodes,o,l,this.pixelRatio,this.pickingDownSizingRatio),d=xg.apply(void 0,Kg(u)),f=this.itemIDsIndex[d];return f&&f.type==="node"?f.id:null}},{key:"bindEventHandlers",value:function(){var i=this;this.activeListeners.handleResize=function(){i.scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(l){var u=Fo(l),d={event:u,preventSigmaDefault:function(){u.preventSigmaDefault()}},f=i.getNodeAtPosition(u);if(f&&i.hoveredNode!==f&&!i.nodeDataCache[f].hidden){i.hoveredNode&&i.emit("leaveNode",ye(ye({},d),{},{node:i.hoveredNode})),i.hoveredNode=f,i.emit("enterNode",ye(ye({},d),{},{node:f})),i.scheduleHighlightedNodesRender();return}if(i.hoveredNode&&i.getNodeAtPosition(u)!==i.hoveredNode){var g=i.hoveredNode;i.hoveredNode=null,i.emit("leaveNode",ye(ye({},d),{},{node:g})),i.scheduleHighlightedNodesRender();return}if(i.settings.enableEdgeEvents){var y=i.hoveredNode?null:i.getEdgeAtPoint(d.event.x,d.event.y);y!==i.hoveredEdge&&(i.hoveredEdge&&i.emit("leaveEdge",ye(ye({},d),{},{edge:i.hoveredEdge})),y&&i.emit("enterEdge",ye(ye({},d),{},{edge:y})),i.hoveredEdge=y)}},this.activeListeners.handleMoveBody=function(l){var u=Fo(l);i.emit("moveBody",{event:u,preventSigmaDefault:function(){u.preventSigmaDefault()}})},this.activeListeners.handleLeave=function(l){var u=Fo(l),d={event:u,preventSigmaDefault:function(){u.preventSigmaDefault()}};i.hoveredNode&&(i.emit("leaveNode",ye(ye({},d),{},{node:i.hoveredNode})),i.scheduleHighlightedNodesRender()),i.settings.enableEdgeEvents&&i.hoveredEdge&&(i.emit("leaveEdge",ye(ye({},d),{},{edge:i.hoveredEdge})),i.scheduleHighlightedNodesRender()),i.emit("leaveStage",ye({},d))},this.activeListeners.handleEnter=function(l){var u=Fo(l),d={event:u,preventSigmaDefault:function(){u.preventSigmaDefault()}};i.emit("enterStage",ye({},d))};var o=function(u){return function(d){var f=Fo(d),g={event:f,preventSigmaDefault:function(){f.preventSigmaDefault()}},y=i.getNodeAtPosition(f);if(y)return i.emit("".concat(u,"Node"),ye(ye({},g),{},{node:y}));if(i.settings.enableEdgeEvents){var v=i.getEdgeAtPoint(f.x,f.y);if(v)return i.emit("".concat(u,"Edge"),ye(ye({},g),{},{edge:v}))}return i.emit("".concat(u,"Stage"),g)}};return this.activeListeners.handleClick=o("click"),this.activeListeners.handleRightClick=o("rightClick"),this.activeListeners.handleDoubleClick=o("doubleClick"),this.activeListeners.handleWheel=o("wheel"),this.activeListeners.handleDown=o("down"),this.activeListeners.handleUp=o("up"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("mousemovebody",this.activeListeners.handleMoveBody),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this.mouseCaptor.on("mouseup",this.activeListeners.handleUp),this.mouseCaptor.on("mouseleave",this.activeListeners.handleLeave),this.mouseCaptor.on("mouseenter",this.activeListeners.handleEnter),this.touchCaptor.on("touchdown",this.activeListeners.handleDown),this.touchCaptor.on("touchdown",this.activeListeners.handleMove),this.touchCaptor.on("touchup",this.activeListeners.handleUp),this.touchCaptor.on("touchmove",this.activeListeners.handleMove),this.touchCaptor.on("tap",this.activeListeners.handleClick),this.touchCaptor.on("doubletap",this.activeListeners.handleDoubleClick),this.touchCaptor.on("touchmove",this.activeListeners.handleMoveBody),this}},{key:"bindGraphHandlers",value:function(){var i=this,o=this.graph,l=new Set(["x","y","zIndex","type"]);return this.activeListeners.eachNodeAttributesUpdatedGraphUpdate=function(u){var d,f=(d=u.hints)===null||d===void 0?void 0:d.attributes;i.graph.forEachNode(function(y){return i.updateNode(y)});var g=!f||f.some(function(y){return l.has(y)});i.refresh({partialGraph:{nodes:o.nodes()},skipIndexation:!g,schedule:!0})},this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate=function(u){var d,f=(d=u.hints)===null||d===void 0?void 0:d.attributes;i.graph.forEachEdge(function(y){return i.updateEdge(y)});var g=f&&["zIndex","type"].some(function(y){return f==null?void 0:f.includes(y)});i.refresh({partialGraph:{edges:o.edges()},skipIndexation:!g,schedule:!0})},this.activeListeners.addNodeGraphUpdate=function(u){var d=u.key;i.addNode(d),i.refresh({partialGraph:{nodes:[d]},skipIndexation:!1,schedule:!0})},this.activeListeners.updateNodeGraphUpdate=function(u){var d=u.key;i.refresh({partialGraph:{nodes:[d]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropNodeGraphUpdate=function(u){var d=u.key;i.removeNode(d),i.refresh({schedule:!0})},this.activeListeners.addEdgeGraphUpdate=function(u){var d=u.key;i.addEdge(d),i.refresh({partialGraph:{edges:[d]},schedule:!0})},this.activeListeners.updateEdgeGraphUpdate=function(u){var d=u.key;i.refresh({partialGraph:{edges:[d]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropEdgeGraphUpdate=function(u){var d=u.key;i.removeEdge(d),i.refresh({schedule:!0})},this.activeListeners.clearEdgesGraphUpdate=function(){i.clearEdgeState(),i.clearEdgeIndices(),i.refresh({schedule:!0})},this.activeListeners.clearGraphUpdate=function(){i.clearEdgeState(),i.clearNodeState(),i.clearEdgeIndices(),i.clearNodeIndices(),i.refresh({schedule:!0})},o.on("nodeAdded",this.activeListeners.addNodeGraphUpdate),o.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),o.on("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),o.on("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),o.on("edgeAdded",this.activeListeners.addEdgeGraphUpdate),o.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),o.on("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),o.on("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),o.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),o.on("cleared",this.activeListeners.clearGraphUpdate),this}},{key:"unbindGraphHandlers",value:function(){var i=this.graph;i.removeListener("nodeAdded",this.activeListeners.addNodeGraphUpdate),i.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),i.removeListener("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),i.removeListener("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),i.removeListener("edgeAdded",this.activeListeners.addEdgeGraphUpdate),i.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),i.removeListener("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),i.removeListener("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),i.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),i.removeListener("cleared",this.activeListeners.clearGraphUpdate)}},{key:"getEdgeAtPoint",value:function(i,o){var l=Rg(this.webGLContexts.edges,this.frameBuffers.edges,i,o,this.pixelRatio,this.pickingDownSizingRatio),u=xg.apply(void 0,Kg(l)),d=this.itemIDsIndex[u];return d&&d.type==="edge"?d.id:null}},{key:"process",value:function(){var i=this;this.emit("beforeProcess");var o=this.graph,l=this.settings,u=this.getDimensions();if(this.nodeExtent=p_(this.graph),!this.settings.autoRescale){var d=u.width,f=u.height,g=this.nodeExtent,y=g.x,v=g.y;this.nodeExtent={x:[(y[0]+y[1])/2-d/2,(y[0]+y[1])/2+d/2],y:[(v[0]+v[1])/2-f/2,(v[0]+v[1])/2+f/2]}}this.normalizationFunction=Wg(this.customBBox||this.nodeExtent);var w=new Yg,_=Lo(w.getState(),u,this.getGraphDimensions(),this.getStagePadding());this.labelGrid.resizeAndClear(u,l.labelGridCellSize);for(var N={},L={},P={},Z={},j=1,$=o.nodes(),x=0,T=$.length;x<T;x++){var M=$[x],H=this.nodeDataCache[M],se=o.getNodeAttributes(M);H.x=se.x,H.y=se.y,this.normalizationFunction.applyTo(H),typeof H.label=="string"&&!H.hidden&&this.labelGrid.add(M,H.size,this.framedGraphToViewport(H,{matrix:_})),N[H.type]=(N[H.type]||0)+1}this.labelGrid.organize();for(var le in this.nodePrograms){if(!Lr.call(this.nodePrograms,le))throw new Error('Sigma: could not find a suitable program for node type "'.concat(le,'"!'));this.nodePrograms[le].reallocate(N[le]||0),N[le]=0}this.settings.zIndex&&this.nodeZExtent[0]!==this.nodeZExtent[1]&&($=Vg(this.nodeZExtent,function(A){return i.nodeDataCache[A].zIndex},$));for(var O=0,we=$.length;O<we;O++){var G=$[O];L[G]=j,Z[L[G]]={type:"node",id:G},j++;var S=this.nodeDataCache[G];this.addNodeToProgram(G,L[G],N[S.type]++)}for(var Te={},ve=o.edges(),V=0,C=ve.length;V<C;V++){var Y=ve[V],ie=this.edgeDataCache[Y];Te[ie.type]=(Te[ie.type]||0)+1}this.settings.zIndex&&this.edgeZExtent[0]!==this.edgeZExtent[1]&&(ve=Vg(this.edgeZExtent,function(A){return i.edgeDataCache[A].zIndex},ve));for(var J in this.edgePrograms){if(!Lr.call(this.edgePrograms,J))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(J,'"!'));this.edgePrograms[J].reallocate(Te[J]||0),Te[J]=0}for(var I=0,z=ve.length;I<z;I++){var K=ve[I];P[K]=j,Z[P[K]]={type:"edge",id:K},j++;var xe=this.edgeDataCache[K];this.addEdgeToProgram(K,P[K],Te[xe.type]++)}return this.itemIDsIndex=Z,this.nodeIndices=L,this.edgeIndices=P,this.emit("afterProcess"),this}},{key:"handleSettingsUpdate",value:function(i){var o=this,l=this.settings;if(this.camera.minRatio=l.minCameraRatio,this.camera.maxRatio=l.maxCameraRatio,this.camera.enabledZooming=l.enableCameraZooming,this.camera.enabledPanning=l.enableCameraPanning,this.camera.enabledRotation=l.enableCameraRotation,l.cameraPanBoundaries?this.camera.clean=function(y){return o.cleanCameraState(y,l.cameraPanBoundaries&&Bd(l.cameraPanBoundaries)==="object"?l.cameraPanBoundaries:{})}:this.camera.clean=null,this.camera.setState(this.camera.validateState(this.camera.getState())),i){if(i.edgeProgramClasses!==l.edgeProgramClasses){for(var u in l.edgeProgramClasses)l.edgeProgramClasses[u]!==i.edgeProgramClasses[u]&&this.registerEdgeProgram(u,l.edgeProgramClasses[u]);for(var d in i.edgeProgramClasses)l.edgeProgramClasses[d]||this.unregisterEdgeProgram(d)}if(i.nodeProgramClasses!==l.nodeProgramClasses||i.nodeHoverProgramClasses!==l.nodeHoverProgramClasses){for(var f in l.nodeProgramClasses)(l.nodeProgramClasses[f]!==i.nodeProgramClasses[f]||l.nodeHoverProgramClasses[f]!==i.nodeHoverProgramClasses[f])&&this.registerNodeProgram(f,l.nodeProgramClasses[f],l.nodeHoverProgramClasses[f]);for(var g in i.nodeProgramClasses)l.nodeProgramClasses[g]||this.unregisterNodeProgram(g)}}return this.mouseCaptor.setSettings(this.settings),this.touchCaptor.setSettings(this.settings),this}},{key:"cleanCameraState",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.tolerance,u=l===void 0?0:l,d=o.boundaries,f=ye({},i),g=d||this.nodeExtent,y=Os(g.x,2),v=y[0],w=y[1],_=Os(g.y,2),N=_[0],L=_[1],P=[this.graphToViewport({x:v,y:N},{cameraState:i}),this.graphToViewport({x:w,y:N},{cameraState:i}),this.graphToViewport({x:v,y:L},{cameraState:i}),this.graphToViewport({x:w,y:L},{cameraState:i})],Z=1/0,j=-1/0,$=1/0,x=-1/0;P.forEach(function(Te){var ve=Te.x,V=Te.y;Z=Math.min(Z,ve),j=Math.max(j,ve),$=Math.min($,V),x=Math.max(x,V)});var T=j-Z,M=x-$,H=this.getDimensions(),se=H.width,le=H.height,O=0,we=0;if(T>=se?j<se-u?O=j-(se-u):Z>u&&(O=Z-u):j>se+u?O=j-(se+u):Z<-u&&(O=Z+u),M>=le?x<le-u?we=x-(le-u):$>u&&(we=$-u):x>le+u?we=x-(le+u):$<-u&&(we=$+u),O||we){var G=this.viewportToFramedGraph({x:0,y:0},{cameraState:i}),S=this.viewportToFramedGraph({x:O,y:we},{cameraState:i});O=S.x-G.x,we=S.y-G.y,f.x+=O,f.y+=we}return f}},{key:"renderLabels",value:function(){if(!this.settings.renderLabels)return this;var i=this.camera.getState(),o=this.labelGrid.getLabelsToDisplay(i.ratio,this.settings.labelDensity);Hg(o,this.nodesWithForcedLabels),this.displayedNodeLabels=new Set;for(var l=this.canvasContexts.labels,u=0,d=o.length;u<d;u++){var f=o[u],g=this.nodeDataCache[f];if(!this.displayedNodeLabels.has(f)&&!g.hidden){var y=this.framedGraphToViewport(g),v=y.x,w=y.y,_=this.scaleSize(g.size);if(!(!g.forceLabel&&_<this.settings.labelRenderedSizeThreshold)&&!(v<-Zg||v>this.width+Zg||w<-Xg||w>this.height+Xg)){this.displayedNodeLabels.add(f);var N=this.settings.defaultDrawNodeLabel,L=this.nodePrograms[g.type],P=(L==null?void 0:L.drawLabel)||N;P(l,ye(ye({key:f},g),{},{size:_,x:v,y:w}),this.settings)}}}return this}},{key:"renderEdgeLabels",value:function(){if(!this.settings.renderEdgeLabels)return this;var i=this.canvasContexts.edgeLabels;i.clearRect(0,0,this.width,this.height);var o=N_({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedNodeLabels,highlightedNodes:this.highlightedNodes});Hg(o,this.edgesWithForcedLabels);for(var l=new Set,u=0,d=o.length;u<d;u++){var f=o[u],g=this.graph.extremities(f),y=this.nodeDataCache[g[0]],v=this.nodeDataCache[g[1]],w=this.edgeDataCache[f];if(!l.has(f)&&!(w.hidden||y.hidden||v.hidden)){var _=this.settings.defaultDrawEdgeLabel,N=this.edgePrograms[w.type],L=(N==null?void 0:N.drawLabel)||_;L(i,ye(ye({key:f},w),{},{size:this.scaleSize(w.size)}),ye(ye(ye({key:g[0]},y),this.framedGraphToViewport(y)),{},{size:this.scaleSize(y.size)}),ye(ye(ye({key:g[1]},v),this.framedGraphToViewport(v)),{},{size:this.scaleSize(v.size)}),this.settings),l.add(f)}}return this.displayedEdgeLabels=l,this}},{key:"renderHighlightedNodes",value:function(){var i=this,o=this.canvasContexts.hovers;o.clearRect(0,0,this.width,this.height);var l=function(_){var N=i.nodeDataCache[_],L=i.framedGraphToViewport(N),P=L.x,Z=L.y,j=i.scaleSize(N.size),$=i.settings.defaultDrawNodeHover,x=i.nodePrograms[N.type],T=(x==null?void 0:x.drawHover)||$;T(o,ye(ye({key:_},N),{},{size:j,x:P,y:Z}),i.settings)},u=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&u.push(this.hoveredNode),this.highlightedNodes.forEach(function(w){w!==i.hoveredNode&&u.push(w)}),u.forEach(function(w){return l(w)});var d={};u.forEach(function(w){var _=i.nodeDataCache[w].type;d[_]=(d[_]||0)+1});for(var f in this.nodeHoverPrograms)this.nodeHoverPrograms[f].reallocate(d[f]||0),d[f]=0;u.forEach(function(w){var _=i.nodeDataCache[w];i.nodeHoverPrograms[_.type].process(0,d[_.type]++,_)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);var g=this.getRenderParams();for(var y in this.nodeHoverPrograms){var v=this.nodeHoverPrograms[y];v.render(g)}}},{key:"scheduleHighlightedNodesRender",value:function(){var i=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=requestAnimationFrame(function(){i.renderHighlightedNodesFrame=null,i.renderHighlightedNodes(),i.renderEdgeLabels()}))}},{key:"render",value:function(){var i=this;this.emit("beforeRender");var o=function(){return i.emit("afterRender"),i};if(this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.resize(),this.needToProcess&&this.process(),this.needToProcess=!1,this.clear(),this.pickingLayers.forEach(function(P){return i.resetWebGLTexture(P)}),!this.graph.order)return o();var l=this.mouseCaptor,u=this.camera.isAnimated()||l.isMoving||l.draggedEvents||l.currentWheelDirection,d=this.camera.getState(),f=this.getDimensions(),g=this.getGraphDimensions(),y=this.getStagePadding();this.matrix=Lo(d,f,g,y),this.invMatrix=Lo(d,f,g,y,!0),this.correctionRatio=f_(this.matrix,d,f),this.graphToViewportRatio=this.getGraphToViewportRatio();var v=this.getRenderParams();for(var w in this.nodePrograms){var _=this.nodePrograms[w];_.render(v)}if(!this.settings.hideEdgesOnMove||!u)for(var N in this.edgePrograms){var L=this.edgePrograms[N];L.render(v)}return this.settings.hideLabelsOnMove&&u||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),o()}},{key:"addNode",value:function(i){var o=Object.assign({},this.graph.getNodeAttributes(i));this.settings.nodeReducer&&(o=this.settings.nodeReducer(i,o));var l=L_(this.settings,i,o);this.nodeDataCache[i]=l,this.nodesWithForcedLabels.delete(i),l.forceLabel&&!l.hidden&&this.nodesWithForcedLabels.add(i),this.highlightedNodes.delete(i),l.highlighted&&!l.hidden&&this.highlightedNodes.add(i),this.settings.zIndex&&(l.zIndex<this.nodeZExtent[0]&&(this.nodeZExtent[0]=l.zIndex),l.zIndex>this.nodeZExtent[1]&&(this.nodeZExtent[1]=l.zIndex))}},{key:"updateNode",value:function(i){this.addNode(i);var o=this.nodeDataCache[i];this.normalizationFunction.applyTo(o)}},{key:"removeNode",value:function(i){delete this.nodeDataCache[i],delete this.nodeProgramIndex[i],this.highlightedNodes.delete(i),this.hoveredNode===i&&(this.hoveredNode=null),this.nodesWithForcedLabels.delete(i)}},{key:"addEdge",value:function(i){var o=Object.assign({},this.graph.getEdgeAttributes(i));this.settings.edgeReducer&&(o=this.settings.edgeReducer(i,o));var l=F_(this.settings,i,o);this.edgeDataCache[i]=l,this.edgesWithForcedLabels.delete(i),l.forceLabel&&!l.hidden&&this.edgesWithForcedLabels.add(i),this.settings.zIndex&&(l.zIndex<this.edgeZExtent[0]&&(this.edgeZExtent[0]=l.zIndex),l.zIndex>this.edgeZExtent[1]&&(this.edgeZExtent[1]=l.zIndex))}},{key:"updateEdge",value:function(i){this.addEdge(i)}},{key:"removeEdge",value:function(i){delete this.edgeDataCache[i],delete this.edgeProgramIndex[i],this.hoveredEdge===i&&(this.hoveredEdge=null),this.edgesWithForcedLabels.delete(i)}},{key:"clearNodeIndices",value:function(){this.labelGrid=new Qg,this.nodeExtent={x:[0,1],y:[0,1]},this.nodeDataCache={},this.edgeProgramIndex={},this.nodesWithForcedLabels=new Set,this.nodeZExtent=[1/0,-1/0],this.highlightedNodes=new Set}},{key:"clearEdgeIndices",value:function(){this.edgeDataCache={},this.edgeProgramIndex={},this.edgesWithForcedLabels=new Set,this.edgeZExtent=[1/0,-1/0]}},{key:"clearIndices",value:function(){this.clearEdgeIndices(),this.clearNodeIndices()}},{key:"clearNodeState",value:function(){this.displayedNodeLabels=new Set,this.highlightedNodes=new Set,this.hoveredNode=null}},{key:"clearEdgeState",value:function(){this.displayedEdgeLabels=new Set,this.highlightedNodes=new Set,this.hoveredEdge=null}},{key:"clearState",value:function(){this.clearEdgeState(),this.clearNodeState()}},{key:"addNodeToProgram",value:function(i,o,l){var u=this.nodeDataCache[i],d=this.nodePrograms[u.type];if(!d)throw new Error('Sigma: could not find a suitable program for node type "'.concat(u.type,'"!'));d.process(o,l,u),this.nodeProgramIndex[i]=l}},{key:"addEdgeToProgram",value:function(i,o,l){var u=this.edgeDataCache[i],d=this.edgePrograms[u.type];if(!d)throw new Error('Sigma: could not find a suitable program for edge type "'.concat(u.type,'"!'));var f=this.graph.extremities(i),g=this.nodeDataCache[f[0]],y=this.nodeDataCache[f[1]];d.process(o,l,g,y,u),this.edgeProgramIndex[i]=l}},{key:"getRenderParams",value:function(){return{matrix:this.matrix,invMatrix:this.invMatrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,cameraAngle:this.camera.angle,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio,downSizingRatio:this.pickingDownSizingRatio,minEdgeThickness:this.settings.minEdgeThickness,antiAliasingFeather:this.settings.antiAliasingFeather}}},{key:"getStagePadding",value:function(){var i=this.settings,o=i.stagePadding,l=i.autoRescale;return l&&o||0}},{key:"createLayer",value:function(i,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.elements[i])throw new Error('Sigma: a layer named "'.concat(i,'" already exists'));var u=y_(o,{position:"absolute"},{class:"sigma-".concat(i)});return l.style&&Object.assign(u.style,l.style),this.elements[i]=u,"beforeLayer"in l&&l.beforeLayer?this.elements[l.beforeLayer].before(u):"afterLayer"in l&&l.afterLayer?this.elements[l.afterLayer].after(u):this.container.appendChild(u),u}},{key:"createCanvas",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.createLayer(i,"canvas",o)}},{key:"createCanvasContext",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.createCanvas(i,o),u={preserveDrawingBuffer:!1,antialias:!1};return this.canvasContexts[i]=l.getContext("2d",u),this}},{key:"createWebGLContext",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=(o==null?void 0:o.canvas)||this.createCanvas(i,o);o.hidden&&l.remove();var u=ye({preserveDrawingBuffer:!1,antialias:!1},o),d;d=l.getContext("webgl2",u),d||(d=l.getContext("webgl",u)),d||(d=l.getContext("experimental-webgl",u));var f=d;if(this.webGLContexts[i]=f,f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA),o.picking){this.pickingLayers.add(i);var g=f.createFramebuffer();if(!g)throw new Error("Sigma: cannot create a new frame buffer for layer ".concat(i));this.frameBuffers[i]=g}return f}},{key:"killLayer",value:function(i){var o=this.elements[i];if(!o)throw new Error("Sigma: cannot kill layer ".concat(i,", which does not exist"));if(this.webGLContexts[i]){var l,u=this.webGLContexts[i];(l=u.getExtension("WEBGL_lose_context"))===null||l===void 0||l.loseContext(),delete this.webGLContexts[i]}else this.canvasContexts[i]&&delete this.canvasContexts[i];return o.remove(),delete this.elements[i],this}},{key:"getCamera",value:function(){return this.camera}},{key:"setCamera",value:function(i){this.unbindCameraHandlers(),this.camera=i,this.bindCameraHandlers()}},{key:"getContainer",value:function(){return this.container}},{key:"getGraph",value:function(){return this.graph}},{key:"setGraph",value:function(i){i!==this.graph&&(this.hoveredNode&&!i.hasNode(this.hoveredNode)&&(this.hoveredNode=null),this.hoveredEdge&&!i.hasEdge(this.hoveredEdge)&&(this.hoveredEdge=null),this.unbindGraphHandlers(),this.checkEdgesEventsFrame!==null&&(cancelAnimationFrame(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=i,this.bindGraphHandlers(),this.refresh())}},{key:"getMouseCaptor",value:function(){return this.mouseCaptor}},{key:"getTouchCaptor",value:function(){return this.touchCaptor}},{key:"getDimensions",value:function(){return{width:this.width,height:this.height}}},{key:"getGraphDimensions",value:function(){var i=this.customBBox||this.nodeExtent;return{width:i.x[1]-i.x[0]||1,height:i.y[1]-i.y[0]||1}}},{key:"getNodeDisplayData",value:function(i){var o=this.nodeDataCache[i];return o?Object.assign({},o):void 0}},{key:"getEdgeDisplayData",value:function(i){var o=this.edgeDataCache[i];return o?Object.assign({},o):void 0}},{key:"getNodeDisplayedLabels",value:function(){return new Set(this.displayedNodeLabels)}},{key:"getEdgeDisplayedLabels",value:function(){return new Set(this.displayedEdgeLabels)}},{key:"getSettings",value:function(){return ye({},this.settings)}},{key:"getSetting",value:function(i){return this.settings[i]}},{key:"setSetting",value:function(i,o){var l=ye({},this.settings);return this.settings[i]=o,pd(this.settings),this.handleSettingsUpdate(l),this.scheduleRefresh(),this}},{key:"updateSetting",value:function(i,o){return this.setSetting(i,o(this.settings[i])),this}},{key:"setSettings",value:function(i){var o=ye({},this.settings);return this.settings=ye(ye({},this.settings),i),pd(this.settings),this.handleSettingsUpdate(o),this.scheduleRefresh(),this}},{key:"resize",value:function(i){var o=this.width,l=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=$g(),this.width===0)if(this.settings.allowInvalidContainer)this.width=1;else throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(this.height===0)if(this.settings.allowInvalidContainer)this.height=1;else throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(!i&&o===this.width&&l===this.height)return this;for(var u in this.elements){var d=this.elements[u];d.style.width=this.width+"px",d.style.height=this.height+"px"}for(var f in this.canvasContexts)this.elements[f].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[f].setAttribute("height",this.height*this.pixelRatio+"px"),this.pixelRatio!==1&&this.canvasContexts[f].scale(this.pixelRatio,this.pixelRatio);for(var g in this.webGLContexts){this.elements[g].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[g].setAttribute("height",this.height*this.pixelRatio+"px");var y=this.webGLContexts[g];if(y.viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio),this.pickingLayers.has(g)){var v=this.textures[g];v&&y.deleteTexture(v)}}return this.emit("resize"),this}},{key:"clear",value:function(){return this.emit("beforeClear"),this.webGLContexts.nodes.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.nodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.edges.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.edges.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this.emit("afterClear"),this}},{key:"refresh",value:function(i){var o=this,l=(i==null?void 0:i.skipIndexation)!==void 0?i==null?void 0:i.skipIndexation:!1,u=(i==null?void 0:i.schedule)!==void 0?i.schedule:!1,d=!i||!i.partialGraph;if(d)this.clearEdgeIndices(),this.clearNodeIndices(),this.graph.forEachNode(function(x){return o.addNode(x)}),this.graph.forEachEdge(function(x){return o.addEdge(x)});else{for(var f,g,y=((f=i.partialGraph)===null||f===void 0?void 0:f.nodes)||[],v=0,w=(y==null?void 0:y.length)||0;v<w;v++){var _=y[v];if(this.updateNode(_),l){var N=this.nodeProgramIndex[_];if(N===void 0)throw new Error('Sigma: node "'.concat(_,`" can't be repaint`));this.addNodeToProgram(_,this.nodeIndices[_],N)}}for(var L=(i==null||(g=i.partialGraph)===null||g===void 0?void 0:g.edges)||[],P=0,Z=L.length;P<Z;P++){var j=L[P];if(this.updateEdge(j),l){var $=this.edgeProgramIndex[j];if($===void 0)throw new Error('Sigma: edge "'.concat(j,`" can't be repaint`));this.addEdgeToProgram(j,this.edgeIndices[j],$)}}}return(d||!l)&&(this.needToProcess=!0),u?this.scheduleRender():this.render(),this}},{key:"scheduleRender",value:function(){var i=this;return this.renderFrame||(this.renderFrame=requestAnimationFrame(function(){i.render()})),this}},{key:"scheduleRefresh",value:function(i){return this.refresh(ye(ye({},i),{},{schedule:!0}))}},{key:"getViewportZoomedState",value:function(i,o){var l=this.camera.getState(),u=l.ratio,d=l.angle,f=l.x,g=l.y,y=this.settings,v=y.minCameraRatio,w=y.maxCameraRatio;typeof w=="number"&&(o=Math.min(o,w)),typeof v=="number"&&(o=Math.max(o,v));var _=o/u,N={x:this.width/2,y:this.height/2},L=this.viewportToFramedGraph(i),P=this.viewportToFramedGraph(N);return{angle:d,x:(L.x-P.x)*(1-_)+f,y:(L.y-P.y)*(1-_)+g,ratio:o}}},{key:"viewRectangle",value:function(){var i=this.viewportToFramedGraph({x:0,y:0}),o=this.viewportToFramedGraph({x:this.width,y:0}),l=this.viewportToFramedGraph({x:0,y:this.height});return{x1:i.x,y1:i.y,x2:o.x,y2:o.y,height:o.y-l.y}}},{key:"framedGraphToViewport",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=!!o.cameraState||!!o.viewportDimensions||!!o.graphDimensions,u=o.matrix?o.matrix:l?Lo(o.cameraState||this.camera.getState(),o.viewportDimensions||this.getDimensions(),o.graphDimensions||this.getGraphDimensions(),o.padding||this.getStagePadding()):this.matrix,d=Od(u,i);return{x:(1+d.x)*this.width/2,y:(1-d.y)*this.height/2}}},{key:"viewportToFramedGraph",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=!!o.cameraState||!!o.viewportDimensions||!o.graphDimensions,u=o.matrix?o.matrix:l?Lo(o.cameraState||this.camera.getState(),o.viewportDimensions||this.getDimensions(),o.graphDimensions||this.getGraphDimensions(),o.padding||this.getStagePadding(),!0):this.invMatrix,d=Od(u,{x:i.x/this.width*2-1,y:1-i.y/this.height*2});return isNaN(d.x)&&(d.x=0),isNaN(d.y)&&(d.y=0),d}},{key:"viewportToGraph",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.normalizationFunction.inverse(this.viewportToFramedGraph(i,o))}},{key:"graphToViewport",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.framedGraphToViewport(this.normalizationFunction(i),o)}},{key:"getGraphToViewportRatio",value:function(){var i={x:0,y:0},o={x:1,y:1},l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)),u=this.graphToViewport(i),d=this.graphToViewport(o),f=Math.sqrt(Math.pow(u.x-d.x,2)+Math.pow(u.y-d.y,2));return f/l}},{key:"getBBox",value:function(){return this.nodeExtent}},{key:"getCustomBBox",value:function(){return this.customBBox}},{key:"setCustomBBox",value:function(i){return this.customBBox=i,this.scheduleRender(),this}},{key:"kill",value:function(){this.emit("kill"),this.removeAllListeners(),this.unbindCameraHandlers(),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.clearIndices(),this.clearState(),this.nodeDataCache={},this.edgeDataCache={},this.highlightedNodes.clear(),this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&(cancelAnimationFrame(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var i=this.container;i.firstChild;)i.removeChild(i.firstChild);for(var o in this.nodePrograms)this.nodePrograms[o].kill();for(var l in this.nodeHoverPrograms)this.nodeHoverPrograms[l].kill();for(var u in this.edgePrograms)this.edgePrograms[u].kill();this.nodePrograms={},this.nodeHoverPrograms={},this.edgePrograms={};for(var d in this.elements)this.killLayer(d);this.canvasContexts={},this.webGLContexts={},this.elements={}}},{key:"scaleSize",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.camera.ratio;return i/this.settings.zoomToSizeRatioFunction(o)*(this.getSetting("itemSizesReference")==="positions"?o*this.graphToViewportRatio:1)}},{key:"getCanvases",value:function(){var i={};for(var o in this.elements)this.elements[o]instanceof HTMLCanvasElement&&(i[o]=this.elements[o]);return i}}])})(Jd),B_=O_,Bo={},Jg;function P_(){if(Jg)return Bo;Jg=1;function r(i){return typeof i!="number"||isNaN(i)?1:i}function e(i,o){var l={},u=function(g){return typeof g>"u"?o:g};typeof o=="function"&&(u=o);var d=function(g){return u(g[i])},f=function(){return u(void 0)};return typeof i=="string"?(l.fromAttributes=d,l.fromGraph=function(g,y){return d(g.getNodeAttributes(y))},l.fromEntry=function(g,y){return d(y)}):typeof i=="function"?(l.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},l.fromGraph=function(g,y){return u(i(y,g.getNodeAttributes(y)))},l.fromEntry=function(g,y){return u(i(g,y))}):(l.fromAttributes=f,l.fromGraph=f,l.fromEntry=f),l}function t(i,o){var l={},u=function(g){return typeof g>"u"?o:g};typeof o=="function"&&(u=o);var d=function(g){return u(g[i])},f=function(){return u(void 0)};return typeof i=="string"?(l.fromAttributes=d,l.fromGraph=function(g,y){return d(g.getEdgeAttributes(y))},l.fromEntry=function(g,y){return d(y)},l.fromPartialEntry=l.fromEntry,l.fromMinimalEntry=l.fromEntry):typeof i=="function"?(l.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},l.fromGraph=function(g,y){var v=g.extremities(y);return u(i(y,g.getEdgeAttributes(y),v[0],v[1],g.getNodeAttributes(v[0]),g.getNodeAttributes(v[1]),g.isUndirected(y)))},l.fromEntry=function(g,y,v,w,_,N,L){return u(i(g,y,v,w,_,N,L))},l.fromPartialEntry=function(g,y,v,w){return u(i(g,y,v,w))},l.fromMinimalEntry=function(g,y){return u(i(g,y))}):(l.fromAttributes=f,l.fromGraph=f,l.fromEntry=f,l.fromMinimalEntry=f),l}return Bo.createNodeValueGetter=e,Bo.createEdgeValueGetter=t,Bo.createEdgeWeightGetter=function(i){return t(i,r)},Bo}var yd,ey;function M_(){if(ey)return yd;ey=1;var r=0,e=1,t=2,i=3,o=4,l=5,u=6,d=7,f=8,g=9,y=0,v=1,w=2,_=0,N=1,L=2,P=3,Z=4,j=5,$=6,x=7,T=8,M=3,H=10,se=3,le=9,O=10;return yd=function(G,S,Te){var ve,V,C,Y,ie,J,I,z,K,xe,A=S.length,U=Te.length,oe=G.adjustSizes,pe=G.barnesHutTheta*G.barnesHutTheta,he,_e,ke,be,et,ge,Se,W=[];for(C=0;C<A;C+=H)S[C+o]=S[C+t],S[C+l]=S[C+i],S[C+t]=0,S[C+i]=0;if(G.outboundAttractionDistribution){for(he=0,C=0;C<A;C+=H)he+=S[C+u];he/=A/H}if(G.barnesHutOptimize){var Rn=1/0,yr=-1/0,Nn=1/0,gn=-1/0,_t,Yn,qi;for(C=0;C<A;C+=H)Rn=Math.min(Rn,S[C+r]),yr=Math.max(yr,S[C+r]),Nn=Math.min(Nn,S[C+e]),gn=Math.max(gn,S[C+e]);var _i=yr-Rn,Si=gn-Nn;for(_i>Si?(Nn-=(_i-Si)/2,gn=Nn+_i):(Rn-=(Si-_i)/2,yr=Rn+Si),W[0+_]=-1,W[0+N]=(Rn+yr)/2,W[0+L]=(Nn+gn)/2,W[0+P]=Math.max(yr-Rn,gn-Nn),W[0+Z]=-1,W[0+j]=-1,W[0+$]=0,W[0+x]=0,W[0+T]=0,ve=1,C=0;C<A;C+=H)for(V=0,qi=M;;)if(W[V+j]>=0){S[C+r]<W[V+N]?S[C+e]<W[V+L]?_t=W[V+j]:_t=W[V+j]+le:S[C+e]<W[V+L]?_t=W[V+j]+le*2:_t=W[V+j]+le*3,W[V+x]=(W[V+x]*W[V+$]+S[C+r]*S[C+u])/(W[V+$]+S[C+u]),W[V+T]=(W[V+T]*W[V+$]+S[C+e]*S[C+u])/(W[V+$]+S[C+u]),W[V+$]+=S[C+u],V=_t;continue}else if(W[V+_]<0){W[V+_]=C;break}else{if(W[V+j]=ve*le,z=W[V+P]/2,K=W[V+j],W[K+_]=-1,W[K+N]=W[V+N]-z,W[K+L]=W[V+L]-z,W[K+P]=z,W[K+Z]=K+le,W[K+j]=-1,W[K+$]=0,W[K+x]=0,W[K+T]=0,K+=le,W[K+_]=-1,W[K+N]=W[V+N]-z,W[K+L]=W[V+L]+z,W[K+P]=z,W[K+Z]=K+le,W[K+j]=-1,W[K+$]=0,W[K+x]=0,W[K+T]=0,K+=le,W[K+_]=-1,W[K+N]=W[V+N]+z,W[K+L]=W[V+L]-z,W[K+P]=z,W[K+Z]=K+le,W[K+j]=-1,W[K+$]=0,W[K+x]=0,W[K+T]=0,K+=le,W[K+_]=-1,W[K+N]=W[V+N]+z,W[K+L]=W[V+L]+z,W[K+P]=z,W[K+Z]=W[V+Z],W[K+j]=-1,W[K+$]=0,W[K+x]=0,W[K+T]=0,ve+=4,S[W[V+_]+r]<W[V+N]?S[W[V+_]+e]<W[V+L]?_t=W[V+j]:_t=W[V+j]+le:S[W[V+_]+e]<W[V+L]?_t=W[V+j]+le*2:_t=W[V+j]+le*3,W[V+$]=S[W[V+_]+u],W[V+x]=S[W[V+_]+r],W[V+T]=S[W[V+_]+e],W[_t+_]=W[V+_],W[V+_]=-1,S[C+r]<W[V+N]?S[C+e]<W[V+L]?Yn=W[V+j]:Yn=W[V+j]+le:S[C+e]<W[V+L]?Yn=W[V+j]+le*2:Yn=W[V+j]+le*3,_t===Yn)if(qi--){V=_t;continue}else{qi=M;break}W[Yn+_]=C;break}}if(G.barnesHutOptimize)for(_e=G.scalingRatio,C=0;C<A;C+=H)for(V=0;;)if(W[V+j]>=0)if(ge=Math.pow(S[C+r]-W[V+x],2)+Math.pow(S[C+e]-W[V+T],2),xe=W[V+P],4*xe*xe/ge<pe){if(ke=S[C+r]-W[V+x],be=S[C+e]-W[V+T],oe===!0?ge>0?(Se=_e*S[C+u]*W[V+$]/ge,S[C+t]+=ke*Se,S[C+i]+=be*Se):ge<0&&(Se=-_e*S[C+u]*W[V+$]/Math.sqrt(ge),S[C+t]+=ke*Se,S[C+i]+=be*Se):ge>0&&(Se=_e*S[C+u]*W[V+$]/ge,S[C+t]+=ke*Se,S[C+i]+=be*Se),V=W[V+Z],V<0)break;continue}else{V=W[V+j];continue}else{if(J=W[V+_],J>=0&&J!==C&&(ke=S[C+r]-S[J+r],be=S[C+e]-S[J+e],ge=ke*ke+be*be,oe===!0?ge>0?(Se=_e*S[C+u]*S[J+u]/ge,S[C+t]+=ke*Se,S[C+i]+=be*Se):ge<0&&(Se=-_e*S[C+u]*S[J+u]/Math.sqrt(ge),S[C+t]+=ke*Se,S[C+i]+=be*Se):ge>0&&(Se=_e*S[C+u]*S[J+u]/ge,S[C+t]+=ke*Se,S[C+i]+=be*Se)),V=W[V+Z],V<0)break;continue}else for(_e=G.scalingRatio,Y=0;Y<A;Y+=H)for(ie=0;ie<Y;ie+=H)ke=S[Y+r]-S[ie+r],be=S[Y+e]-S[ie+e],oe===!0?(ge=Math.sqrt(ke*ke+be*be)-S[Y+f]-S[ie+f],ge>0?(Se=_e*S[Y+u]*S[ie+u]/ge/ge,S[Y+t]+=ke*Se,S[Y+i]+=be*Se,S[ie+t]-=ke*Se,S[ie+i]-=be*Se):ge<0&&(Se=100*_e*S[Y+u]*S[ie+u],S[Y+t]+=ke*Se,S[Y+i]+=be*Se,S[ie+t]-=ke*Se,S[ie+i]-=be*Se)):(ge=Math.sqrt(ke*ke+be*be),ge>0&&(Se=_e*S[Y+u]*S[ie+u]/ge/ge,S[Y+t]+=ke*Se,S[Y+i]+=be*Se,S[ie+t]-=ke*Se,S[ie+i]-=be*Se));for(K=G.gravity/G.scalingRatio,_e=G.scalingRatio,C=0;C<A;C+=H)Se=0,ke=S[C+r],be=S[C+e],ge=Math.sqrt(Math.pow(ke,2)+Math.pow(be,2)),G.strongGravityMode?ge>0&&(Se=_e*S[C+u]*K):ge>0&&(Se=_e*S[C+u]*K/ge),S[C+t]-=ke*Se,S[C+i]-=be*Se;for(_e=1*(G.outboundAttractionDistribution?he:1),I=0;I<U;I+=se)Y=Te[I+y],ie=Te[I+v],z=Te[I+w],et=Math.pow(z,G.edgeWeightInfluence),ke=S[Y+r]-S[ie+r],be=S[Y+e]-S[ie+e],oe===!0?(ge=Math.sqrt(ke*ke+be*be)-S[Y+f]-S[ie+f],G.linLogMode?G.outboundAttractionDistribution?ge>0&&(Se=-_e*et*Math.log(1+ge)/ge/S[Y+u]):ge>0&&(Se=-_e*et*Math.log(1+ge)/ge):G.outboundAttractionDistribution?ge>0&&(Se=-_e*et/S[Y+u]):ge>0&&(Se=-_e*et)):(ge=Math.sqrt(Math.pow(ke,2)+Math.pow(be,2)),G.linLogMode?G.outboundAttractionDistribution?ge>0&&(Se=-_e*et*Math.log(1+ge)/ge/S[Y+u]):ge>0&&(Se=-_e*et*Math.log(1+ge)/ge):G.outboundAttractionDistribution?(ge=1,Se=-_e*et/S[Y+u]):(ge=1,Se=-_e*et)),ge>0&&(S[Y+t]+=ke*Se,S[Y+i]+=be*Se,S[ie+t]-=ke*Se,S[ie+i]-=be*Se);var Ei,mr,vr,Kn,qn,Qn;if(oe===!0)for(C=0;C<A;C+=H)S[C+g]!==1&&(Ei=Math.sqrt(Math.pow(S[C+t],2)+Math.pow(S[C+i],2)),Ei>O&&(S[C+t]=S[C+t]*O/Ei,S[C+i]=S[C+i]*O/Ei),mr=S[C+u]*Math.sqrt((S[C+o]-S[C+t])*(S[C+o]-S[C+t])+(S[C+l]-S[C+i])*(S[C+l]-S[C+i])),vr=Math.sqrt((S[C+o]+S[C+t])*(S[C+o]+S[C+t])+(S[C+l]+S[C+i])*(S[C+l]+S[C+i]))/2,Kn=.1*Math.log(1+vr)/(1+Math.sqrt(mr)),qn=S[C+r]+S[C+t]*(Kn/G.slowDown),S[C+r]=qn,Qn=S[C+e]+S[C+i]*(Kn/G.slowDown),S[C+e]=Qn);else for(C=0;C<A;C+=H)S[C+g]!==1&&(mr=S[C+u]*Math.sqrt((S[C+o]-S[C+t])*(S[C+o]-S[C+t])+(S[C+l]-S[C+i])*(S[C+l]-S[C+i])),vr=Math.sqrt((S[C+o]+S[C+t])*(S[C+o]+S[C+t])+(S[C+l]+S[C+i])*(S[C+l]+S[C+i]))/2,Kn=S[C+d]*Math.log(1+vr)/(1+Math.sqrt(mr)),S[C+d]=Math.min(1,Math.sqrt(Kn*(Math.pow(S[C+t],2)+Math.pow(S[C+i],2))/(1+Math.sqrt(mr)))),qn=S[C+r]+S[C+t]*(Kn/G.slowDown),S[C+r]=qn,Qn=S[C+e]+S[C+i]*(Kn/G.slowDown),S[C+e]=Qn);return{}},yd}var kr={},ty;function z_(){if(ty)return kr;ty=1;var r=10,e=3;return kr.assign=function(t){t=t||{};var i=Array.prototype.slice.call(arguments).slice(1),o,l,u;for(o=0,u=i.length;o<u;o++)if(i[o])for(l in i[o])t[l]=i[o][l];return t},kr.validateSettings=function(t){return"linLogMode"in t&&typeof t.linLogMode!="boolean"?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in t&&typeof t.outboundAttractionDistribution!="boolean"?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in t&&typeof t.adjustSizes!="boolean"?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in t&&typeof t.edgeWeightInfluence!="number"?{message:"the `edgeWeightInfluence` setting should be a number."}:"scalingRatio"in t&&!(typeof t.scalingRatio=="number"&&t.scalingRatio>=0)?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in t&&typeof t.strongGravityMode!="boolean"?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in t&&!(typeof t.gravity=="number"&&t.gravity>=0)?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in t&&!(typeof t.slowDown=="number"||t.slowDown>=0)?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in t&&typeof t.barnesHutOptimize!="boolean"?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in t&&!(typeof t.barnesHutTheta=="number"&&t.barnesHutTheta>=0)?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null},kr.graphToByteArrays=function(t,i){var o=t.order,l=t.size,u={},d,f=new Float32Array(o*r),g=new Float32Array(l*e);return d=0,t.forEachNode(function(y,v){u[y]=d,f[d]=v.x,f[d+1]=v.y,f[d+2]=0,f[d+3]=0,f[d+4]=0,f[d+5]=0,f[d+6]=1,f[d+7]=1,f[d+8]=v.size||1,f[d+9]=v.fixed?1:0,d+=r}),d=0,t.forEachEdge(function(y,v,w,_,N,L,P){var Z=u[w],j=u[_],$=i(y,v,w,_,N,L,P);f[Z+6]+=$,f[j+6]+=$,g[d]=Z,g[d+1]=j,g[d+2]=$,d+=e}),{nodes:f,edges:g}},kr.assignLayoutChanges=function(t,i,o){var l=0;t.updateEachNodeAttributes(function(u,d){return d.x=i[l],d.y=i[l+1],l+=r,o?o(u,d):d})},kr.readGraphPositions=function(t,i){var o=0;t.forEachNode(function(l,u){i[o]=u.x,i[o+1]=u.y,o+=r})},kr.collectLayoutChanges=function(t,i,o){for(var l=t.nodes(),u={},d=0,f=0,g=i.length;d<g;d+=r){if(o){var y=Object.assign({},t.getNodeAttributes(l[f]));y.x=i[d],y.y=i[d+1],y=o(l[f],y),u[l[f]]={x:y.x,y:y.y}}else u[l[f]]={x:i[d],y:i[d+1]};f++}return u},kr.createWorker=function(i){var o=window.URL||window.webkitURL,l=i.toString(),u=o.createObjectURL(new Blob(["("+l+").call(this);"],{type:"text/javascript"})),d=new Worker(u);return o.revokeObjectURL(u),d},kr}var md,ny;function U_(){return ny||(ny=1,md={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:1,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5}),md}var vd,ry;function G_(){if(ry)return vd;ry=1;var r=Jy(),e=P_().createEdgeWeightGetter,t=M_(),i=z_(),o=U_();function l(f,g,y){if(!r(g))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");typeof y=="number"&&(y={iterations:y});var v=y.iterations;if(typeof v!="number")throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(v<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var w=e("getEdgeWeight"in y?y.getEdgeWeight:"weight").fromEntry,_=typeof y.outputReducer=="function"?y.outputReducer:null,N=i.assign({},o,y.settings),L=i.validateSettings(N);if(L)throw new Error("graphology-layout-forceatlas2: "+L.message);var P=i.graphToByteArrays(g,w),Z;for(Z=0;Z<v;Z++)t(N,P.nodes,P.edges);if(f){i.assignLayoutChanges(g,P.nodes,_);return}return i.collectLayoutChanges(g,P.nodes)}function u(f){var g=typeof f=="number"?f:f.order;return{barnesHutOptimize:g>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(g)}}var d=l.bind(null,!1);return d.assign=l.bind(null,!0),d.inferSettings=u,vd=d,vd}var j_=G_();const $_=au(j_);var wd={exports:{}},qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function V_(){if(iy)return qe;iy=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,g=r?Symbol.for("react.concurrent_mode"):60111,y=r?Symbol.for("react.forward_ref"):60112,v=r?Symbol.for("react.suspense"):60113,w=r?Symbol.for("react.suspense_list"):60120,_=r?Symbol.for("react.memo"):60115,N=r?Symbol.for("react.lazy"):60116,L=r?Symbol.for("react.block"):60121,P=r?Symbol.for("react.fundamental"):60117,Z=r?Symbol.for("react.responder"):60118,j=r?Symbol.for("react.scope"):60119;function $(T){if(typeof T=="object"&&T!==null){var M=T.$$typeof;switch(M){case e:switch(T=T.type,T){case f:case g:case i:case l:case o:case v:return T;default:switch(T=T&&T.$$typeof,T){case d:case y:case N:case _:case u:return T;default:return M}}case t:return M}}}function x(T){return $(T)===g}return qe.AsyncMode=f,qe.ConcurrentMode=g,qe.ContextConsumer=d,qe.ContextProvider=u,qe.Element=e,qe.ForwardRef=y,qe.Fragment=i,qe.Lazy=N,qe.Memo=_,qe.Portal=t,qe.Profiler=l,qe.StrictMode=o,qe.Suspense=v,qe.isAsyncMode=function(T){return x(T)||$(T)===f},qe.isConcurrentMode=x,qe.isContextConsumer=function(T){return $(T)===d},qe.isContextProvider=function(T){return $(T)===u},qe.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===e},qe.isForwardRef=function(T){return $(T)===y},qe.isFragment=function(T){return $(T)===i},qe.isLazy=function(T){return $(T)===N},qe.isMemo=function(T){return $(T)===_},qe.isPortal=function(T){return $(T)===t},qe.isProfiler=function(T){return $(T)===l},qe.isStrictMode=function(T){return $(T)===o},qe.isSuspense=function(T){return $(T)===v},qe.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===i||T===g||T===l||T===o||T===v||T===w||typeof T=="object"&&T!==null&&(T.$$typeof===N||T.$$typeof===_||T.$$typeof===u||T.$$typeof===d||T.$$typeof===y||T.$$typeof===P||T.$$typeof===Z||T.$$typeof===j||T.$$typeof===L)},qe.typeOf=$,qe}var sy;function W_(){return sy||(sy=1,wd.exports=V_()),wd.exports}var bd,oy;function H_(){if(oy)return bd;oy=1;var r=W_(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[r.ForwardRef]=i,l[r.Memo]=o;function u(N){return r.isMemo(N)?o:l[N.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,w=Object.prototype;function _(N,L,P){if(typeof L!="string"){if(w){var Z=v(L);Z&&Z!==w&&_(N,Z,P)}var j=f(L);g&&(j=j.concat(g(L)));for(var $=u(N),x=u(L),T=0;T<j.length;++T){var M=j[T];if(!t[M]&&!(P&&P[M])&&!(x&&x[M])&&!($&&$[M])){var H=y(L,M);try{d(N,M,H)}catch{}}}}return N}return bd=_,bd}var Y_=H_();const K_=au(Y_);var _d={exports:{}},Qe={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Sd,ay;function q_(){if(ay)return Sd;ay=1;var r=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function i(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function o(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var u={},d=0;d<10;d++)u["_"+String.fromCharCode(d)]=d;var f=Object.getOwnPropertyNames(u).map(function(y){return u[y]});if(f.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(y){g[y]=y}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Sd=o()?Object.assign:function(l,u){for(var d,f=i(l),g,y=1;y<arguments.length;y++){d=Object(arguments[y]);for(var v in d)e.call(d,v)&&(f[v]=d[v]);if(r){g=r(d);for(var w=0;w<g.length;w++)t.call(d,g[w])&&(f[g[w]]=d[g[w]])}}return f},Sd}/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function Q_(){if(ly)return Qe;ly=1;var r=q_(),e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,i=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,l=e?Symbol.for("react.strict_mode"):60108,u=e?Symbol.for("react.profiler"):60114,d=e?Symbol.for("react.provider"):60109,f=e?Symbol.for("react.context"):60110,g=e?Symbol.for("react.forward_ref"):60112,y=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,_=typeof Symbol=="function"&&Symbol.iterator;function N(A){for(var U="https://reactjs.org/docs/error-decoder.html?invariant="+A,oe=1;oe<arguments.length;oe++)U+="&args[]="+encodeURIComponent(arguments[oe]);return"Minified React error #"+A+"; visit "+U+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P={};function Z(A,U,oe){this.props=A,this.context=U,this.refs=P,this.updater=oe||L}Z.prototype.isReactComponent={},Z.prototype.setState=function(A,U){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error(N(85));this.updater.enqueueSetState(this,A,U,"setState")},Z.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function j(){}j.prototype=Z.prototype;function $(A,U,oe){this.props=A,this.context=U,this.refs=P,this.updater=oe||L}var x=$.prototype=new j;x.constructor=$,r(x,Z.prototype),x.isPureReactComponent=!0;var T={current:null},M=Object.prototype.hasOwnProperty,H={key:!0,ref:!0,__self:!0,__source:!0};function se(A,U,oe){var pe,he={},_e=null,ke=null;if(U!=null)for(pe in U.ref!==void 0&&(ke=U.ref),U.key!==void 0&&(_e=""+U.key),U)M.call(U,pe)&&!H.hasOwnProperty(pe)&&(he[pe]=U[pe]);var be=arguments.length-2;if(be===1)he.children=oe;else if(1<be){for(var et=Array(be),ge=0;ge<be;ge++)et[ge]=arguments[ge+2];he.children=et}if(A&&A.defaultProps)for(pe in be=A.defaultProps,be)he[pe]===void 0&&(he[pe]=be[pe]);return{$$typeof:t,type:A,key:_e,ref:ke,props:he,_owner:T.current}}function le(A,U){return{$$typeof:t,type:A.type,key:U,ref:A.ref,props:A.props,_owner:A._owner}}function O(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function we(A){var U={"=":"=0",":":"=2"};return"$"+(""+A).replace(/[=:]/g,function(oe){return U[oe]})}var G=/\/+/g,S=[];function Te(A,U,oe,pe){if(S.length){var he=S.pop();return he.result=A,he.keyPrefix=U,he.func=oe,he.context=pe,he.count=0,he}return{result:A,keyPrefix:U,func:oe,context:pe,count:0}}function ve(A){A.result=null,A.keyPrefix=null,A.func=null,A.context=null,A.count=0,10>S.length&&S.push(A)}function V(A,U,oe,pe){var he=typeof A;(he==="undefined"||he==="boolean")&&(A=null);var _e=!1;if(A===null)_e=!0;else switch(he){case"string":case"number":_e=!0;break;case"object":switch(A.$$typeof){case t:case i:_e=!0}}if(_e)return oe(pe,A,U===""?"."+Y(A,0):U),1;if(_e=0,U=U===""?".":U+":",Array.isArray(A))for(var ke=0;ke<A.length;ke++){he=A[ke];var be=U+Y(he,ke);_e+=V(he,be,oe,pe)}else if(A===null||typeof A!="object"?be=null:(be=_&&A[_]||A["@@iterator"],be=typeof be=="function"?be:null),typeof be=="function")for(A=be.call(A),ke=0;!(he=A.next()).done;)he=he.value,be=U+Y(he,ke++),_e+=V(he,be,oe,pe);else if(he==="object")throw oe=""+A,Error(N(31,oe==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":oe,""));return _e}function C(A,U,oe){return A==null?0:V(A,"",U,oe)}function Y(A,U){return typeof A=="object"&&A!==null&&A.key!=null?we(A.key):U.toString(36)}function ie(A,U){A.func.call(A.context,U,A.count++)}function J(A,U,oe){var pe=A.result,he=A.keyPrefix;A=A.func.call(A.context,U,A.count++),Array.isArray(A)?I(A,pe,oe,function(_e){return _e}):A!=null&&(O(A)&&(A=le(A,he+(!A.key||U&&U.key===A.key?"":(""+A.key).replace(G,"$&/")+"/")+oe)),pe.push(A))}function I(A,U,oe,pe,he){var _e="";oe!=null&&(_e=(""+oe).replace(G,"$&/")+"/"),U=Te(U,_e,pe,he),C(A,J,U),ve(U)}var z={current:null};function K(){var A=z.current;if(A===null)throw Error(N(321));return A}var xe={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};return Qe.Children={map:function(A,U,oe){if(A==null)return A;var pe=[];return I(A,pe,null,U,oe),pe},forEach:function(A,U,oe){if(A==null)return A;U=Te(null,null,U,oe),C(A,ie,U),ve(U)},count:function(A){return C(A,function(){return null},null)},toArray:function(A){var U=[];return I(A,U,null,function(oe){return oe}),U},only:function(A){if(!O(A))throw Error(N(143));return A}},Qe.Component=Z,Qe.Fragment=o,Qe.Profiler=u,Qe.PureComponent=$,Qe.StrictMode=l,Qe.Suspense=y,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,Qe.cloneElement=function(A,U,oe){if(A==null)throw Error(N(267,A));var pe=r({},A.props),he=A.key,_e=A.ref,ke=A._owner;if(U!=null){if(U.ref!==void 0&&(_e=U.ref,ke=T.current),U.key!==void 0&&(he=""+U.key),A.type&&A.type.defaultProps)var be=A.type.defaultProps;for(et in U)M.call(U,et)&&!H.hasOwnProperty(et)&&(pe[et]=U[et]===void 0&&be!==void 0?be[et]:U[et])}var et=arguments.length-2;if(et===1)pe.children=oe;else if(1<et){be=Array(et);for(var ge=0;ge<et;ge++)be[ge]=arguments[ge+2];pe.children=be}return{$$typeof:t,type:A.type,key:he,ref:_e,props:pe,_owner:ke}},Qe.createContext=function(A,U){return U===void 0&&(U=null),A={$$typeof:f,_calculateChangedBits:U,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider={$$typeof:d,_context:A},A.Consumer=A},Qe.createElement=se,Qe.createFactory=function(A){var U=se.bind(null,A);return U.type=A,U},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(A){return{$$typeof:g,render:A}},Qe.isValidElement=O,Qe.lazy=function(A){return{$$typeof:w,_ctor:A,_status:-1,_result:null}},Qe.memo=function(A,U){return{$$typeof:v,type:A,compare:U===void 0?null:U}},Qe.useCallback=function(A,U){return K().useCallback(A,U)},Qe.useContext=function(A,U){return K().useContext(A,U)},Qe.useDebugValue=function(){},Qe.useEffect=function(A,U){return K().useEffect(A,U)},Qe.useImperativeHandle=function(A,U,oe){return K().useImperativeHandle(A,U,oe)},Qe.useLayoutEffect=function(A,U){return K().useLayoutEffect(A,U)},Qe.useMemo=function(A,U){return K().useMemo(A,U)},Qe.useReducer=function(A,U,oe){return K().useReducer(A,U,oe)},Qe.useRef=function(A){return K().useRef(A)},Qe.useState=function(A){return K().useState(A)},Qe.version="16.14.0",Qe}var uy;function Z_(){return uy||(uy=1,_d.exports=Q_()),_d.exports}var X_=Z_();const Ss=au(X_);function De(r,e,t,i){function o(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function d(y){try{g(i.next(y))}catch(v){u(v)}}function f(y){try{g(i.throw(y))}catch(v){u(v)}}function g(y){y.done?l(y.value):o(y.value).then(d,f)}g((i=i.apply(r,e||[])).next())})}function cy(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ue(r){return this instanceof Ue?(this.v=r,this):new Ue(r)}function dr(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(_){return function(N){return Promise.resolve(N).then(_,v)}}function d(_,N){i[_]&&(o[_]=function(L){return new Promise(function(P,Z){l.push([_,L,P,Z])>1||f(_,L)})},N&&(o[_]=N(o[_])))}function f(_,N){try{g(i[_](N))}catch(L){w(l[0][3],L)}}function g(_){_.value instanceof Ue?Promise.resolve(_.value.v).then(y,v):w(l[0][2],_)}function y(_){f("next",_)}function v(_){f("throw",_)}function w(_,N){_(N),l.shift(),l.length&&f(l[0][0],l[0][1])}}function Tl(r){var e,t;return e={},i("next"),i("throw",function(o){throw o}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(o,l){e[o]=r[o]?function(u){return(t=!t)?{value:Ue(r[o](u)),done:!1}:l?l(u):u}:l}}function Wi(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof cy=="function"?cy(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(l){t[l]=r[l]&&function(u){return new Promise(function(d,f){u=r[l](u),o(d,f,u.done,u.value)})}}function o(l,u,d,f){Promise.resolve(f).then(function(g){l({value:g,done:d})},u)}}const J_=new TextDecoder("utf-8"),Pd=r=>J_.decode(r),eS=new TextEncoder,th=r=>eS.encode(r),[lT,tS]=(()=>{const r=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw r()}return e.asIntN=()=>{throw r()},e.asUintN=()=>{throw r()},typeof BigInt<"u"?[BigInt,!0]:[e,!1]})(),[ea]=(()=>{const r=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[e,!1]})(),[ta]=(()=>{const r=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[e,!1]})(),nS=r=>typeof r=="number",nm=r=>typeof r=="boolean",At=r=>typeof r=="function",nn=r=>r!=null&&Object(r)===r,hi=r=>nn(r)&&At(r.then),na=r=>nn(r)&&At(r[Symbol.iterator]),$s=r=>nn(r)&&At(r[Symbol.asyncIterator]),Md=r=>nn(r)&&nn(r.schema),rm=r=>nn(r)&&"done"in r&&"value"in r,im=r=>nn(r)&&At(r.stat)&&nS(r.fd),sm=r=>nn(r)&&nh(r.body),uu=r=>"_getDOMStream"in r&&"_getNodeStream"in r,rS=r=>nn(r)&&At(r.abort)&&At(r.getWriter)&&!uu(r),nh=r=>nn(r)&&At(r.cancel)&&At(r.getReader)&&!uu(r),iS=r=>nn(r)&&At(r.end)&&At(r.write)&&nm(r.writable)&&!uu(r),om=r=>nn(r)&&At(r.read)&&At(r.pipe)&&nm(r.readable)&&!uu(r),sS=r=>nn(r)&&At(r.clear)&&At(r.bytes)&&At(r.position)&&At(r.setPosition)&&At(r.capacity)&&At(r.getBufferIdentifier)&&At(r.createLong),rh=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function oS(r){const e=r[0]?[r[0]]:[];let t,i,o,l;for(let u,d,f=0,g=0,y=r.length;++f<y;){if(u=e[g],d=r[f],!u||!d||u.buffer!==d.buffer||d.byteOffset<u.byteOffset){d&&(e[++g]=d);continue}if({byteOffset:t,byteLength:o}=u,{byteOffset:i,byteLength:l}=d,t+o<i||i+l<t){d&&(e[++g]=d);continue}e[g]=new Uint8Array(u.buffer,t,i-t+l)}return e}function dy(r,e,t=0,i=e.byteLength){const o=r.byteLength,l=new Uint8Array(r.buffer,r.byteOffset,o),u=new Uint8Array(e.buffer,e.byteOffset,Math.min(i,o));return l.set(u,t),r}function fr(r,e){const t=oS(r),i=t.reduce((y,v)=>y+v.byteLength,0);let o,l,u,d=0,f=-1;const g=Math.min(e||Number.POSITIVE_INFINITY,i);for(const y=t.length;++f<y;){if(o=t[f],l=o.subarray(0,Math.min(o.length,g-d)),g<=d+l.length){l.length<o.length?t[f]=o.subarray(l.length):l.length===o.length&&f++,u?dy(u,l,d):u=l;break}dy(u||(u=new Uint8Array(g)),l,d),d+=l.length}return[u||new Uint8Array(0),t.slice(f),i-(u?u.byteLength:0)]}function it(r,e){let t=rm(e)?e.value:e;return t instanceof r?r===Uint8Array?new r(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=th(t)),t instanceof ArrayBuffer?new r(t):t instanceof rh?new r(t):sS(t)?it(r,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new r(0):new r(t.buffer,t.byteOffset,t.byteLength/r.BYTES_PER_ELEMENT):r.from(t)):new r(0)}const Po=r=>it(Int32Array,r),Ye=r=>it(Uint8Array,r),zd=r=>(r.next(),r);function*aS(r,e){const t=function*(o){yield o},i=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof rh?t(e):na(e)?e:t(e);return yield*zd((function*(o){let l=null;do l=o.next(yield it(r,l));while(!l.done)})(i[Symbol.iterator]())),new r}const lS=r=>aS(Uint8Array,r);function am(r,e){return dr(this,arguments,function*(){if(hi(e))return yield Ue(yield Ue(yield*Tl(Wi(am(r,yield Ue(e))))));const i=function(u){return dr(this,arguments,function*(){yield yield Ue(yield Ue(u))})},o=function(u){return dr(this,arguments,function*(){yield Ue(yield*Tl(Wi(zd((function*(d){let f=null;do f=d.next(yield f==null?void 0:f.value);while(!f.done)})(u[Symbol.iterator]())))))})},l=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof rh?i(e):na(e)?o(e):$s(e)?e:i(e);return yield Ue(yield*Tl(Wi(zd((function(u){return dr(this,arguments,function*(){let d=null;do d=yield Ue(u.next(yield yield Ue(it(r,d))));while(!d.done)})})(l[Symbol.asyncIterator]()))))),yield Ue(new r)})}const uS=r=>am(Uint8Array,r);function ih(r,e,t){if(r!==0){t=t.slice(0,e+1);for(let i=-1;++i<=e;)t[i]+=r}return t}function cS(r,e){let t=0;const i=r.length;if(i!==e.length)return!1;if(i>0)do if(r[t]!==e[t])return!1;while(++t<i);return!0}const An={fromIterable(r){return bl(dS(r))},fromAsyncIterable(r){return bl(hS(r))},fromDOMStream(r){return bl(fS(r))},fromNodeStream(r){return bl(gS(r))},toDOMStream(r,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,e){throw new Error('"toNodeStream" not available in this environment')}},bl=r=>(r.next(),r);function*dS(r){let e,t=!1,i=[],o,l,u,d=0;function f(){return l==="peek"?fr(i,u)[0]:([o,i,d]=fr(i,u),o)}({cmd:l,size:u}=yield null);const g=lS(r)[Symbol.iterator]();try{do if({done:e,value:o}=Number.isNaN(u-d)?g.next():g.next(u-d),!e&&o.byteLength>0&&(i.push(o),d+=o.byteLength),e||u<=d)do({cmd:l,size:u}=yield f());while(u<d);while(!e)}catch(y){(t=!0)&&typeof g.throw=="function"&&g.throw(y)}finally{t===!1&&typeof g.return=="function"&&g.return(null)}return null}function hS(r){return dr(this,arguments,function*(){let t,i=!1,o=[],l,u,d,f=0;function g(){return u==="peek"?fr(o,d)[0]:([l,o,f]=fr(o,d),l)}({cmd:u,size:d}=yield yield Ue(null));const y=uS(r)[Symbol.asyncIterator]();try{do if({done:t,value:l}=Number.isNaN(d-f)?yield Ue(y.next()):yield Ue(y.next(d-f)),!t&&l.byteLength>0&&(o.push(l),f+=l.byteLength),t||d<=f)do({cmd:u,size:d}=yield yield Ue(g()));while(d<f);while(!t)}catch(v){(i=!0)&&typeof y.throw=="function"&&(yield Ue(y.throw(v)))}finally{i===!1&&typeof y.return=="function"&&(yield Ue(y.return(new Uint8Array(0))))}return yield Ue(null)})}function fS(r){return dr(this,arguments,function*(){let t=!1,i=!1,o=[],l,u,d,f=0;function g(){return u==="peek"?fr(o,d)[0]:([l,o,f]=fr(o,d),l)}({cmd:u,size:d}=yield yield Ue(null));const y=new pS(r);try{do if({done:t,value:l}=Number.isNaN(d-f)?yield Ue(y.read()):yield Ue(y.read(d-f)),!t&&l.byteLength>0&&(o.push(Ye(l)),f+=l.byteLength),t||d<=f)do({cmd:u,size:d}=yield yield Ue(g()));while(d<f);while(!t)}catch(v){(i=!0)&&(yield Ue(y.cancel(v)))}finally{i===!1?yield Ue(y.cancel()):r.locked&&y.releaseLock()}return yield Ue(null)})}class pS{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return De(this,void 0,void 0,function*(){const{reader:t,source:i}=this;t&&(yield t.cancel(e).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(e){return De(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const t=yield this.reader.read();return!t.done&&(t.value=Ye(t)),t})}}const Ed=(r,e)=>{const t=o=>i([e,o]);let i;return[e,t,new Promise(o=>(i=o)&&r.once(e,t))]};function gS(r){return dr(this,arguments,function*(){const t=[];let i="error",o=!1,l=null,u,d,f=0,g=[],y;function v(){return u==="peek"?fr(g,d)[0]:([y,g,f]=fr(g,d),y)}if({cmd:u,size:d}=yield yield Ue(null),r.isTTY)return yield yield Ue(new Uint8Array(0)),yield Ue(null);try{t[0]=Ed(r,"end"),t[1]=Ed(r,"error");do{if(t[2]=Ed(r,"readable"),[i,l]=yield Ue(Promise.race(t.map(_=>_[2]))),i==="error")break;if((o=i==="end")||(Number.isFinite(d-f)?(y=Ye(r.read(d-f)),y.byteLength<d-f&&(y=Ye(r.read()))):y=Ye(r.read()),y.byteLength>0&&(g.push(y),f+=y.byteLength)),o||d<=f)do({cmd:u,size:d}=yield yield Ue(v()));while(d<f)}while(!o)}finally{yield Ue(w(t,i==="error"?l:null))}return yield Ue(null);function w(_,N){return y=g=null,new Promise((L,P)=>{for(const[Z,j]of _)r.off(Z,j);try{const Z=r.destroy;Z&&Z.call(r,N),N=void 0}catch(Z){N=Z||N}finally{N!=null?P(N):L()}})}})}var hn;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(hn||(hn={}));var fn;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(fn||(fn={}));var tn;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(tn||(tn={}));var zr;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(zr||(zr={}));var Ke;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(Ke||(Ke={}));var fi;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(fi||(fi={}));var Ze;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(Ze||(Ze={}));var D;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth"})(D||(D={}));var xr;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(xr||(xr={}));const yS=void 0;function Ho(r){if(r===null)return"null";if(r===yS)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?r instanceof ea||r instanceof ta?`[${[...r].map(e=>Ho(e))}]`:`[${r}]`:ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r,(e,t)=>typeof t=="bigint"?`${t}`:t)}const mS=Symbol.for("isArrowBigNum");function Hn(r,...e){return e.length===0?Object.setPrototypeOf(it(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...e),this.constructor.prototype)}Hn.prototype[mS]=!0;Hn.prototype.toJSON=function(){return`"${Hi(this)}"`};Hn.prototype.valueOf=function(){return lm(this)};Hn.prototype.toString=function(){return Hi(this)};Hn.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return lm(this);case"string":return Hi(this);case"default":return Ud(this)}return Hi(this)};function Ds(...r){return Hn.apply(this,r)}function xs(...r){return Hn.apply(this,r)}function Yo(...r){return Hn.apply(this,r)}Object.setPrototypeOf(Ds.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(xs.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Yo.prototype,Object.create(Uint32Array.prototype));Object.assign(Ds.prototype,Hn.prototype,{constructor:Ds,signed:!0,TypedArray:Int32Array,BigIntArray:ea});Object.assign(xs.prototype,Hn.prototype,{constructor:xs,signed:!1,TypedArray:Uint32Array,BigIntArray:ta});Object.assign(Yo.prototype,Hn.prototype,{constructor:Yo,signed:!0,TypedArray:Uint32Array,BigIntArray:ta});function lm(r){const{buffer:e,byteOffset:t,length:i,signed:o}=r,l=new ta(e,t,i),u=o&&l[l.length-1]&BigInt(1)<<BigInt(63);let d=BigInt(u?1:0),f=BigInt(0);if(u){for(const g of l)d+=~g*(BigInt(1)<<BigInt(32)*f++);d*=BigInt(-1)}else for(const g of l)d+=g*(BigInt(1)<<BigInt(32)*f++);return d}let Hi,Ud;tS?(Ud=(r=>r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:Ad(r)),Hi=(r=>r.byteLength===8?`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`:Ad(r))):(Hi=Ad,Ud=Hi);function Ad(r){let e="";const t=new Uint32Array(2);let i=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);const o=new Uint32Array((i=new Uint16Array(i).reverse()).buffer);let l=-1;const u=i.length-1;do{for(t[0]=i[l=0];l<u;)i[l++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+i[l];i[l]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(o[0]||o[1]||o[2]||o[3]);return e??"0"}class sh{static new(e,t){switch(t){case!0:return new Ds(e);case!1:return new xs(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case ea:return new Ds(e)}return e.byteLength===16?new Yo(e):new xs(e)}static signed(e){return new Ds(e)}static unsigned(e){return new xs(e)}static decimal(e){return new Yo(e)}constructor(e,t){return sh.new(e,t)}}var um,cm,dm,hm,fm,pm,gm,ym,mm,vm,wm,bm,_m,Sm,Em,Am,Tm,Im,km;class Re{static isNull(e){return(e==null?void 0:e.typeId)===D.Null}static isInt(e){return(e==null?void 0:e.typeId)===D.Int}static isFloat(e){return(e==null?void 0:e.typeId)===D.Float}static isBinary(e){return(e==null?void 0:e.typeId)===D.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===D.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===D.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===D.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===D.Date}static isTime(e){return(e==null?void 0:e.typeId)===D.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===D.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===D.Interval}static isList(e){return(e==null?void 0:e.typeId)===D.List}static isStruct(e){return(e==null?void 0:e.typeId)===D.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===D.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===D.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===D.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===D.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===D.Dictionary}static isDenseUnion(e){return Re.isUnion(e)&&e.mode===fn.Dense}static isSparseUnion(e){return Re.isUnion(e)&&e.mode===fn.Sparse}get typeId(){return D.NONE}}um=Symbol.toStringTag;Re[um]=(r=>(r.children=null,r.ArrayType=Array,r[Symbol.toStringTag]="DataType"))(Re.prototype);let pi=class extends Re{toString(){return"Null"}get typeId(){return D.Null}};cm=Symbol.toStringTag;pi[cm]=(r=>r[Symbol.toStringTag]="Null")(pi.prototype);class gi extends Re{constructor(e,t){super(),this.isSigned=e,this.bitWidth=t}get typeId(){return D.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?ea:ta}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}dm=Symbol.toStringTag;gi[dm]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(gi.prototype);class Ko extends gi{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Ko.prototype,"ArrayType",{value:Int32Array});class qo extends Re{constructor(e){super(),this.precision=e}get typeId(){return D.Float}get ArrayType(){switch(this.precision){case tn.HALF:return Uint16Array;case tn.SINGLE:return Float32Array;case tn.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}hm=Symbol.toStringTag;qo[hm]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(qo.prototype);let Nl=class extends Re{constructor(){super()}get typeId(){return D.Binary}toString(){return"Binary"}};fm=Symbol.toStringTag;Nl[fm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))(Nl.prototype);let Ll=class extends Re{constructor(){super()}get typeId(){return D.Utf8}toString(){return"Utf8"}};pm=Symbol.toStringTag;Ll[pm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))(Ll.prototype);let Fl=class extends Re{constructor(){super()}get typeId(){return D.Bool}toString(){return"Bool"}};gm=Symbol.toStringTag;Fl[gm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(Fl.prototype);let Ol=class extends Re{constructor(e,t,i=128){super(),this.scale=e,this.precision=t,this.bitWidth=i}get typeId(){return D.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};ym=Symbol.toStringTag;Ol[ym]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(Ol.prototype);class Bl extends Re{constructor(e){super(),this.unit=e}get typeId(){return D.Date}toString(){return`Date${(this.unit+1)*32}<${zr[this.unit]}>`}}mm=Symbol.toStringTag;Bl[mm]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Date"))(Bl.prototype);class Qo extends Re{constructor(e,t){super(),this.unit=e,this.bitWidth=t}get typeId(){return D.Time}toString(){return`Time${this.bitWidth}<${Ke[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return ea}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}vm=Symbol.toStringTag;Qo[vm]=(r=>(r.unit=null,r.bitWidth=null,r[Symbol.toStringTag]="Time"))(Qo.prototype);class Pl extends Re{constructor(e,t){super(),this.unit=e,this.timezone=t}get typeId(){return D.Timestamp}toString(){return`Timestamp<${Ke[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}wm=Symbol.toStringTag;Pl[wm]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Timestamp"))(Pl.prototype);class Ml extends Re{constructor(e){super(),this.unit=e}get typeId(){return D.Interval}toString(){return`Interval<${fi[this.unit]}>`}}bm=Symbol.toStringTag;Ml[bm]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(Ml.prototype);let zl=class extends Re{constructor(e){super(),this.children=[e]}get typeId(){return D.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};_m=Symbol.toStringTag;zl[_m]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(zl.prototype);class $t extends Re{constructor(e){super(),this.children=e}get typeId(){return D.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}Sm=Symbol.toStringTag;$t[Sm]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))($t.prototype);class Ul extends Re{constructor(e,t,i){super(),this.mode=e,this.children=i,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((o,l,u)=>(o[l]=u)&&o||o,Object.create(null))}get typeId(){return D.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}Em=Symbol.toStringTag;Ul[Em]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(Ul.prototype);let Gl=class extends Re{constructor(e){super(),this.byteWidth=e}get typeId(){return D.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};Am=Symbol.toStringTag;Gl[Am]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(Gl.prototype);let jl=class extends Re{constructor(e,t){super(),this.listSize=e,this.children=[t]}get typeId(){return D.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};Tm=Symbol.toStringTag;jl[Tm]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(jl.prototype);class $l extends Re{constructor(e,t=!1){super(),this.children=[e],this.keysSorted=t}get typeId(){return D.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}Im=Symbol.toStringTag;$l[Im]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))($l.prototype);const vS=(r=>()=>++r)(-1);class Bs extends Re{constructor(e,t,i,o){super(),this.indices=t,this.dictionary=e,this.isOrdered=o||!1,this.id=i==null?vS():typeof i=="number"?i:i.low}get typeId(){return D.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}km=Symbol.toStringTag;Bs[km]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(Bs.prototype);function Rr(r){const e=r;switch(r.typeId){case D.Decimal:return r.bitWidth/32;case D.Timestamp:return 2;case D.Date:return 1+e.unit;case D.Interval:return 1+e.unit;case D.FixedSizeList:return e.listSize;case D.FixedSizeBinary:return e.byteWidth;default:return 1}}class Ve{visitMany(e,...t){return e.map((i,o)=>this.visit(i,...t.map(l=>l[o])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return wS(this,e,t)}getVisitFnByTypeId(e,t=!0){return Es(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}}function wS(r,e,t=!0){return typeof e=="number"?Es(r,e,t):typeof e=="string"&&e in D?Es(r,D[e],t):e&&e instanceof Re?Es(r,hy(e),t):e!=null&&e.type&&e.type instanceof Re?Es(r,hy(e.type),t):Es(r,D.NONE,t)}function Es(r,e,t=!0){let i=null;switch(e){case D.Null:i=r.visitNull;break;case D.Bool:i=r.visitBool;break;case D.Int:i=r.visitInt;break;case D.Int8:i=r.visitInt8||r.visitInt;break;case D.Int16:i=r.visitInt16||r.visitInt;break;case D.Int32:i=r.visitInt32||r.visitInt;break;case D.Int64:i=r.visitInt64||r.visitInt;break;case D.Uint8:i=r.visitUint8||r.visitInt;break;case D.Uint16:i=r.visitUint16||r.visitInt;break;case D.Uint32:i=r.visitUint32||r.visitInt;break;case D.Uint64:i=r.visitUint64||r.visitInt;break;case D.Float:i=r.visitFloat;break;case D.Float16:i=r.visitFloat16||r.visitFloat;break;case D.Float32:i=r.visitFloat32||r.visitFloat;break;case D.Float64:i=r.visitFloat64||r.visitFloat;break;case D.Utf8:i=r.visitUtf8;break;case D.Binary:i=r.visitBinary;break;case D.FixedSizeBinary:i=r.visitFixedSizeBinary;break;case D.Date:i=r.visitDate;break;case D.DateDay:i=r.visitDateDay||r.visitDate;break;case D.DateMillisecond:i=r.visitDateMillisecond||r.visitDate;break;case D.Timestamp:i=r.visitTimestamp;break;case D.TimestampSecond:i=r.visitTimestampSecond||r.visitTimestamp;break;case D.TimestampMillisecond:i=r.visitTimestampMillisecond||r.visitTimestamp;break;case D.TimestampMicrosecond:i=r.visitTimestampMicrosecond||r.visitTimestamp;break;case D.TimestampNanosecond:i=r.visitTimestampNanosecond||r.visitTimestamp;break;case D.Time:i=r.visitTime;break;case D.TimeSecond:i=r.visitTimeSecond||r.visitTime;break;case D.TimeMillisecond:i=r.visitTimeMillisecond||r.visitTime;break;case D.TimeMicrosecond:i=r.visitTimeMicrosecond||r.visitTime;break;case D.TimeNanosecond:i=r.visitTimeNanosecond||r.visitTime;break;case D.Decimal:i=r.visitDecimal;break;case D.List:i=r.visitList;break;case D.Struct:i=r.visitStruct;break;case D.Union:i=r.visitUnion;break;case D.DenseUnion:i=r.visitDenseUnion||r.visitUnion;break;case D.SparseUnion:i=r.visitSparseUnion||r.visitUnion;break;case D.Dictionary:i=r.visitDictionary;break;case D.Interval:i=r.visitInterval;break;case D.IntervalDayTime:i=r.visitIntervalDayTime||r.visitInterval;break;case D.IntervalYearMonth:i=r.visitIntervalYearMonth||r.visitInterval;break;case D.FixedSizeList:i=r.visitFixedSizeList;break;case D.Map:i=r.visitMap;break}if(typeof i=="function")return i;if(!t)return()=>null;throw new Error(`Unrecognized type '${D[e]}'`)}function hy(r){switch(r.typeId){case D.Null:return D.Null;case D.Int:{const{bitWidth:e,isSigned:t}=r;switch(e){case 8:return t?D.Int8:D.Uint8;case 16:return t?D.Int16:D.Uint16;case 32:return t?D.Int32:D.Uint32;case 64:return t?D.Int64:D.Uint64}return D.Int}case D.Float:switch(r.precision){case tn.HALF:return D.Float16;case tn.SINGLE:return D.Float32;case tn.DOUBLE:return D.Float64}return D.Float;case D.Binary:return D.Binary;case D.Utf8:return D.Utf8;case D.Bool:return D.Bool;case D.Decimal:return D.Decimal;case D.Time:switch(r.unit){case Ke.SECOND:return D.TimeSecond;case Ke.MILLISECOND:return D.TimeMillisecond;case Ke.MICROSECOND:return D.TimeMicrosecond;case Ke.NANOSECOND:return D.TimeNanosecond}return D.Time;case D.Timestamp:switch(r.unit){case Ke.SECOND:return D.TimestampSecond;case Ke.MILLISECOND:return D.TimestampMillisecond;case Ke.MICROSECOND:return D.TimestampMicrosecond;case Ke.NANOSECOND:return D.TimestampNanosecond}return D.Timestamp;case D.Date:switch(r.unit){case zr.DAY:return D.DateDay;case zr.MILLISECOND:return D.DateMillisecond}return D.Date;case D.Interval:switch(r.unit){case fi.DAY_TIME:return D.IntervalDayTime;case fi.YEAR_MONTH:return D.IntervalYearMonth}return D.Interval;case D.Map:return D.Map;case D.List:return D.List;case D.Struct:return D.Struct;case D.Union:switch(r.mode){case fn.Dense:return D.DenseUnion;case fn.Sparse:return D.SparseUnion}return D.Union;case D.FixedSizeBinary:return D.FixedSizeBinary;case D.FixedSizeList:return D.FixedSizeList;case D.Dictionary:return D.Dictionary}throw new Error(`Unrecognized type '${D[r.typeId]}'`)}Ve.prototype.visitInt8=null;Ve.prototype.visitInt16=null;Ve.prototype.visitInt32=null;Ve.prototype.visitInt64=null;Ve.prototype.visitUint8=null;Ve.prototype.visitUint16=null;Ve.prototype.visitUint32=null;Ve.prototype.visitUint64=null;Ve.prototype.visitFloat16=null;Ve.prototype.visitFloat32=null;Ve.prototype.visitFloat64=null;Ve.prototype.visitDateDay=null;Ve.prototype.visitDateMillisecond=null;Ve.prototype.visitTimestampSecond=null;Ve.prototype.visitTimestampMillisecond=null;Ve.prototype.visitTimestampMicrosecond=null;Ve.prototype.visitTimestampNanosecond=null;Ve.prototype.visitTimeSecond=null;Ve.prototype.visitTimeMillisecond=null;Ve.prototype.visitTimeMicrosecond=null;Ve.prototype.visitTimeNanosecond=null;Ve.prototype.visitDenseUnion=null;Ve.prototype.visitSparseUnion=null;Ve.prototype.visitIntervalDayTime=null;Ve.prototype.visitIntervalYearMonth=null;const Cm=new Float64Array(1),bs=new Uint32Array(Cm.buffer);function Dm(r){const e=(r&31744)>>10,t=(r&1023)/1024,i=Math.pow(-1,(r&32768)>>15);switch(e){case 31:return i*(t?Number.NaN:1/0);case 0:return i*(t?6103515625e-14*t:0)}return i*Math.pow(2,e-15)*(1+t)}function bS(r){if(r!==r)return 32256;Cm[0]=r;const e=(bs[1]&2147483648)>>16&65535;let t=bs[1]&2146435072,i=0;return t>=1089470464?bs[0]>0?t=31744:(t=(t&2080374784)>>16,i=(bs[1]&1048575)>>10):t<=1056964608?(i=1048576+(bs[1]&1048575),i=1048576+(i<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,i=(bs[1]&1048575)+512>>10),e|t|i&65535}class Be extends Ve{}function ze(r){return(e,t,i)=>{if(e.setValid(t,i!=null))return r(e,t,i)}}const _S=(r,e,t)=>{r[e]=Math.trunc(t/864e5)},oh=(r,e,t)=>{r[e]=Math.trunc(t%4294967296),r[e+1]=Math.trunc(t/4294967296)},SS=(r,e,t)=>{r[e]=Math.trunc(t*1e3%4294967296),r[e+1]=Math.trunc(t*1e3/4294967296)},ES=(r,e,t)=>{r[e]=Math.trunc(t*1e6%4294967296),r[e+1]=Math.trunc(t*1e6/4294967296)},xm=(r,e,t,i)=>{if(t+1<e.length){const{[t]:o,[t+1]:l}=e;r.set(i.subarray(0,l-o),o)}},AS=({offset:r,values:e},t,i)=>{const o=r+t;i?e[o>>3]|=1<<o%8:e[o>>3]&=~(1<<o%8)},Ur=({values:r},e,t)=>{r[e]=t},ah=({values:r},e,t)=>{r[e]=t},Rm=({values:r},e,t)=>{r[e]=bS(t)},TS=(r,e,t)=>{switch(r.type.precision){case tn.HALF:return Rm(r,e,t);case tn.SINGLE:case tn.DOUBLE:return ah(r,e,t)}},Nm=({values:r},e,t)=>{_S(r,e,t.valueOf())},Lm=({values:r},e,t)=>{oh(r,e*2,t.valueOf())},IS=({stride:r,values:e},t,i)=>{e.set(i.subarray(0,r),r*t)},kS=({values:r,valueOffsets:e},t,i)=>xm(r,e,t,i),CS=({values:r,valueOffsets:e},t,i)=>{xm(r,e,t,th(i))},DS=(r,e,t)=>{r.type.unit===zr.DAY?Nm(r,e,t):Lm(r,e,t)},Fm=({values:r},e,t)=>oh(r,e*2,t/1e3),Om=({values:r},e,t)=>oh(r,e*2,t),Bm=({values:r},e,t)=>SS(r,e*2,t),Pm=({values:r},e,t)=>ES(r,e*2,t),xS=(r,e,t)=>{switch(r.type.unit){case Ke.SECOND:return Fm(r,e,t);case Ke.MILLISECOND:return Om(r,e,t);case Ke.MICROSECOND:return Bm(r,e,t);case Ke.NANOSECOND:return Pm(r,e,t)}},Mm=({values:r},e,t)=>{r[e]=t},zm=({values:r},e,t)=>{r[e]=t},Um=({values:r},e,t)=>{r[e]=t},Gm=({values:r},e,t)=>{r[e]=t},RS=(r,e,t)=>{switch(r.type.unit){case Ke.SECOND:return Mm(r,e,t);case Ke.MILLISECOND:return zm(r,e,t);case Ke.MICROSECOND:return Um(r,e,t);case Ke.NANOSECOND:return Gm(r,e,t)}},NS=({values:r,stride:e},t,i)=>{r.set(i.subarray(0,e),e*t)},LS=(r,e,t)=>{const i=r.children[0],o=r.valueOffsets,l=Cn.getVisitFn(i);if(Array.isArray(t))for(let u=-1,d=o[e],f=o[e+1];d<f;)l(i,d++,t[++u]);else for(let u=-1,d=o[e],f=o[e+1];d<f;)l(i,d++,t.get(++u))},FS=(r,e,t)=>{const i=r.children[0],{valueOffsets:o}=r,l=Cn.getVisitFn(i);let{[e]:u,[e+1]:d}=o;const f=t instanceof Map?t.entries():Object.entries(t);for(const g of f)if(l(i,u,g),++u>=d)break},OS=(r,e)=>(t,i,o,l)=>i&&t(i,r,e[l]),BS=(r,e)=>(t,i,o,l)=>i&&t(i,r,e.get(l)),PS=(r,e)=>(t,i,o,l)=>i&&t(i,r,e.get(o.name)),MS=(r,e)=>(t,i,o,l)=>i&&t(i,r,e[o.name]),zS=(r,e,t)=>{const i=r.type.children.map(l=>Cn.getVisitFn(l.type)),o=t instanceof Map?PS(e,t):t instanceof Xe?BS(e,t):Array.isArray(t)?OS(e,t):MS(e,t);r.type.children.forEach((l,u)=>o(i[u],r.children[u],l,u))},US=(r,e,t)=>{r.type.mode===fn.Dense?jm(r,e,t):$m(r,e,t)},jm=(r,e,t)=>{const i=r.type.typeIdToChildIndex[r.typeIds[e]],o=r.children[i];Cn.visit(o,r.valueOffsets[e],t)},$m=(r,e,t)=>{const i=r.type.typeIdToChildIndex[r.typeIds[e]],o=r.children[i];Cn.visit(o,e,t)},GS=(r,e,t)=>{var i;(i=r.dictionary)===null||i===void 0||i.set(r.values[e],t)},jS=(r,e,t)=>{r.type.unit===fi.DAY_TIME?Vm(r,e,t):Wm(r,e,t)},Vm=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},Wm=({values:r},e,t)=>{r[e]=t[0]*12+t[1]%12},$S=(r,e,t)=>{const{stride:i}=r,o=r.children[0],l=Cn.getVisitFn(o);if(Array.isArray(t))for(let u=-1,d=e*i;++u<i;)l(o,d+u,t[u]);else for(let u=-1,d=e*i;++u<i;)l(o,d+u,t.get(u))};Be.prototype.visitBool=ze(AS);Be.prototype.visitInt=ze(Ur);Be.prototype.visitInt8=ze(Ur);Be.prototype.visitInt16=ze(Ur);Be.prototype.visitInt32=ze(Ur);Be.prototype.visitInt64=ze(Ur);Be.prototype.visitUint8=ze(Ur);Be.prototype.visitUint16=ze(Ur);Be.prototype.visitUint32=ze(Ur);Be.prototype.visitUint64=ze(Ur);Be.prototype.visitFloat=ze(TS);Be.prototype.visitFloat16=ze(Rm);Be.prototype.visitFloat32=ze(ah);Be.prototype.visitFloat64=ze(ah);Be.prototype.visitUtf8=ze(CS);Be.prototype.visitBinary=ze(kS);Be.prototype.visitFixedSizeBinary=ze(IS);Be.prototype.visitDate=ze(DS);Be.prototype.visitDateDay=ze(Nm);Be.prototype.visitDateMillisecond=ze(Lm);Be.prototype.visitTimestamp=ze(xS);Be.prototype.visitTimestampSecond=ze(Fm);Be.prototype.visitTimestampMillisecond=ze(Om);Be.prototype.visitTimestampMicrosecond=ze(Bm);Be.prototype.visitTimestampNanosecond=ze(Pm);Be.prototype.visitTime=ze(RS);Be.prototype.visitTimeSecond=ze(Mm);Be.prototype.visitTimeMillisecond=ze(zm);Be.prototype.visitTimeMicrosecond=ze(Um);Be.prototype.visitTimeNanosecond=ze(Gm);Be.prototype.visitDecimal=ze(NS);Be.prototype.visitList=ze(LS);Be.prototype.visitStruct=ze(zS);Be.prototype.visitUnion=ze(US);Be.prototype.visitDenseUnion=ze(jm);Be.prototype.visitSparseUnion=ze($m);Be.prototype.visitDictionary=ze(GS);Be.prototype.visitInterval=ze(jS);Be.prototype.visitIntervalDayTime=ze(Vm);Be.prototype.visitIntervalYearMonth=ze(Wm);Be.prototype.visitFixedSizeList=ze($S);Be.prototype.visitMap=ze(FS);const Cn=new Be,jn=Symbol.for("parent"),Rs=Symbol.for("rowIndex");class lh{constructor(e,t){return this[jn]=e,this[Rs]=t,new Proxy(this,new WS)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[Rs],t=this[jn],i=t.type.children,o={};for(let l=-1,u=i.length;++l<u;)o[i[l].name]=rn.visit(t.children[l],e);return o}toString(){return`{${[...this].map(([e,t])=>`${Ho(e)}: ${Ho(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new VS(this[jn],this[Rs])}}class VS{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,rn.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(lh.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[jn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Rs]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class WS{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[jn].type.children.map(t=>t.name)}has(e,t){return e[jn].type.children.findIndex(i=>i.name===t)!==-1}getOwnPropertyDescriptor(e,t){if(e[jn].type.children.findIndex(i=>i.name===t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const i=e[jn].type.children.findIndex(o=>o.name===t);if(i!==-1){const o=rn.visit(e[jn].children[i],e[Rs]);return Reflect.set(e,t,o),o}}set(e,t,i){const o=e[jn].type.children.findIndex(l=>l.name===t);return o!==-1?(Cn.visit(e[jn].children[o],e[Rs],i),Reflect.set(e,t,i)):Reflect.has(e,t)||typeof t=="symbol"?Reflect.set(e,t,i):!1}}class Ne extends Ve{}function Pe(r){return(e,t)=>e.getValid(t)?r(e,t):null}const HS=(r,e)=>864e5*r[e],uh=(r,e)=>4294967296*r[e+1]+(r[e]>>>0),YS=(r,e)=>4294967296*(r[e+1]/1e3)+(r[e]>>>0)/1e3,KS=(r,e)=>4294967296*(r[e+1]/1e6)+(r[e]>>>0)/1e6,Hm=r=>new Date(r),qS=(r,e)=>Hm(HS(r,e)),QS=(r,e)=>Hm(uh(r,e)),ZS=(r,e)=>null,Ym=(r,e,t)=>{if(t+1>=e.length)return null;const i=e[t],o=e[t+1];return r.subarray(i,o)},XS=({offset:r,values:e},t)=>{const i=r+t;return(e[i>>3]&1<<i%8)!==0},Km=({values:r},e)=>qS(r,e),qm=({values:r},e)=>QS(r,e*2),vi=({stride:r,values:e},t)=>e[r*t],JS=({stride:r,values:e},t)=>Dm(e[r*t]),Qm=({values:r},e)=>r[e],e1=({stride:r,values:e},t)=>e.subarray(r*t,r*(t+1)),t1=({values:r,valueOffsets:e},t)=>Ym(r,e,t),n1=({values:r,valueOffsets:e},t)=>{const i=Ym(r,e,t);return i!==null?Pd(i):null},r1=({values:r},e)=>r[e],i1=({type:r,values:e},t)=>r.precision!==tn.HALF?e[t]:Dm(e[t]),s1=(r,e)=>r.type.unit===zr.DAY?Km(r,e):qm(r,e),Zm=({values:r},e)=>1e3*uh(r,e*2),Xm=({values:r},e)=>uh(r,e*2),Jm=({values:r},e)=>YS(r,e*2),ev=({values:r},e)=>KS(r,e*2),o1=(r,e)=>{switch(r.type.unit){case Ke.SECOND:return Zm(r,e);case Ke.MILLISECOND:return Xm(r,e);case Ke.MICROSECOND:return Jm(r,e);case Ke.NANOSECOND:return ev(r,e)}},tv=({values:r},e)=>r[e],nv=({values:r},e)=>r[e],rv=({values:r},e)=>r[e],iv=({values:r},e)=>r[e],a1=(r,e)=>{switch(r.type.unit){case Ke.SECOND:return tv(r,e);case Ke.MILLISECOND:return nv(r,e);case Ke.MICROSECOND:return rv(r,e);case Ke.NANOSECOND:return iv(r,e)}},l1=({values:r,stride:e},t)=>sh.decimal(r.subarray(e*t,e*(t+1))),u1=(r,e)=>{const{valueOffsets:t,stride:i,children:o}=r,{[e*i]:l,[e*i+1]:u}=t,f=o[0].slice(l,u-l);return new Xe([f])},c1=(r,e)=>{const{valueOffsets:t,children:i}=r,{[e]:o,[e+1]:l}=t,u=i[0];return new ch(u.slice(o,l-o))},d1=(r,e)=>new lh(r,e),h1=(r,e)=>r.type.mode===fn.Dense?sv(r,e):ov(r,e),sv=(r,e)=>{const t=r.type.typeIdToChildIndex[r.typeIds[e]],i=r.children[t];return rn.visit(i,r.valueOffsets[e])},ov=(r,e)=>{const t=r.type.typeIdToChildIndex[r.typeIds[e]],i=r.children[t];return rn.visit(i,e)},f1=(r,e)=>{var t;return(t=r.dictionary)===null||t===void 0?void 0:t.get(r.values[e])},p1=(r,e)=>r.type.unit===fi.DAY_TIME?av(r,e):lv(r,e),av=({values:r},e)=>r.subarray(2*e,2*(e+1)),lv=({values:r},e)=>{const t=r[e],i=new Int32Array(2);return i[0]=Math.trunc(t/12),i[1]=Math.trunc(t%12),i},g1=(r,e)=>{const{stride:t,children:i}=r,l=i[0].slice(e*t,t);return new Xe([l])};Ne.prototype.visitNull=Pe(ZS);Ne.prototype.visitBool=Pe(XS);Ne.prototype.visitInt=Pe(r1);Ne.prototype.visitInt8=Pe(vi);Ne.prototype.visitInt16=Pe(vi);Ne.prototype.visitInt32=Pe(vi);Ne.prototype.visitInt64=Pe(Qm);Ne.prototype.visitUint8=Pe(vi);Ne.prototype.visitUint16=Pe(vi);Ne.prototype.visitUint32=Pe(vi);Ne.prototype.visitUint64=Pe(Qm);Ne.prototype.visitFloat=Pe(i1);Ne.prototype.visitFloat16=Pe(JS);Ne.prototype.visitFloat32=Pe(vi);Ne.prototype.visitFloat64=Pe(vi);Ne.prototype.visitUtf8=Pe(n1);Ne.prototype.visitBinary=Pe(t1);Ne.prototype.visitFixedSizeBinary=Pe(e1);Ne.prototype.visitDate=Pe(s1);Ne.prototype.visitDateDay=Pe(Km);Ne.prototype.visitDateMillisecond=Pe(qm);Ne.prototype.visitTimestamp=Pe(o1);Ne.prototype.visitTimestampSecond=Pe(Zm);Ne.prototype.visitTimestampMillisecond=Pe(Xm);Ne.prototype.visitTimestampMicrosecond=Pe(Jm);Ne.prototype.visitTimestampNanosecond=Pe(ev);Ne.prototype.visitTime=Pe(a1);Ne.prototype.visitTimeSecond=Pe(tv);Ne.prototype.visitTimeMillisecond=Pe(nv);Ne.prototype.visitTimeMicrosecond=Pe(rv);Ne.prototype.visitTimeNanosecond=Pe(iv);Ne.prototype.visitDecimal=Pe(l1);Ne.prototype.visitList=Pe(u1);Ne.prototype.visitStruct=Pe(d1);Ne.prototype.visitUnion=Pe(h1);Ne.prototype.visitDenseUnion=Pe(sv);Ne.prototype.visitSparseUnion=Pe(ov);Ne.prototype.visitDictionary=Pe(f1);Ne.prototype.visitInterval=Pe(p1);Ne.prototype.visitIntervalDayTime=Pe(av);Ne.prototype.visitIntervalYearMonth=Pe(lv);Ne.prototype.visitFixedSizeList=Pe(g1);Ne.prototype.visitMap=Pe(c1);const rn=new Ne,sr=Symbol.for("keys"),Ns=Symbol.for("vals");class ch{constructor(e){return this[sr]=new Xe([e.children[0]]).memoize(),this[Ns]=e.children[1],new Proxy(this,new m1)}[Symbol.iterator](){return new y1(this[sr],this[Ns])}get size(){return this[sr].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[sr],t=this[Ns],i={};for(let o=-1,l=e.length;++o<l;)i[e.get(o)]=rn.visit(t,o);return i}toString(){return`{${[...this].map(([e,t])=>`${Ho(e)}: ${Ho(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class y1{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),rn.visit(this.vals,e)]})}}class m1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[sr].toArray().map(String)}has(e,t){return e[sr].includes(t)}getOwnPropertyDescriptor(e,t){if(e[sr].indexOf(t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const i=e[sr].indexOf(t);if(i!==-1){const o=rn.visit(Reflect.get(e,Ns),i);return Reflect.set(e,t,o),o}}set(e,t,i){const o=e[sr].indexOf(t);return o!==-1?(Cn.visit(Reflect.get(e,Ns),o,i),Reflect.set(e,t,i)):Reflect.has(e,t)?Reflect.set(e,t,i):!1}}Object.defineProperties(ch.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[sr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ns]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let fy;function uv(r,e,t,i){const{length:o=0}=r;let l=typeof e!="number"?0:e,u=typeof t!="number"?o:t;return l<0&&(l=(l%o+o)%o),u<0&&(u=(u%o+o)%o),u<l&&(fy=l,l=u,u=fy),u>o&&(u=o),i?i(r,l,u):[l,u]}const py=r=>r!==r;function Vs(r){if(typeof r!=="object"||r===null)return py(r)?py:t=>t===r;if(r instanceof Date){const t=r.valueOf();return i=>i instanceof Date?i.valueOf()===t:!1}return ArrayBuffer.isView(r)?t=>t?cS(r,t):!1:r instanceof Map?w1(r):Array.isArray(r)?v1(r):r instanceof Xe?b1(r):_1(r,!0)}function v1(r){const e=[];for(let t=-1,i=r.length;++t<i;)e[t]=Vs(r[t]);return cu(e)}function w1(r){let e=-1;const t=[];for(const i of r.values())t[++e]=Vs(i);return cu(t)}function b1(r){const e=[];for(let t=-1,i=r.length;++t<i;)e[t]=Vs(r.get(t));return cu(e)}function _1(r,e=!1){const t=Object.keys(r);if(!e&&t.length===0)return()=>!1;const i=[];for(let o=-1,l=t.length;++o<l;)i[o]=Vs(r[t[o]]);return cu(i,t)}function cu(r,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return S1(r,t);case Map:return gy(r,t,t.keys());case ch:case lh:case Object:case void 0:return gy(r,t,e||Object.keys(t))}return t instanceof Xe?E1(r,t):!1}}function S1(r,e){const t=r.length;if(e.length!==t)return!1;for(let i=-1;++i<t;)if(!r[i](e[i]))return!1;return!0}function E1(r,e){const t=r.length;if(e.length!==t)return!1;for(let i=-1;++i<t;)if(!r[i](e.get(i)))return!1;return!0}function gy(r,e,t){const i=t[Symbol.iterator](),o=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),l=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let u=0;const d=r.length;let f=l.next(),g=i.next(),y=o.next();for(;u<d&&!g.done&&!y.done&&!f.done&&!(g.value!==y.value||!r[u](f.value));++u,g=i.next(),y=o.next(),f=l.next());return u===d&&g.done&&y.done&&f.done?!0:(i.return&&i.return(),o.return&&o.return(),l.return&&l.return(),!1)}function cv(r,e,t,i){return(t&1<<i)!==0}function A1(r,e,t,i){return(t&1<<i)>>i}function dh(r,e,t){const i=t.byteLength+7&-8;if(r>0||t.byteLength<i){const o=new Uint8Array(i);return o.set(r%8===0?t.subarray(r>>3):Vl(new hh(t,r,e,null,cv)).subarray(0,i)),o}return t}function Vl(r){const e=[];let t=0,i=0,o=0;for(const u of r)u&&(o|=1<<i),++i===8&&(e[t++]=o,o=i=0);(t===0||i>0)&&(e[t++]=o);const l=new Uint8Array(e.length+7&-8);return l.set(e),l}class hh{constructor(e,t,i,o,l){this.bytes=e,this.length=i,this.context=o,this.get=l,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Gd(r,e,t){if(t-e<=0)return 0;if(t-e<8){let l=0;for(const u of new hh(r,e,t-e,r,A1))l+=u;return l}const i=t>>3<<3,o=e+(e%8===0?0:8-e%8);return Gd(r,e,o)+Gd(r,i,t)+T1(r,o>>3,i-o>>3)}function T1(r,e,t){let i=0,o=Math.trunc(e);const l=new DataView(r.buffer,r.byteOffset,r.byteLength),u=t===void 0?r.byteLength:o+t;for(;u-o>=4;)i+=Td(l.getUint32(o)),o+=4;for(;u-o>=2;)i+=Td(l.getUint16(o)),o+=2;for(;u-o>=1;)i+=Td(l.getUint8(o)),o+=1;return i}function Td(r){let e=Math.trunc(r);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const I1=-1;class at{constructor(e,t,i,o,l,u=[],d){this.type=e,this.children=u,this.dictionary=d,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(o||0,-1));let f;l instanceof at?(this.stride=l.stride,this.values=l.values,this.typeIds=l.typeIds,this.nullBitmap=l.nullBitmap,this.valueOffsets=l.valueOffsets):(this.stride=Rr(e),l&&((f=l[0])&&(this.valueOffsets=f),(f=l[1])&&(this.values=f),(f=l[2])&&(this.nullBitmap=f),(f=l[3])&&(this.typeIds=f))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0;const{valueOffsets:t,values:i,nullBitmap:o,typeIds:l}=this;return t&&(e+=t.byteLength),i&&(e+=i.byteLength),o&&(e+=o.byteLength),l&&(e+=l.byteLength),this.children.reduce((u,d)=>u+d.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=I1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Gd(t,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){const t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){const{nullBitmap:f}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:f,_nullCount:0})}const{nullBitmap:i,offset:o}=this,l=o+e>>3,u=(o+e)%8,d=i[l]>>u&1;return t?d===0&&(i[l]|=1<<u,this._nullCount=this.nullCount+1):d===1&&(i[l]&=~(1<<u),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,i=this.length,o=this._nullCount,l=this,u=this.children){return new at(e,t,i,o,l,u,this.dictionary)}slice(e,t){const{stride:i,typeId:o,children:l}=this,u=+(this._nullCount===0)-1,d=o===16?i:1,f=this._sliceBuffers(e,t,i,o);return this.clone(this.type,this.offset+e,t,u,f,l.length===0||this.valueOffsets?l:this._sliceChildren(l,d*e,d*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===D.Null)return this.clone(this.type,0,e,0);const{length:t,nullCount:i}=this,o=new Uint8Array((e+63&-64)>>3).fill(255,0,t>>3);o[t>>3]=(1<<t-(t&-8))-1,i>0&&o.set(dh(this.offset,t,this.nullBitmap),0);const l=this.buffers;return l[xr.VALIDITY]=o,this.clone(this.type,0,e,i+(e-t),l)}_sliceBuffers(e,t,i,o){let l;const{buffers:u}=this;return(l=u[xr.TYPE])&&(u[xr.TYPE]=l.subarray(e,e+t)),(l=u[xr.OFFSET])&&(u[xr.OFFSET]=l.subarray(e,e+t+1))||(l=u[xr.DATA])&&(u[xr.DATA]=o===6?l:l.subarray(i*e,i*(e+t))),u}_sliceChildren(e,t,i){return e.map(o=>o.slice(t,i))}}at.prototype.children=Object.freeze([]);class $o extends Ve{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:t,["offset"]:i=0,["length"]:o=0}=e;return new at(t,i,o,0)}visitBool(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.nullBitmap),l=it(t.ArrayType,e.data),{["length"]:u=l.length>>3,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,l,o])}visitInt(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.nullBitmap),l=it(t.ArrayType,e.data),{["length"]:u=l.length,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,l,o])}visitFloat(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.nullBitmap),l=it(t.ArrayType,e.data),{["length"]:u=l.length,["nullCount"]:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,l,o])}visitUtf8(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.data),l=Ye(e.nullBitmap),u=Po(e.valueOffsets),{["length"]:d=u.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new at(t,i,d,f,[u,o,l])}visitBinary(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.data),l=Ye(e.nullBitmap),u=Po(e.valueOffsets),{["length"]:d=u.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new at(t,i,d,f,[u,o,l])}visitFixedSizeBinary(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.nullBitmap),l=it(t.ArrayType,e.data),{["length"]:u=l.length/Rr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,l,o])}visitDate(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.nullBitmap),l=it(t.ArrayType,e.data),{["length"]:u=l.length/Rr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,l,o])}visitTimestamp(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.nullBitmap),l=it(t.ArrayType,e.data),{["length"]:u=l.length/Rr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,l,o])}visitTime(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.nullBitmap),l=it(t.ArrayType,e.data),{["length"]:u=l.length/Rr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,l,o])}visitDecimal(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.nullBitmap),l=it(t.ArrayType,e.data),{["length"]:u=l.length/Rr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,l,o])}visitList(e){const{["type"]:t,["offset"]:i=0,["child"]:o}=e,l=Ye(e.nullBitmap),u=Po(e.valueOffsets),{["length"]:d=u.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new at(t,i,d,f,[u,void 0,l],[o])}visitStruct(e){const{["type"]:t,["offset"]:i=0,["children"]:o=[]}=e,l=Ye(e.nullBitmap),{length:u=o.reduce((f,{length:g})=>Math.max(f,g),0),nullCount:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,void 0,l],o)}visitUnion(e){const{["type"]:t,["offset"]:i=0,["children"]:o=[]}=e,l=Ye(e.nullBitmap),u=it(t.ArrayType,e.typeIds),{["length"]:d=u.length,["nullCount"]:f=e.nullBitmap?-1:0}=e;if(Re.isSparseUnion(t))return new at(t,i,d,f,[void 0,void 0,l,u],o);const g=Po(e.valueOffsets);return new at(t,i,d,f,[g,void 0,l,u],o)}visitDictionary(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.nullBitmap),l=it(t.indices.ArrayType,e.data),{["dictionary"]:u=new Xe([new $o().visit({type:t.dictionary})])}=e,{["length"]:d=l.length,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new at(t,i,d,f,[void 0,l,o],[],u)}visitInterval(e){const{["type"]:t,["offset"]:i=0}=e,o=Ye(e.nullBitmap),l=it(t.ArrayType,e.data),{["length"]:u=l.length/Rr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,l,o])}visitFixedSizeList(e){const{["type"]:t,["offset"]:i=0,["child"]:o=new $o().visit({type:t.valueType})}=e,l=Ye(e.nullBitmap),{["length"]:u=o.length/Rr(t),["nullCount"]:d=e.nullBitmap?-1:0}=e;return new at(t,i,u,d,[void 0,void 0,l],[o])}visitMap(e){const{["type"]:t,["offset"]:i=0,["child"]:o=new $o().visit({type:t.childType})}=e,l=Ye(e.nullBitmap),u=Po(e.valueOffsets),{["length"]:d=u.length-1,["nullCount"]:f=e.nullBitmap?-1:0}=e;return new at(t,i,d,f,[u,void 0,l],[o])}}function $e(r){return new $o().visit(r)}class yy{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function dv(r){return r.reduce((e,t)=>e+t.nullCount,0)}function hv(r){return r.reduce((e,t,i)=>(e[i+1]=e[i]+t.length,e),new Uint32Array(r.length+1))}function fv(r,e,t,i){const o=[];for(let l=-1,u=r.length;++l<u;){const d=r[l],f=e[l],{length:g}=d;if(f>=i)break;if(t>=f+g)continue;if(f>=t&&f+g<=i){o.push(d);continue}const y=Math.max(0,t-f),v=Math.min(i-f,g);o.push(d.slice(y,v-y))}return o.length===0&&o.push(r[0].slice(0,0)),o}function fh(r,e,t,i){let o=0,l=0,u=e.length-1;do{if(o>=u-1)return t<e[u]?i(r,o,t-e[o]):null;l=o+Math.trunc((u-o)*.5),t<e[l]?u=l:o=l}while(o<u)}function ph(r,e){return r.getValid(e)}function Ls(r){function e(t,i,o){return r(t[i],o)}return function(t){const i=this.data;return fh(i,this._offsets,t,e)}}function pv(r){let e;function t(i,o,l){return r(i[o],l,e)}return function(i,o){const l=this.data;e=o;const u=fh(l,this._offsets,i,t);return e=void 0,u}}function gv(r){let e;function t(i,o,l){let u=l,d=0,f=0;for(let g=o-1,y=i.length;++g<y;){const v=i[g];if(~(d=r(v,e,u)))return f+d;u=0,f+=v.length}return-1}return function(i,o){e=i;const l=this.data,u=typeof o!="number"?t(l,0,0):fh(l,this._offsets,o,t);return e=void 0,u}}class Le extends Ve{}function k1(r,e){return e===null&&r.length>0?0:-1}function C1(r,e){const{nullBitmap:t}=r;if(!t||r.nullCount<=0)return-1;let i=0;for(const o of new hh(t,r.offset+(e||0),r.length,t,cv)){if(!o)return i;++i}return-1}function Ge(r,e,t){if(e===void 0)return-1;if(e===null)return C1(r,t);const i=rn.getVisitFn(r),o=Vs(e);for(let l=(t||0)-1,u=r.length;++l<u;)if(o(i(r,l)))return l;return-1}function yv(r,e,t){const i=rn.getVisitFn(r),o=Vs(e);for(let l=(t||0)-1,u=r.length;++l<u;)if(o(i(r,l)))return l;return-1}Le.prototype.visitNull=k1;Le.prototype.visitBool=Ge;Le.prototype.visitInt=Ge;Le.prototype.visitInt8=Ge;Le.prototype.visitInt16=Ge;Le.prototype.visitInt32=Ge;Le.prototype.visitInt64=Ge;Le.prototype.visitUint8=Ge;Le.prototype.visitUint16=Ge;Le.prototype.visitUint32=Ge;Le.prototype.visitUint64=Ge;Le.prototype.visitFloat=Ge;Le.prototype.visitFloat16=Ge;Le.prototype.visitFloat32=Ge;Le.prototype.visitFloat64=Ge;Le.prototype.visitUtf8=Ge;Le.prototype.visitBinary=Ge;Le.prototype.visitFixedSizeBinary=Ge;Le.prototype.visitDate=Ge;Le.prototype.visitDateDay=Ge;Le.prototype.visitDateMillisecond=Ge;Le.prototype.visitTimestamp=Ge;Le.prototype.visitTimestampSecond=Ge;Le.prototype.visitTimestampMillisecond=Ge;Le.prototype.visitTimestampMicrosecond=Ge;Le.prototype.visitTimestampNanosecond=Ge;Le.prototype.visitTime=Ge;Le.prototype.visitTimeSecond=Ge;Le.prototype.visitTimeMillisecond=Ge;Le.prototype.visitTimeMicrosecond=Ge;Le.prototype.visitTimeNanosecond=Ge;Le.prototype.visitDecimal=Ge;Le.prototype.visitList=Ge;Le.prototype.visitStruct=Ge;Le.prototype.visitUnion=Ge;Le.prototype.visitDenseUnion=yv;Le.prototype.visitSparseUnion=yv;Le.prototype.visitDictionary=Ge;Le.prototype.visitInterval=Ge;Le.prototype.visitIntervalDayTime=Ge;Le.prototype.visitIntervalYearMonth=Ge;Le.prototype.visitFixedSizeList=Ge;Le.prototype.visitMap=Ge;const Wl=new Le;class Fe extends Ve{}function Me(r){const{type:e}=r;if(r.nullCount===0&&r.stride===1&&(e.typeId===D.Timestamp||e instanceof gi&&e.bitWidth!==64||e instanceof Qo&&e.bitWidth!==64||e instanceof qo&&e.precision!==tn.HALF))return new yy(r.data.length,i=>{const o=r.data[i];return o.values.subarray(0,o.length)[Symbol.iterator]()});let t=0;return new yy(r.data.length,i=>{const l=r.data[i].length,u=r.slice(t,t+l);return t+=l,new D1(u)})}class D1{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Fe.prototype.visitNull=Me;Fe.prototype.visitBool=Me;Fe.prototype.visitInt=Me;Fe.prototype.visitInt8=Me;Fe.prototype.visitInt16=Me;Fe.prototype.visitInt32=Me;Fe.prototype.visitInt64=Me;Fe.prototype.visitUint8=Me;Fe.prototype.visitUint16=Me;Fe.prototype.visitUint32=Me;Fe.prototype.visitUint64=Me;Fe.prototype.visitFloat=Me;Fe.prototype.visitFloat16=Me;Fe.prototype.visitFloat32=Me;Fe.prototype.visitFloat64=Me;Fe.prototype.visitUtf8=Me;Fe.prototype.visitBinary=Me;Fe.prototype.visitFixedSizeBinary=Me;Fe.prototype.visitDate=Me;Fe.prototype.visitDateDay=Me;Fe.prototype.visitDateMillisecond=Me;Fe.prototype.visitTimestamp=Me;Fe.prototype.visitTimestampSecond=Me;Fe.prototype.visitTimestampMillisecond=Me;Fe.prototype.visitTimestampMicrosecond=Me;Fe.prototype.visitTimestampNanosecond=Me;Fe.prototype.visitTime=Me;Fe.prototype.visitTimeSecond=Me;Fe.prototype.visitTimeMillisecond=Me;Fe.prototype.visitTimeMicrosecond=Me;Fe.prototype.visitTimeNanosecond=Me;Fe.prototype.visitDecimal=Me;Fe.prototype.visitList=Me;Fe.prototype.visitStruct=Me;Fe.prototype.visitUnion=Me;Fe.prototype.visitDenseUnion=Me;Fe.prototype.visitSparseUnion=Me;Fe.prototype.visitDictionary=Me;Fe.prototype.visitInterval=Me;Fe.prototype.visitIntervalDayTime=Me;Fe.prototype.visitIntervalYearMonth=Me;Fe.prototype.visitFixedSizeList=Me;Fe.prototype.visitMap=Me;const gh=new Fe,x1=(r,e)=>r+e;class wi extends Ve{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===Ke.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((i,o)=>i+pr.visit(o,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((i,o)=>i+pr.visit(o,t),0)}visitDictionary(e,t){var i;return e.type.indices.bitWidth/8+(((i=e.dictionary)===null||i===void 0?void 0:i.getByteLength(e.values[t]))||0)}}const R1=({valueOffsets:r},e)=>8+(r[e+1]-r[e]),N1=({valueOffsets:r},e)=>8+(r[e+1]-r[e]),L1=({valueOffsets:r,stride:e,children:t},i)=>{const o=t[0],{[i*e]:l}=r,{[i*e+1]:u}=r,d=pr.getVisitFn(o.type),f=o.slice(l,u-l);let g=8;for(let y=-1,v=u-l;++y<v;)g+=d(f,y);return g},F1=({stride:r,children:e},t)=>{const i=e[0],o=i.slice(t*r,r),l=pr.getVisitFn(i.type);let u=0;for(let d=-1,f=o.length;++d<f;)u+=l(o,d);return u},O1=(r,e)=>r.type.mode===fn.Dense?mv(r,e):vv(r,e),mv=({type:r,children:e,typeIds:t,valueOffsets:i},o)=>{const l=r.typeIdToChildIndex[t[o]];return 8+pr.visit(e[l],i[o])},vv=({children:r},e)=>4+pr.visitMany(r,r.map(()=>e)).reduce(x1,0);wi.prototype.visitUtf8=R1;wi.prototype.visitBinary=N1;wi.prototype.visitList=L1;wi.prototype.visitFixedSizeList=F1;wi.prototype.visitUnion=O1;wi.prototype.visitDenseUnion=mv;wi.prototype.visitSparseUnion=vv;const pr=new wi;var wv;const bv={},_v={};class Xe{constructor(e){var t,i,o;const l=e[0]instanceof Xe?e.flatMap(d=>d.data):e;if(l.length===0||l.some(d=>!(d instanceof at)))throw new TypeError("Vector constructor expects an Array of Data instances.");const u=(t=l[0])===null||t===void 0?void 0:t.type;switch(l.length){case 0:this._offsets=[0];break;case 1:{const{get:d,set:f,indexOf:g,byteLength:y}=bv[u.typeId],v=l[0];this.isValid=w=>ph(v,w),this.get=w=>d(v,w),this.set=(w,_)=>f(v,w,_),this.indexOf=w=>g(v,w),this.getByteLength=w=>y(v,w),this._offsets=[0,v.length];break}default:Object.setPrototypeOf(this,_v[u.typeId]),this._offsets=hv(l);break}this.data=l,this.type=u,this.stride=Rr(u),this.numChildren=(o=(i=u.children)===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=dv(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${D[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return gh.visit(this)}concat(...e){return new Xe(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new Xe(uv(this,e,t,({data:i,_offsets:o},l,u)=>fv(i,o,l,u)))}toJSON(){return[...this]}toArray(){const{type:e,data:t,length:i,stride:o,ArrayType:l}=this;switch(e.typeId){case D.Int:case D.Float:case D.Decimal:case D.Time:case D.Timestamp:switch(t.length){case 0:return new l;case 1:return t[0].values.subarray(0,i*o);default:return t.reduce((u,{values:d,length:f})=>(u.array.set(d.subarray(0,f*o),u.offset),u.offset+=f*o,u),{array:new l(i*o),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt((t=this.type.children)===null||t===void 0?void 0:t.findIndex(i=>i.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Xe(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return Re.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Re.isDictionary(this.type)){const e=new Hl(this.data[0].dictionary),t=this.data.map(i=>{const o=i.clone();return o.dictionary=e,o});return new Xe(t)}return new Hl(this)}unmemoize(){if(Re.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),t=this.data.map(i=>{const o=i.clone();return o.dictionary=e,o});return new Xe(t)}return this}}wv=Symbol.toStringTag;Xe[wv]=(r=>{r.type=Re.prototype,r.data=[],r.length=0,r.stride=1,r.numChildren=0,r._nullCount=-1,r._byteLength=-1,r._offsets=new Uint32Array([0]),r[Symbol.isConcatSpreadable]=!0;const e=Object.keys(D).map(t=>D[t]).filter(t=>typeof t=="number"&&t!==D.NONE);for(const t of e){const i=rn.getVisitFnByTypeId(t),o=Cn.getVisitFnByTypeId(t),l=Wl.getVisitFnByTypeId(t),u=pr.getVisitFnByTypeId(t);bv[t]={get:i,set:o,indexOf:l,byteLength:u},_v[t]=Object.create(r,{isValid:{value:Ls(ph)},get:{value:Ls(rn.getVisitFnByTypeId(t))},set:{value:pv(Cn.getVisitFnByTypeId(t))},indexOf:{value:gv(Wl.getVisitFnByTypeId(t))},getByteLength:{value:Ls(pr.getVisitFnByTypeId(t))}})}return"Vector"})(Xe.prototype);class Hl extends Xe{constructor(e){super(e.data);const t=this.get,i=this.set,o=this.slice,l=new Array(this.length);Object.defineProperty(this,"get",{value(u){const d=l[u];if(d!==void 0)return d;const f=t.call(this,u);return l[u]=f,f}}),Object.defineProperty(this,"set",{value(u,d){i.call(this,u,d),l[u]=d}}),Object.defineProperty(this,"slice",{value:(u,d)=>new Hl(o.call(this,u,d))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Xe(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class jd{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,t,i,o){return e.prep(8,24),e.writeInt64(o),e.pad(4),e.writeInt32(i),e.writeInt64(t),e.offset()}}const Id=2,or=4,Fr=4,st=4,ci=new Int32Array(2),my=new Float32Array(ci.buffer),vy=new Float64Array(ci.buffer),_l=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let Br=class $d{constructor(e,t){this.low=e|0,this.high=t|0}static create(e,t){return e==0&&t==0?$d.ZERO:new $d(e,t)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(e){return this.low==e.low&&this.high==e.high}};Br.ZERO=new Br(0,0);var Vd;(function(r){r[r.UTF8_BYTES=1]="UTF8_BYTES",r[r.UTF16_STRING=2]="UTF16_STRING"})(Vd||(Vd={}));let Ps=class Sv{constructor(e){this.bytes_=e,this.position_=0}static allocate(e){return new Sv(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return new Br(this.readInt32(e),this.readInt32(e+4))}readUint64(e){return new Br(this.readUint32(e),this.readUint32(e+4))}readFloat32(e){return ci[0]=this.readInt32(e),my[0]}readFloat64(e){return ci[_l?0:1]=this.readInt32(e),ci[_l?1:0]=this.readInt32(e+4),vy[0]}writeInt8(e,t){this.bytes_[e]=t}writeUint8(e,t){this.bytes_[e]=t}writeInt16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeUint16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeInt32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeUint32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeInt64(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)}writeUint64(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)}writeFloat32(e,t){my[0]=t,this.writeInt32(e,ci[0])}writeFloat64(e,t){vy[0]=t,this.writeInt32(e,ci[_l?0:1]),this.writeInt32(e+4,ci[_l?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+or+Fr)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let t=0;t<Fr;t++)e+=String.fromCharCode(this.readInt8(this.position_+or+t));return e}__offset(e,t){const i=e-this.readInt32(e);return t<this.readInt16(i)?this.readInt16(i+t):0}__union(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e}__string(e,t){e+=this.readInt32(e);const i=this.readInt32(e);let o="",l=0;if(e+=or,t===Vd.UTF8_BYTES)return this.bytes_.subarray(e,e+i);for(;l<i;){let u;const d=this.readUint8(e+l++);if(d<192)u=d;else{const f=this.readUint8(e+l++);if(d<224)u=(d&31)<<6|f&63;else{const g=this.readUint8(e+l++);if(d<240)u=(d&15)<<12|(f&63)<<6|g&63;else{const y=this.readUint8(e+l++);u=(d&7)<<18|(f&63)<<12|(g&63)<<6|y&63}}}u<65536?o+=String.fromCharCode(u):(u-=65536,o+=String.fromCharCode((u>>10)+55296,(u&1023)+56320))}return o}__union_with_string(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+or}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=Fr)throw new Error("FlatBuffers: file identifier must be length "+Fr);for(let t=0;t<Fr;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+or+t))return!1;return!0}createLong(e,t){return Br.create(e,t)}createScalarList(e,t){const i=[];for(let o=0;o<t;++o)e(o)!==null&&i.push(e(o));return i}createObjList(e,t){const i=[];for(let o=0;o<t;++o){const l=e(o);l!==null&&i.push(l.unpack())}return i}},Ev=class Av{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let t;e?t=e:t=1024,this.bb=Ps.allocate(t),this.space=t}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,t){e>this.minalign&&(this.minalign=e);const i=~(this.bb.capacity()-this.space+t)+1&e-1;for(;this.space<i+e+t;){const o=this.bb.capacity();this.bb=Av.growByteBuffer(this.bb),this.space+=this.bb.capacity()-o}this.pad(i)}pad(e){for(let t=0;t<e;t++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,t,i){(this.force_defaults||t!=i)&&(this.addInt8(t),this.slot(e))}addFieldInt16(e,t,i){(this.force_defaults||t!=i)&&(this.addInt16(t),this.slot(e))}addFieldInt32(e,t,i){(this.force_defaults||t!=i)&&(this.addInt32(t),this.slot(e))}addFieldInt64(e,t,i){(this.force_defaults||!t.equals(i))&&(this.addInt64(t),this.slot(e))}addFieldFloat32(e,t,i){(this.force_defaults||t!=i)&&(this.addFloat32(t),this.slot(e))}addFieldFloat64(e,t,i){(this.force_defaults||t!=i)&&(this.addFloat64(t),this.slot(e))}addFieldOffset(e,t,i){(this.force_defaults||t!=i)&&(this.addOffset(t),this.slot(e))}addFieldStruct(e,t,i){t!=i&&(this.nested(t),this.slot(e))}nested(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=t<<1,o=Ps.allocate(i);return o.setPosition(i-t),o.bytes().set(e.bytes(),i-t),o}addOffset(e){this.prep(or,0),this.writeInt32(this.offset()-e+or)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let t=this.vtable_in_use-1;for(;t>=0&&this.vtable[t]==0;t--);const i=t+1;for(;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);const o=2;this.addInt16(e-this.object_start);const l=(i+o)*Id;this.addInt16(l);let u=0;const d=this.space;e:for(t=0;t<this.vtables.length;t++){const f=this.bb.capacity()-this.vtables[t];if(l==this.bb.readInt16(f)){for(let g=Id;g<l;g+=Id)if(this.bb.readInt16(d+g)!=this.bb.readInt16(f+g))continue e;u=this.vtables[t];break}}return u?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,u-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,t,i){const o=i?st:0;if(t){const l=t;if(this.prep(this.minalign,or+Fr+o),l.length!=Fr)throw new Error("FlatBuffers: file identifier must be length "+Fr);for(let u=Fr-1;u>=0;u--)this.writeInt8(l.charCodeAt(u))}this.prep(this.minalign,or+o),this.addOffset(e),o&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,t){this.finish(e,t,!0)}requiredField(e,t){const i=this.bb.capacity()-e,o=i-this.bb.readInt32(i);if(!(this.bb.readInt16(o+t)!=0))throw new Error("FlatBuffers: field "+t+" must be set")}startVector(e,t,i){this.notNested(),this.vector_num_elems=t,this.prep(or,e*t),this.prep(i,e*t)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const t=this.createString(e);return this.string_maps.set(e,t),t}createString(e){if(!e)return 0;let t;if(e instanceof Uint8Array)t=e;else{t=[];let i=0;for(;i<e.length;){let o;const l=e.charCodeAt(i++);if(l<55296||l>=56320)o=l;else{const u=e.charCodeAt(i++);o=(l<<10)+u+-56613888}o<128?t.push(o):(o<2048?t.push(o>>6&31|192):(o<65536?t.push(o>>12&15|224):t.push(o>>18&7|240,o>>12&63|128),t.push(o>>6&63|128)),t.push(o&63|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(let i=0,o=this.space,l=this.bb.bytes();i<t.length;i++)l[o++]=t[i];return this.endVector()}createLong(e,t){return Br.create(e,t)}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const t=[];for(let i=0;i<e.length;++i){const o=e[i];if(o!==null)t.push(this.createObjectOffset(o));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t}createStructOffsetList(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()}};class It{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new It).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+st),(t||new It).__init(e.readInt32(e.position())+e.position(),e)}key(e){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,i){return It.startKeyValue(e),It.addKey(e,t),It.addValue(e,i),It.endKeyValue(e)}}var Ms;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(Ms||(Ms={}));var zs;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(zs||(zs={}));var Yl;(function(r){r[r.DenseArray=0]="DenseArray"})(Yl||(Yl={}));class dn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new dn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+st),(t||new dn).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,i){return dn.startInt(e),dn.addBitWidth(e,t),dn.addIsSigned(e,i),dn.endInt(e)}}class Or{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new Or).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+st),(t||new Or).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){const t=this.bb.__offset(this.bb_pos,6);return t?(e||new dn).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Yl.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,Yl.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class zi{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new zi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+st),(t||new zi).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return zi.startBinary(e),zi.endBinary(e)}}class Ui{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new Ui).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+st),(t||new Ui).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return Ui.startBool(e),Ui.endBool(e)}}var Kl;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(Kl||(Kl={}));let Il=class As{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new As).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+st),(t||new As).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Kl.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Kl.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return As.startDate(e),As.addUnit(e,t),As.endDate(e)}};class Xt{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new Xt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+st),(t||new Xt).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,i,o){return Xt.startDecimal(e),Xt.addPrecision(e,t),Xt.addScale(e,i),Xt.addBitWidth(e,o),Xt.endDecimal(e)}}var Us;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(Us||(Us={}));class ar{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new ar).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+st),(t||new ar).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return ar.startFixedSizeBinary(e),ar.addByteWidth(e,t),ar.endFixedSizeBinary(e)}}class lr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new lr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+st),(t||new lr).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return lr.startFixedSizeList(e),lr.addListSize(e,t),lr.endFixedSizeList(e)}}var ql;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(ql||(ql={}));class ur{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new ur).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+st),(t||new ur).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ql.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,ql.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return ur.startFloatingPoint(e),ur.addPrecision(e,t),ur.endFloatingPoint(e)}}var Ql;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Ql||(Ql={}));class cr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new cr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+st),(t||new cr).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ql.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Ql.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return cr.startInterval(e),cr.addUnit(e,t),cr.endInterval(e)}}class Gi{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new Gi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+st),(t||new Gi).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return Gi.startList(e),Gi.endList(e)}}let kl=class Ts{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new Ts).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+st),(t||new Ts).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return Ts.startMap(e),Ts.addKeysSorted(e,t),Ts.endMap(e)}};class ji{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new ji).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+st),(t||new ji).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return ji.startNull(e),ji.endNull(e)}}class $i{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new $i).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+st),(t||new $i).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return $i.startStruct_(e),$i.endStruct_(e)}}class Tn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new Tn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+st),(t||new Tn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Us.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,Us.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,i){return Tn.startTime(e),Tn.addUnit(e,t),Tn.addBitWidth(e,i),Tn.endTime(e)}}class In{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new In).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+st),(t||new In).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Us.SECOND}timezone(e){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,Us.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,i){return In.startTimestamp(e),In.addUnit(e,t),In.addTimezone(e,i),In.endTimestamp(e)}}var Zl;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(Zl||(Zl={}));class Jt{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new Jt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+st),(t||new Jt).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Zl.Sparse}typeIds(e){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,Zl.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addInt32(t[i]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,i){return Jt.startUnion(e),Jt.addMode(e,t),Jt.addTypeIds(e,i),Jt.endUnion(e)}}class Vi{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new Vi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+st),(t||new Vi).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Vi.startUtf8(e),Vi.endUtf8(e)}}var pt;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList"})(pt||(pt={}));let En=class Cl{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new Cl).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+st),(t||new Cl).__init(e.readInt32(e.position())+e.position(),e)}name(e){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):pt.NONE}type(e){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){const t=this.bb.__offset(this.bb_pos,12);return t?(e||new Or).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){const i=this.bb.__offset(this.bb_pos,14);return i?(t||new Cl).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){const i=this.bb.__offset(this.bb_pos,16);return i?(t||new It).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,pt.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}},rr=class Dr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new Dr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+st),(t||new Dr).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):zs.Little}fields(e,t){const i=this.bb.__offset(this.bb_pos,6);return i?(t||new En).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){const i=this.bb.__offset(this.bb_pos,8);return i?(t||new It).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,zs.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let i=t.length-1;i>=0;i--)e.addInt64(t[i]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,i,o,l){return Dr.startSchema(e),Dr.addEndianness(e,t),Dr.addFields(e,i),Dr.addCustomMetadata(e,o),Dr.addFeatures(e,l),Dr.endSchema(e)}};class cn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new cn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+st),(t||new cn).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ms.V1}schema(e){const t=this.bb.__offset(this.bb_pos,6);return t?(e||new rr).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){const i=this.bb.__offset(this.bb_pos,8);return i?(t||new jd).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){const i=this.bb.__offset(this.bb_pos,10);return i?(t||new jd).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){const i=this.bb.__offset(this.bb_pos,12);return i?(t||new It).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,Ms.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}}class Je{constructor(e=[],t,i){this.fields=e||[],this.metadata=t||new Map,i||(i=Wd(e)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){const t=new Set(e),i=this.fields.filter(o=>t.has(o.name));return new Je(i,this.metadata)}selectAt(e){const t=e.map(i=>this.fields[i]).filter(Boolean);return new Je(t,this.metadata)}assign(...e){const t=e[0]instanceof Je?e[0]:Array.isArray(e[0])?new Je(e[0]):new Je(e),i=[...this.fields],o=Sl(Sl(new Map,this.metadata),t.metadata),l=t.fields.filter(d=>{const f=i.findIndex(g=>g.name===d.name);return~f?(i[f]=d.clone({metadata:Sl(Sl(new Map,i[f].metadata),d.metadata)}))&&!1:!0}),u=Wd(l,new Map);return new Je([...i,...l],o,new Map([...this.dictionaries,...u]))}}Je.prototype.fields=null;Je.prototype.metadata=null;Je.prototype.dictionaries=null;class ct{constructor(e,t,i=!1,o){this.name=e,this.type=t,this.nullable=i,this.metadata=o||new Map}static new(...e){let[t,i,o,l]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],i===void 0&&(i=e[0].type),o===void 0&&(o=e[0].nullable),l===void 0&&(l=e[0].metadata)),new ct(`${t}`,i,o,l)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,i,o,l]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,i=this.type,o=this.nullable,l=this.metadata]=e:{name:t=this.name,type:i=this.type,nullable:o=this.nullable,metadata:l=this.metadata}=e[0],ct.new(t,i,o,l)}}ct.prototype.type=null;ct.prototype.name=null;ct.prototype.nullable=null;ct.prototype.metadata=null;function Sl(r,e){return new Map([...r||new Map,...e||new Map])}function Wd(r,e=new Map){for(let t=-1,i=r.length;++t<i;){const l=r[t].type;if(Re.isDictionary(l)){if(!e.has(l.id))e.set(l.id,l.dictionary);else if(e.get(l.id)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}l.children&&l.children.length>0&&Wd(l.children,e)}return e}var wy=Br,B1=Ev,P1=Ps;class Zo{constructor(e,t=hn.V4,i,o){this.schema=e,this.version=t,i&&(this._recordBatches=i),o&&(this._dictionaryBatches=o)}static decode(e){e=new P1(Ye(e));const t=cn.getRootAsFooter(e),i=Je.decode(t.schema());return new M1(i,t)}static encode(e){const t=new B1,i=Je.encode(t,e.schema);cn.startRecordBatchesVector(t,e.numRecordBatches);for(const u of[...e.recordBatches()].slice().reverse())yi.encode(t,u);const o=t.endVector();cn.startDictionariesVector(t,e.numDictionaries);for(const u of[...e.dictionaryBatches()].slice().reverse())yi.encode(t,u);const l=t.endVector();return cn.startFooter(t),cn.addSchema(t,i),cn.addVersion(t,hn.V4),cn.addRecordBatches(t,o),cn.addDictionaries(t,l),cn.finishFooterBuffer(t,cn.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,i=this.numRecordBatches;++t<i;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,i=this.numDictionaries;++t<i;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class M1 extends Zo{constructor(e,t){super(e,t.version()),this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const t=this._footer.recordBatches(e);if(t)return yi.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const t=this._footer.dictionaries(e);if(t)return yi.decode(t)}return null}}class yi{constructor(e,t,i){this.metaDataLength=e,this.offset=typeof i=="number"?i:i.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new yi(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){const{metaDataLength:i}=t,o=new wy(t.offset,0),l=new wy(t.bodyLength,0);return jd.createBlock(e,o,i,l)}}const gt=Object.freeze({done:!0,value:void 0});class by{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class yh{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class z1 extends yh{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return De(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(gt);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return An.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return An.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return De(this,void 0,void 0,function*(){return yield this.abort(e),gt})}return(e){return De(this,void 0,void 0,function*(){return yield this.close(),gt})}read(e){return De(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return De(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,i)=>{this.resolvers.push({resolve:t,reject:i})}):Promise.resolve(gt)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Dl extends z1{write(e){if((e=Ye(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?Pd(this.toUint8Array(!0)):this.toUint8Array(!1).then(Pd)}toUint8Array(e=!1){return e?fr(this._values)[0]:De(this,void 0,void 0,function*(){var t,i;const o=[];let l=0;try{for(var u=Wi(this),d;d=yield u.next(),!d.done;){const f=d.value;o.push(f),l+=f.byteLength}}catch(f){t={error:f}}finally{try{d&&!d.done&&(i=u.return)&&(yield i.call(u))}finally{if(t)throw t.error}}return fr(o,l)[0]})}}class Xl{constructor(e){e&&(this.source=new U1(An.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class Gs{constructor(e){e instanceof Gs?this.source=e.source:e instanceof Dl?this.source=new Mi(An.fromAsyncIterable(e)):om(e)?this.source=new Mi(An.fromNodeStream(e)):nh(e)?this.source=new Mi(An.fromDOMStream(e)):sm(e)?this.source=new Mi(An.fromDOMStream(e.body)):na(e)?this.source=new Mi(An.fromIterable(e)):hi(e)?this.source=new Mi(An.fromAsyncIterable(e)):$s(e)&&(this.source=new Mi(An.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class U1{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||gt)}return(e){return Object.create(this.source.return&&this.source.return(e)||gt)}}class Mi{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return De(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return De(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return De(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return De(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return De(this,void 0,void 0,function*(){const t=this.source.throw&&(yield this.source.throw(e))||gt;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return De(this,void 0,void 0,function*(){const t=this.source.return&&(yield this.source.return(e))||gt;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}class _y extends Xl{constructor(e,t){super(),this.position=0,this.buffer=Ye(e),this.size=typeof t>"u"?this.buffer.byteLength:t}readInt32(e){const{buffer:t,byteOffset:i}=this.readAt(e,4);return new DataView(t,i).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:t,size:i,position:o}=this;return t&&o<i?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(i,o+Math.min(i-o,e)),t.subarray(o,this.position)):null}readAt(e,t){const i=this.buffer,o=Math.min(this.size,e+t);return i?i.subarray(e,o):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class Jl extends Gs{constructor(e,t){super(),this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=De(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return De(this,void 0,void 0,function*(){const{buffer:t,byteOffset:i}=yield this.readAt(e,4);return new DataView(t,i).getInt32(0,!0)})}seek(e){return De(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return De(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:t,size:i,position:o}=this;if(t&&o<i){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let l=o,u=0,d=0;const f=Math.min(i,l+Math.min(i-l,e)),g=new Uint8Array(Math.max(0,(this.position=f)-l));for(;(l+=d)<f&&(u+=d)<g.byteLength;)({bytesRead:d}=yield t.read(g,u,g.byteLength-u,l));return g}return null})}readAt(e,t){return De(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:i,size:o}=this;if(i&&e+t<o){const l=Math.min(o,e+t),u=new Uint8Array(l-e);return(yield i.read(u,0,t,e)).buffer}return new Uint8Array(t)})}close(){return De(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return De(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return De(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const G1=65536;function ks(r){return r<0&&(r=4294967295+r+1),`0x${r.toString(16)}`}const js=8,mh=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class Tv{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),i=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let o=t[3]*i[3];this.buffer[0]=o&65535;let l=o>>>16;return o=t[2]*i[3],l+=o,o=t[3]*i[2]>>>0,l+=o,this.buffer[0]+=l<<16,this.buffer[1]=l>>>0<o?G1:0,this.buffer[1]+=l>>>16,this.buffer[1]+=t[1]*i[3]+t[2]*i[2]+t[3]*i[1],this.buffer[1]+=t[0]*i[3]+t[1]*i[2]+t[2]*i[1]+t[3]*i[0]<<16,this}_plus(e){const t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${ks(this.buffer[1])} ${ks(this.buffer[0])}`}}class nt extends Tv{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return nt.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return nt.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){const i=e.length,o=new nt(t);for(let l=0;l<i;){const u=js<i-l?js:i-l,d=new nt(new Uint32Array([Number.parseInt(e.slice(l,l+u),10),0])),f=new nt(new Uint32Array([mh[u],0]));o.times(f),o.plus(d),l+=u}return o}static convertArray(e){const t=new Uint32Array(e.length*2);for(let i=-1,o=e.length;++i<o;)nt.from(e[i],new Uint32Array(t.buffer,t.byteOffset+2*i*4,2));return t}static multiply(e,t){return new nt(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new nt(new Uint32Array(e.buffer)).plus(t)}}class Zt extends Tv{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const t=this.buffer[1]<<0,i=e.buffer[1]<<0;return t<i||t===i&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return Zt.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Zt.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){const i=e.startsWith("-"),o=e.length,l=new Zt(t);for(let u=i?1:0;u<o;){const d=js<o-u?js:o-u,f=new Zt(new Uint32Array([Number.parseInt(e.slice(u,u+d),10),0])),g=new Zt(new Uint32Array([mh[d],0]));l.times(g),l.plus(f),u+=d}return i?l.negate():l}static convertArray(e){const t=new Uint32Array(e.length*2);for(let i=-1,o=e.length;++i<o;)Zt.from(e[i],new Uint32Array(t.buffer,t.byteOffset+2*i*4,2));return t}static multiply(e,t){return new Zt(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Zt(new Uint32Array(e.buffer)).plus(t)}}class ir{constructor(e){this.buffer=e}high(){return new Zt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Zt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const t=new nt(new Uint32Array([this.buffer[3],0])),i=new nt(new Uint32Array([this.buffer[2],0])),o=new nt(new Uint32Array([this.buffer[1],0])),l=new nt(new Uint32Array([this.buffer[0],0])),u=new nt(new Uint32Array([e.buffer[3],0])),d=new nt(new Uint32Array([e.buffer[2],0])),f=new nt(new Uint32Array([e.buffer[1],0])),g=new nt(new Uint32Array([e.buffer[0],0]));let y=nt.multiply(l,g);this.buffer[0]=y.low();const v=new nt(new Uint32Array([y.high(),0]));return y=nt.multiply(o,g),v.plus(y),y=nt.multiply(l,f),v.plus(y),this.buffer[1]=v.low(),this.buffer[3]=v.lessThan(y)?1:0,this.buffer[2]=v.high(),new nt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(nt.multiply(i,g)).plus(nt.multiply(o,f)).plus(nt.multiply(l,d)),this.buffer[3]+=nt.multiply(t,g).plus(nt.multiply(i,f)).plus(nt.multiply(o,d)).plus(nt.multiply(l,u)).low(),this}plus(e){const t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${ks(this.buffer[3])} ${ks(this.buffer[2])} ${ks(this.buffer[1])} ${ks(this.buffer[0])}`}static multiply(e,t){return new ir(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new ir(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return ir.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return ir.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){const i=e.startsWith("-"),o=e.length,l=new ir(t);for(let u=i?1:0;u<o;){const d=js<o-u?js:o-u,f=new ir(new Uint32Array([Number.parseInt(e.slice(u,u+d),10),0,0,0])),g=new ir(new Uint32Array([mh[d],0,0,0]));l.times(g),l.plus(f),u+=d}return i?l.negate():l}static convertArray(e){const t=new Uint32Array(e.length*4);for(let i=-1,o=e.length;++i<o;)ir.from(e[i],new Uint32Array(t.buffer,t.byteOffset+16*i,4));return t}}class Iv extends Ve{constructor(e,t,i,o){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=i,this.dictionaries=o}visit(e){return super.visit(e instanceof ct?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return $e({type:e,length:t})}visitBool(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitInt(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitFloat(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitUtf8(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitDate(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitTimestamp(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitTime(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitDecimal(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitList(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===fn.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),data:this.readData(e)})}visitFixedSizeList(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),child:this.visit(e.children[0])})}visitMap(e,{length:t,nullCount:i}=this.nextFieldNode()){return $e({type:e,length:t,nullCount:i,nullBitmap:this.readNullBitmap(e,i),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,i=this.nextBufferRange()){return t>0&&this.readData(e,i)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+t)}readDictionary(e){return this.dictionaries.get(e.id)}}class j1 extends Iv{constructor(e,t,i,o){super(new Uint8Array(0),t,i,o),this.sources=e}readNullBitmap(e,t,{offset:i}=this.nextBufferRange()){return t<=0?new Uint8Array(0):Vl(this.sources[i])}readOffsets(e,{offset:t}=this.nextBufferRange()){return it(Uint8Array,it(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return it(Uint8Array,it(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){const{sources:i}=this;return Re.isTimestamp(e)||(Re.isInt(e)||Re.isTime(e))&&e.bitWidth===64||Re.isDate(e)&&e.unit===zr.MILLISECOND?it(Uint8Array,Zt.convertArray(i[t])):Re.isDecimal(e)?it(Uint8Array,ir.convertArray(i[t])):Re.isBinary(e)||Re.isFixedSizeBinary(e)?$1(i[t]):Re.isBool(e)?Vl(i[t]):Re.isUtf8(e)?th(i[t].join("")):it(Uint8Array,it(e.ArrayType,i[t].map(o=>+o)))}}function $1(r){const e=r.join(""),t=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=Number.parseInt(e.slice(i,i+2),16);return t}class Oe extends Ve{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((i,o)=>this.compareFields(i,t[o]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}}function sn(r,e){return e instanceof r.constructor}function ra(r,e){return r===e||sn(r,e)}function Gr(r,e){return r===e||sn(r,e)&&r.bitWidth===e.bitWidth&&r.isSigned===e.isSigned}function du(r,e){return r===e||sn(r,e)&&r.precision===e.precision}function V1(r,e){return r===e||sn(r,e)&&r.byteWidth===e.byteWidth}function vh(r,e){return r===e||sn(r,e)&&r.unit===e.unit}function ia(r,e){return r===e||sn(r,e)&&r.unit===e.unit&&r.timezone===e.timezone}function sa(r,e){return r===e||sn(r,e)&&r.unit===e.unit&&r.bitWidth===e.bitWidth}function W1(r,e){return r===e||sn(r,e)&&r.children.length===e.children.length&&mi.compareManyFields(r.children,e.children)}function H1(r,e){return r===e||sn(r,e)&&r.children.length===e.children.length&&mi.compareManyFields(r.children,e.children)}function wh(r,e){return r===e||sn(r,e)&&r.mode===e.mode&&r.typeIds.every((t,i)=>t===e.typeIds[i])&&mi.compareManyFields(r.children,e.children)}function Y1(r,e){return r===e||sn(r,e)&&r.id===e.id&&r.isOrdered===e.isOrdered&&mi.visit(r.indices,e.indices)&&mi.visit(r.dictionary,e.dictionary)}function bh(r,e){return r===e||sn(r,e)&&r.unit===e.unit}function K1(r,e){return r===e||sn(r,e)&&r.listSize===e.listSize&&r.children.length===e.children.length&&mi.compareManyFields(r.children,e.children)}function q1(r,e){return r===e||sn(r,e)&&r.keysSorted===e.keysSorted&&r.children.length===e.children.length&&mi.compareManyFields(r.children,e.children)}Oe.prototype.visitNull=ra;Oe.prototype.visitBool=ra;Oe.prototype.visitInt=Gr;Oe.prototype.visitInt8=Gr;Oe.prototype.visitInt16=Gr;Oe.prototype.visitInt32=Gr;Oe.prototype.visitInt64=Gr;Oe.prototype.visitUint8=Gr;Oe.prototype.visitUint16=Gr;Oe.prototype.visitUint32=Gr;Oe.prototype.visitUint64=Gr;Oe.prototype.visitFloat=du;Oe.prototype.visitFloat16=du;Oe.prototype.visitFloat32=du;Oe.prototype.visitFloat64=du;Oe.prototype.visitUtf8=ra;Oe.prototype.visitBinary=ra;Oe.prototype.visitFixedSizeBinary=V1;Oe.prototype.visitDate=vh;Oe.prototype.visitDateDay=vh;Oe.prototype.visitDateMillisecond=vh;Oe.prototype.visitTimestamp=ia;Oe.prototype.visitTimestampSecond=ia;Oe.prototype.visitTimestampMillisecond=ia;Oe.prototype.visitTimestampMicrosecond=ia;Oe.prototype.visitTimestampNanosecond=ia;Oe.prototype.visitTime=sa;Oe.prototype.visitTimeSecond=sa;Oe.prototype.visitTimeMillisecond=sa;Oe.prototype.visitTimeMicrosecond=sa;Oe.prototype.visitTimeNanosecond=sa;Oe.prototype.visitDecimal=ra;Oe.prototype.visitList=W1;Oe.prototype.visitStruct=H1;Oe.prototype.visitUnion=wh;Oe.prototype.visitDenseUnion=wh;Oe.prototype.visitSparseUnion=wh;Oe.prototype.visitDictionary=Y1;Oe.prototype.visitInterval=bh;Oe.prototype.visitIntervalDayTime=bh;Oe.prototype.visitIntervalYearMonth=bh;Oe.prototype.visitFixedSizeList=K1;Oe.prototype.visitMap=q1;const mi=new Oe;function Hd(r,e){return mi.compareSchemas(r,e)}function kd(r,e){return Q1(r,e.map(t=>t.data.concat()))}function Q1(r,e){const t=[...r.fields],i=[],o={numBatches:e.reduce((v,w)=>Math.max(v,w.length),0)};let l=0,u=0,d=-1;const f=e.length;let g,y=[];for(;o.numBatches-- >0;){for(u=Number.POSITIVE_INFINITY,d=-1;++d<f;)y[d]=g=e[d].shift(),u=Math.min(u,g?g.length:u);Number.isFinite(u)&&(y=Z1(t,u,y,e,o),u>0&&(i[l++]=$e({type:new $t(t),length:u,nullCount:0,children:y.slice()})))}return[r=r.assign(t),i.map(v=>new en(r,v))]}function Z1(r,e,t,i,o){var l;const u=(e+63&-64)>>3;for(let d=-1,f=i.length;++d<f;){const g=t[d],y=g==null?void 0:g.length;if(y>=e)y===e?t[d]=g:(t[d]=g.slice(0,e),o.numBatches=Math.max(o.numBatches,i[d].unshift(g.slice(e,y-e))));else{const v=r[d];r[d]=v.clone({nullable:!0}),t[d]=(l=g==null?void 0:g._changeLengthAndBackfillNullBitmap(e))!==null&&l!==void 0?l:$e({type:v.type,length:e,nullCount:e,nullBitmap:new Uint8Array(u)})}}return t}var kv;class jt{constructor(...e){var t,i;if(e.length===0)return this.batches=[],this.schema=new Je([]),this._offsets=[0],this;let o,l;e[0]instanceof Je&&(o=e.shift()),e[e.length-1]instanceof Uint32Array&&(l=e.pop());const u=f=>{if(f){if(f instanceof en)return[f];if(f instanceof jt)return f.batches;if(f instanceof at){if(f.type instanceof $t)return[new en(new Je(f.type.children),f)]}else{if(Array.isArray(f))return f.flatMap(g=>u(g));if(typeof f[Symbol.iterator]=="function")return[...f].flatMap(g=>u(g));if(typeof f=="object"){const g=Object.keys(f),y=g.map(_=>new Xe([f[_]])),v=new Je(g.map((_,N)=>new ct(String(_),y[N].type))),[,w]=kd(v,y);return w.length===0?[new en(f)]:w}}}return[]},d=e.flatMap(f=>u(f));if(o=(i=o??((t=d[0])===null||t===void 0?void 0:t.schema))!==null&&i!==void 0?i:new Je([]),!(o instanceof Je))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const f of d){if(!(f instanceof en))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!Hd(o,f.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=o,this.batches=d,this._offsets=l??hv(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=dv(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?gh.visit(new Xe(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const t=this.schema,i=this.data.concat(e.flatMap(({data:o})=>o));return new jt(t,i.map(o=>new en(t,o)))}slice(e,t){const i=this.schema;[e,t]=uv({length:this.numRows},e,t);const o=fv(this.data,this._offsets,e,t);return new jt(i,o.map(l=>new en(i,l)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const t=this.data.map(i=>i.children[e]);if(t.length===0){const{type:i}=this.schema.fields[e],o=$e({type:i,length:0,nullCount:0});t.push(o._changeLengthAndBackfillNullBitmap(this.numRows))}return new Xe(t)}return null}setChild(e,t){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(o=>o.name===e),t)}setChildAt(e,t){let i=this.schema,o=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new Xe([$e({type:new pi,length:this.numRows})]));const l=i.fields.slice(),u=l[e].clone({type:t.type}),d=this.schema.fields.map((f,g)=>this.getChildAt(g));[l[e],d[e]]=[u,t],[i,o]=kd(i,d)}return new jt(i,o)}select(e){const t=this.schema.fields.reduce((i,o,l)=>i.set(o.name,l),new Map);return this.selectAt(e.map(i=>t.get(i)).filter(i=>i>-1))}selectAt(e){const t=this.schema.selectAt(e),i=this.batches.map(o=>o.selectAt(e));return new jt(t,i)}assign(e){const t=this.schema.fields,[i,o]=e.schema.fields.reduce((d,f,g)=>{const[y,v]=d,w=t.findIndex(_=>_.name===f.name);return~w?v[w]=g:y.push(g),d},[[],[]]),l=this.schema.assign(e.schema),u=[...t.map((d,f)=>[f,o[f]]).map(([d,f])=>f===void 0?this.getChildAt(d):e.getChildAt(f)),...i.map(d=>e.getChildAt(d))].filter(Boolean);return new jt(...kd(l,u))}}kv=Symbol.toStringTag;jt[kv]=(r=>(r.schema=null,r.batches=[],r._offsets=new Uint32Array([0]),r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,r.isValid=Ls(ph),r.get=Ls(rn.getVisitFn(D.Struct)),r.set=pv(Cn.getVisitFn(D.Struct)),r.indexOf=gv(Wl.getVisitFn(D.Struct)),r.getByteLength=Ls(pr.getVisitFn(D.Struct)),"Table"))(jt.prototype);var Cv;let en=class Uo{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof Je))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=$e({nullCount:0,type:new $t(this.schema.fields),children:this.schema.fields.map(t=>$e({type:t.type,nullCount:0}))})]=e,!(this.data instanceof at))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Sy(this.schema,this.data.children);break}case 1:{const[t]=e,{fields:i,children:o,length:l}=Object.keys(t).reduce((f,g,y)=>(f.children[y]=t[g],f.length=Math.max(f.length,t[g].length),f.fields[y]=ct.new({name:g,type:t[g].type,nullable:!0}),f),{length:0,fields:new Array,children:new Array}),u=new Je(i),d=$e({type:new $t(i),length:l,children:o,nullCount:0});[this.schema,this.data]=Sy(u,d.children,l);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Dv(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return rn.visit(this.data,e)}set(e,t){return Cn.visit(this.data,e,t)}indexOf(e,t){return Wl.visit(this.data,e,t)}getByteLength(e){return pr.visit(this.data,e)}[Symbol.iterator](){return gh.visit(new Xe([this.data]))}toArray(){return[...this]}concat(...e){return new jt(this.schema,[this,...e])}slice(e,t){const[i]=new Xe([this.data]).slice(e,t).data;return new Uo(this.schema,i)}getChild(e){var t;return this.getChildAt((t=this.schema.fields)===null||t===void 0?void 0:t.findIndex(i=>i.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new Xe([this.data.children[e]]):null}setChild(e,t){var i;return this.setChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(o=>o.name===e),t)}setChildAt(e,t){let i=this.schema,o=this.data;if(e>-1&&e<this.numCols){t||(t=new Xe([$e({type:new pi,length:this.numRows})]));const l=i.fields.slice(),u=o.children.slice(),d=l[e].clone({type:t.type});[l[e],u[e]]=[d,t.data[0]],i=new Je(l,new Map(this.schema.metadata)),o=$e({type:new $t(l),children:u})}return new Uo(i,o)}select(e){const t=this.schema.select(e),i=new $t(t.fields),o=[];for(const l of e){const u=this.schema.fields.findIndex(d=>d.name===l);~u&&(o[u]=this.data.children[u])}return new Uo(t,$e({type:i,length:this.numRows,children:o}))}selectAt(e){const t=this.schema.selectAt(e),i=e.map(l=>this.data.children[l]).filter(Boolean),o=$e({type:new $t(t.fields),length:this.numRows,children:i});return new Uo(t,o)}};Cv=Symbol.toStringTag;en[Cv]=(r=>(r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(en.prototype);function Sy(r,e,t=e.reduce((i,o)=>Math.max(i,o.length),0)){var i;const o=[...r.fields],l=[...e],u=(t+63&-64)>>3;for(const[d,f]of r.fields.entries()){const g=e[d];(!g||g.length!==t)&&(o[d]=f.clone({nullable:!0}),l[d]=(i=g==null?void 0:g._changeLengthAndBackfillNullBitmap(t))!==null&&i!==void 0?i:$e({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(u)}))}return[r.assign(o),$e({type:new $t(o),length:t,children:l})]}function Dv(r,e,t=new Map){for(let i=-1,o=r.length;++i<o;){const u=r[i].type,d=e[i];if(Re.isDictionary(u)){if(!t.has(u.id))d.dictionary&&t.set(u.id,d.dictionary);else if(t.get(u.id)!==d.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}u.children&&u.children.length>0&&Dv(u.children,d.children,t)}return t}class _h extends en{constructor(e){const t=e.fields.map(o=>$e({type:o.type})),i=$e({type:new $t(e.fields),nullCount:0,children:t});super(e,i)}}var eu;(function(r){r[r.BUFFER=0]="BUFFER"})(eu||(eu={}));var tu;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(tu||(tu={}));class di{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new di).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+st),(t||new di).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):tu.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):eu.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,tu.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,eu.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,i){return di.startBodyCompression(e),di.addCodec(e,t),di.addMethod(e,i),di.endBodyCompression(e)}}class xv{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,t,i){return e.prep(8,16),e.writeInt64(i),e.writeInt64(t),e.offset()}}let Rv=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,t,i){return e.prep(8,16),e.writeInt64(i),e.writeInt64(t),e.offset()}},Nr=class Yd{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new Yd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+st),(t||new Yd).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){const i=this.bb.__offset(this.bb_pos,6);return i?(t||new Rv).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){const i=this.bb.__offset(this.bb_pos,8);return i?(t||new xv).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const t=this.bb.__offset(this.bb_pos,10);return t?(e||new di).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}},Is=class Kd{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new Kd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+st),(t||new Kd).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){const t=this.bb.__offset(this.bb_pos,6);return t?(e||new Nr).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}};var nu;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(nu||(nu={}));let ui=class nr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new nr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+st),(t||new nr).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ms.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):nu.NONE}header(e){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){const i=this.bb.__offset(this.bb_pos,12);return i?(t||new It).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,Ms.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,nu.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,i,o,l,u){return nr.startMessage(e),nr.addVersion(e,t),nr.addHeaderType(e,i),nr.addHeader(e,o),nr.addBodyLength(e,l),nr.addCustomMetadata(e,u),nr.endMessage(e)}};var X1=Br;class J1 extends Ve{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return ji.startNull(t),ji.endNull(t)}visitInt(e,t){return dn.startInt(t),dn.addBitWidth(t,e.bitWidth),dn.addIsSigned(t,e.isSigned),dn.endInt(t)}visitFloat(e,t){return ur.startFloatingPoint(t),ur.addPrecision(t,e.precision),ur.endFloatingPoint(t)}visitBinary(e,t){return zi.startBinary(t),zi.endBinary(t)}visitBool(e,t){return Ui.startBool(t),Ui.endBool(t)}visitUtf8(e,t){return Vi.startUtf8(t),Vi.endUtf8(t)}visitDecimal(e,t){return Xt.startDecimal(t),Xt.addScale(t,e.scale),Xt.addPrecision(t,e.precision),Xt.addBitWidth(t,e.bitWidth),Xt.endDecimal(t)}visitDate(e,t){return Il.startDate(t),Il.addUnit(t,e.unit),Il.endDate(t)}visitTime(e,t){return Tn.startTime(t),Tn.addUnit(t,e.unit),Tn.addBitWidth(t,e.bitWidth),Tn.endTime(t)}visitTimestamp(e,t){const i=e.timezone&&t.createString(e.timezone)||void 0;return In.startTimestamp(t),In.addUnit(t,e.unit),i!==void 0&&In.addTimezone(t,i),In.endTimestamp(t)}visitInterval(e,t){return cr.startInterval(t),cr.addUnit(t,e.unit),cr.endInterval(t)}visitList(e,t){return Gi.startList(t),Gi.endList(t)}visitStruct(e,t){return $i.startStruct_(t),$i.endStruct_(t)}visitUnion(e,t){Jt.startTypeIdsVector(t,e.typeIds.length);const i=Jt.createTypeIdsVector(t,e.typeIds);return Jt.startUnion(t),Jt.addMode(t,e.mode),Jt.addTypeIds(t,i),Jt.endUnion(t)}visitDictionary(e,t){const i=this.visit(e.indices,t);return Or.startDictionaryEncoding(t),Or.addId(t,new X1(e.id,0)),Or.addIsOrdered(t,e.isOrdered),i!==void 0&&Or.addIndexType(t,i),Or.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return ar.startFixedSizeBinary(t),ar.addByteWidth(t,e.byteWidth),ar.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return lr.startFixedSizeList(t),lr.addListSize(t,e.listSize),lr.endFixedSizeList(t)}visitMap(e,t){return kl.startMap(t),kl.addKeysSorted(t,e.keysSorted),kl.endMap(t)}}const Cd=new J1;function eE(r,e=new Map){return new Je(nE(r,e),xl(r.customMetadata),e)}function Nv(r){return new pn(r.count,Lv(r.columns),Fv(r.columns))}function tE(r){return new gr(Nv(r.data),r.id,r.isDelta)}function nE(r,e){return(r.fields||[]).filter(Boolean).map(t=>ct.fromJSON(t,e))}function Ey(r,e){return(r.children||[]).filter(Boolean).map(t=>ct.fromJSON(t,e))}function Lv(r){return(r||[]).reduce((e,t)=>[...e,new Ki(t.count,rE(t.VALIDITY)),...Lv(t.children)],[])}function Fv(r,e=[]){for(let t=-1,i=(r||[]).length;++t<i;){const o=r[t];o.VALIDITY&&e.push(new hr(e.length,o.VALIDITY.length)),o.TYPE&&e.push(new hr(e.length,o.TYPE.length)),o.OFFSET&&e.push(new hr(e.length,o.OFFSET.length)),o.DATA&&e.push(new hr(e.length,o.DATA.length)),e=Fv(o.children,e)}return e}function rE(r){return(r||[]).reduce((e,t)=>e+ +(t===0),0)}function iE(r,e){let t,i,o,l,u,d;return!e||!(l=r.dictionary)?(u=Ty(r,Ey(r,e)),o=new ct(r.name,u,r.nullable,xl(r.customMetadata))):e.has(t=l.id)?(i=(i=l.indexType)?Ay(i):new Ko,d=new Bs(e.get(t),i,t,l.isOrdered),o=new ct(r.name,d,r.nullable,xl(r.customMetadata))):(i=(i=l.indexType)?Ay(i):new Ko,e.set(t,u=Ty(r,Ey(r,e))),d=new Bs(u,i,t,l.isOrdered),o=new ct(r.name,d,r.nullable,xl(r.customMetadata))),o||null}function xl(r){return new Map(Object.entries(r||{}))}function Ay(r){return new gi(r.isSigned,r.bitWidth)}function Ty(r,e){const t=r.type.name;switch(t){case"NONE":return new pi;case"null":return new pi;case"binary":return new Nl;case"utf8":return new Ll;case"bool":return new Fl;case"list":return new zl((e||[])[0]);case"struct":return new $t(e||[]);case"struct_":return new $t(e||[])}switch(t){case"int":{const i=r.type;return new gi(i.isSigned,i.bitWidth)}case"floatingpoint":{const i=r.type;return new qo(tn[i.precision])}case"decimal":{const i=r.type;return new Ol(i.scale,i.precision,i.bitWidth)}case"date":{const i=r.type;return new Bl(zr[i.unit])}case"time":{const i=r.type;return new Qo(Ke[i.unit],i.bitWidth)}case"timestamp":{const i=r.type;return new Pl(Ke[i.unit],i.timezone)}case"interval":{const i=r.type;return new Ml(fi[i.unit])}case"union":{const i=r.type;return new Ul(fn[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const i=r.type;return new Gl(i.byteWidth)}case"fixedsizelist":{const i=r.type;return new jl(i.listSize,(e||[])[0])}case"map":{const i=r.type;return new $l((e||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}var Yi=Br,sE=Ev,oE=Ps;class Vt{constructor(e,t,i,o){this._version=t,this._headerType=i,this.body=new Uint8Array(0),o&&(this._createHeader=()=>o),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){const i=new Vt(0,hn.V4,t);return i._createHeader=aE(e,t),i}static decode(e){e=new oE(Ye(e));const t=ui.getRootAsMessage(e),i=t.bodyLength(),o=t.version(),l=t.headerType(),u=new Vt(i,o,l);return u._createHeader=lE(t,l),u}static encode(e){const t=new sE;let i=-1;return e.isSchema()?i=Je.encode(t,e.header()):e.isRecordBatch()?i=pn.encode(t,e.header()):e.isDictionaryBatch()&&(i=gr.encode(t,e.header())),ui.startMessage(t),ui.addVersion(t,hn.V4),ui.addHeader(t,i),ui.addHeaderType(t,e.headerType),ui.addBodyLength(t,new Yi(e.bodyLength,0)),ui.finishMessageBuffer(t,ui.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof Je)return new Vt(0,hn.V4,Ze.Schema,e);if(e instanceof pn)return new Vt(t,hn.V4,Ze.RecordBatch,e);if(e instanceof gr)return new Vt(t,hn.V4,Ze.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ze.Schema}isRecordBatch(){return this.headerType===Ze.RecordBatch}isDictionaryBatch(){return this.headerType===Ze.DictionaryBatch}}class pn{constructor(e,t,i){this._nodes=t,this._buffers=i,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class gr{constructor(e,t,i=!1){this._data=e,this._isDelta=i,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class hr{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}}class Ki{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}}function aE(r,e){return(()=>{switch(e){case Ze.Schema:return Je.fromJSON(r);case Ze.RecordBatch:return pn.fromJSON(r);case Ze.DictionaryBatch:return gr.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${Ze[e]}, type: ${e} }`)})}function lE(r,e){return(()=>{switch(e){case Ze.Schema:return Je.decode(r.header(new rr));case Ze.RecordBatch:return pn.decode(r.header(new Nr),r.version());case Ze.DictionaryBatch:return gr.decode(r.header(new Is),r.version())}throw new Error(`Unrecognized Message type: { name: ${Ze[e]}, type: ${e} }`)})}ct.encode=wE;ct.decode=mE;ct.fromJSON=iE;Je.encode=vE;Je.decode=uE;Je.fromJSON=eE;pn.encode=bE;pn.decode=cE;pn.fromJSON=Nv;gr.encode=_E;gr.decode=dE;gr.fromJSON=tE;Ki.encode=SE;Ki.decode=fE;hr.encode=EE;hr.decode=hE;function uE(r,e=new Map){const t=yE(r,e);return new Je(t,Rl(r),e)}function cE(r,e=hn.V4){if(r.compression()!==null)throw new Error("Record batch compression not implemented");return new pn(r.length(),pE(r),gE(r,e))}function dE(r,e=hn.V4){return new gr(pn.decode(r.data(),e),r.id(),r.isDelta())}function hE(r){return new hr(r.offset(),r.length())}function fE(r){return new Ki(r.length(),r.nullCount())}function pE(r){const e=[];for(let t,i=-1,o=-1,l=r.nodesLength();++i<l;)(t=r.nodes(i))&&(e[++o]=Ki.decode(t));return e}function gE(r,e){const t=[];for(let i,o=-1,l=-1,u=r.buffersLength();++o<u;)(i=r.buffers(o))&&(e<hn.V4&&(i.bb_pos+=8*(o+1)),t[++l]=hr.decode(i));return t}function yE(r,e){const t=[];for(let i,o=-1,l=-1,u=r.fieldsLength();++o<u;)(i=r.fields(o))&&(t[++l]=ct.decode(i,e));return t}function Iy(r,e){const t=[];for(let i,o=-1,l=-1,u=r.childrenLength();++o<u;)(i=r.children(o))&&(t[++l]=ct.decode(i,e));return t}function mE(r,e){let t,i,o,l,u,d;return!e||!(d=r.dictionary())?(o=Cy(r,Iy(r,e)),i=new ct(r.name(),o,r.nullable(),Rl(r))):e.has(t=d.id().low)?(l=(l=d.indexType())?ky(l):new Ko,u=new Bs(e.get(t),l,t,d.isOrdered()),i=new ct(r.name(),u,r.nullable(),Rl(r))):(l=(l=d.indexType())?ky(l):new Ko,e.set(t,o=Cy(r,Iy(r,e))),u=new Bs(o,l,t,d.isOrdered()),i=new ct(r.name(),u,r.nullable(),Rl(r))),i||null}function Rl(r){const e=new Map;if(r)for(let t,i,o=-1,l=Math.trunc(r.customMetadataLength());++o<l;)(t=r.customMetadata(o))&&(i=t.key())!=null&&e.set(i,t.value());return e}function ky(r){return new gi(r.isSigned(),r.bitWidth())}function Cy(r,e){const t=r.typeType();switch(t){case pt.NONE:return new pi;case pt.Null:return new pi;case pt.Binary:return new Nl;case pt.Utf8:return new Ll;case pt.Bool:return new Fl;case pt.List:return new zl((e||[])[0]);case pt.Struct_:return new $t(e||[])}switch(t){case pt.Int:{const i=r.type(new dn);return new gi(i.isSigned(),i.bitWidth())}case pt.FloatingPoint:{const i=r.type(new ur);return new qo(i.precision())}case pt.Decimal:{const i=r.type(new Xt);return new Ol(i.scale(),i.precision(),i.bitWidth())}case pt.Date:{const i=r.type(new Il);return new Bl(i.unit())}case pt.Time:{const i=r.type(new Tn);return new Qo(i.unit(),i.bitWidth())}case pt.Timestamp:{const i=r.type(new In);return new Pl(i.unit(),i.timezone())}case pt.Interval:{const i=r.type(new cr);return new Ml(i.unit())}case pt.Union:{const i=r.type(new Jt);return new Ul(i.mode(),i.typeIdsArray()||[],e||[])}case pt.FixedSizeBinary:{const i=r.type(new ar);return new Gl(i.byteWidth())}case pt.FixedSizeList:{const i=r.type(new lr);return new jl(i.listSize(),(e||[])[0])}case pt.Map:{const i=r.type(new kl);return new $l((e||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${pt[t]}" (${t})`)}function vE(r,e){const t=e.fields.map(l=>ct.encode(r,l));rr.startFieldsVector(r,t.length);const i=rr.createFieldsVector(r,t),o=e.metadata&&e.metadata.size>0?rr.createCustomMetadataVector(r,[...e.metadata].map(([l,u])=>{const d=r.createString(`${l}`),f=r.createString(`${u}`);return It.startKeyValue(r),It.addKey(r,d),It.addValue(r,f),It.endKeyValue(r)})):-1;return rr.startSchema(r),rr.addFields(r,i),rr.addEndianness(r,AE?zs.Little:zs.Big),o!==-1&&rr.addCustomMetadata(r,o),rr.endSchema(r)}function wE(r,e){let t=-1,i=-1,o=-1;const l=e.type;let u=e.typeId;Re.isDictionary(l)?(u=l.dictionary.typeId,o=Cd.visit(l,r),i=Cd.visit(l.dictionary,r)):i=Cd.visit(l,r);const d=(l.children||[]).map(y=>ct.encode(r,y)),f=En.createChildrenVector(r,d),g=e.metadata&&e.metadata.size>0?En.createCustomMetadataVector(r,[...e.metadata].map(([y,v])=>{const w=r.createString(`${y}`),_=r.createString(`${v}`);return It.startKeyValue(r),It.addKey(r,w),It.addValue(r,_),It.endKeyValue(r)})):-1;return e.name&&(t=r.createString(e.name)),En.startField(r),En.addType(r,i),En.addTypeType(r,u),En.addChildren(r,f),En.addNullable(r,!!e.nullable),t!==-1&&En.addName(r,t),o!==-1&&En.addDictionary(r,o),g!==-1&&En.addCustomMetadata(r,g),En.endField(r)}function bE(r,e){const t=e.nodes||[],i=e.buffers||[];Nr.startNodesVector(r,t.length);for(const u of t.slice().reverse())Ki.encode(r,u);const o=r.endVector();Nr.startBuffersVector(r,i.length);for(const u of i.slice().reverse())hr.encode(r,u);const l=r.endVector();return Nr.startRecordBatch(r),Nr.addLength(r,new Yi(e.length,0)),Nr.addNodes(r,o),Nr.addBuffers(r,l),Nr.endRecordBatch(r)}function _E(r,e){const t=pn.encode(r,e.data);return Is.startDictionaryBatch(r),Is.addId(r,new Yi(e.id,0)),Is.addIsDelta(r,e.isDelta),Is.addData(r,t),Is.endDictionaryBatch(r)}function SE(r,e){return Rv.createFieldNode(r,new Yi(e.length,0),new Yi(e.nullCount,0))}function EE(r,e){return xv.createBuffer(r,new Yi(e.offset,0),new Yi(e.length,0))}const AE=(()=>{const r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256})(),Sh=r=>`Expected ${Ze[r]} Message in stream, but was null or length 0.`,Eh=r=>`Header pointer of flatbuffer-encoded ${Ze[r]} Message is null or length 0.`,Ov=(r,e)=>`Expected to read ${r} metadata bytes, but only read ${e}.`,Bv=(r,e)=>`Expected to read ${r} bytes for message body, but only read ${e}.`;class Pv{constructor(e){this.source=e instanceof Xl?e:new Xl(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?gt:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Sh(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const t=Ye(this.source.read(e));if(t.byteLength<e)throw new Error(Bv(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){const t=Ze.Schema,i=this.readMessage(t),o=i==null?void 0:i.header();if(e&&!o)throw new Error(Eh(t));return o}readMetadataLength(){const e=this.source.read(hu),t=e&&new Ps(e),i=(t==null?void 0:t.readInt32(0))||0;return{done:i===0,value:i}}readMetadata(e){const t=this.source.read(e);if(!t)return gt;if(t.byteLength<e)throw new Error(Ov(e,t.byteLength));return{done:!1,value:Vt.decode(t)}}}class TE{constructor(e,t){this.source=e instanceof Gs?e:im(e)?new Jl(e,t):new Gs(e)}[Symbol.asyncIterator](){return this}next(){return De(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?gt:e})}throw(e){return De(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return De(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return De(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Sh(e));return t.value})}readMessageBody(e){return De(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const t=Ye(yield this.source.read(e));if(t.byteLength<e)throw new Error(Bv(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return De(this,void 0,void 0,function*(){const t=Ze.Schema,i=yield this.readMessage(t),o=i==null?void 0:i.header();if(e&&!o)throw new Error(Eh(t));return o})}readMetadataLength(){return De(this,void 0,void 0,function*(){const e=yield this.source.read(hu),t=e&&new Ps(e),i=(t==null?void 0:t.readInt32(0))||0;return{done:i===0,value:i}})}readMetadata(e){return De(this,void 0,void 0,function*(){const t=yield this.source.read(e);if(!t)return gt;if(t.byteLength<e)throw new Error(Ov(e,t.byteLength));return{done:!1,value:Vt.decode(t)}})}}class IE extends Pv{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof by?e:new by(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Vt.fromJSON(e.schema,Ze.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:Vt.fromJSON(t,Ze.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const t=e.batches[this._batchIndex++];return this._body=t.columns,{done:!1,value:Vt.fromJSON(t,Ze.RecordBatch)}}return this._body=[],gt}readMessageBody(e){return t(this._body);function t(i){return(i||[]).reduce((o,l)=>[...o,...l.VALIDITY&&[l.VALIDITY]||[],...l.TYPE&&[l.TYPE]||[],...l.OFFSET&&[l.OFFSET]||[],...l.DATA&&[l.DATA]||[],...t(l.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Sh(e));return t.value}readSchema(){const e=Ze.Schema,t=this.readMessage(e),i=t==null?void 0:t.header();if(!t||!i)throw new Error(Eh(e));return i}}const hu=4,qd="ARROW1",Xo=new Uint8Array(qd.length);for(let r=0;r<qd.length;r+=1)Xo[r]=qd.codePointAt(r);function Ah(r,e=0){for(let t=-1,i=Xo.length;++t<i;)if(Xo[t]!==r[e+t])return!1;return!0}const oa=Xo.length,Mv=oa+hu,kE=oa*2+hu;class Pr extends yh{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const t=this._impl.open(e);return hi(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return An.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return An.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof Pr?e:Md(e)?RE(e):im(e)?FE(e):hi(e)?De(this,void 0,void 0,function*(){return yield Pr.from(yield e)}):sm(e)||nh(e)||om(e)||$s(e)?LE(new Gs(e)):NE(new Xl(e))}static readAll(e){return e instanceof Pr?e.isSync()?Dy(e):xy(e):Md(e)||ArrayBuffer.isView(e)||na(e)||rm(e)?Dy(e):xy(e)}}class ru extends Pr{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return dr(this,arguments,function*(){yield Ue(yield*Tl(Wi(this[Symbol.iterator]())))})}}class iu extends Pr{constructor(e){super(e),this._impl=e}readAll(){var e,t;return De(this,void 0,void 0,function*(){const i=new Array;try{for(var o=Wi(this),l;l=yield o.next(),!l.done;){const u=l.value;i.push(u)}}catch(u){e={error:u}}finally{try{l&&!l.done&&(t=o.return)&&(yield t.call(o))}finally{if(e)throw e.error}}return i})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class zv extends ru{constructor(e){super(e),this._impl=e}}class CE extends iu{constructor(e){super(e),this._impl=e}}class Uv{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){const i=this._loadVectors(e,t,this.schema.fields),o=$e({type:new $t(this.schema.fields),length:e.length,children:i});return new en(this.schema,o)}_loadDictionaryBatch(e,t){const{id:i,isDelta:o}=e,{dictionaries:l,schema:u}=this,d=l.get(i);if(o||!d){const f=u.dictionaries.get(i),g=this._loadVectors(e.data,t,[f]);return(d&&o?d.concat(new Xe(g)):new Xe(g)).memoize()}return d.memoize()}_loadVectors(e,t,i){return new Iv(t,e.nodes,e.buffers,this.dictionaries).visitMany(i)}}class su extends Uv{constructor(e,t){super(t),this._reader=Md(e)?new IE(this._handle=e):new Pv(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=jv(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):gt}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):gt}next(){if(this.closed)return gt;let e;const{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const i=e.header(),o=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(i,o)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const i=e.header(),o=t.readMessageBody(e.bodyLength),l=this._loadDictionaryBatch(i,o);this.dictionaries.set(i.id,l)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new _h(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class ou extends Uv{constructor(e,t){super(t),this._reader=new TE(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return De(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return De(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=jv(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return De(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):gt})}return(e){return De(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):gt})}next(){return De(this,void 0,void 0,function*(){if(this.closed)return gt;let e;const{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const i=e.header(),o=yield t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(i,o)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const i=e.header(),o=yield t.readMessageBody(e.bodyLength),l=this._loadDictionaryBatch(i,o);this.dictionaries.set(i.id,l)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new _h(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return De(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class Gv extends su{constructor(e,t){super(e instanceof _y?e:new _y(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();const i=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(i&&this._handle.seek(i.offset)){const o=this._reader.readMessage(Ze.RecordBatch);if(o!=null&&o.isRecordBatch()){const l=o.header(),u=this._reader.readMessageBody(o.bodyLength);return this._loadRecordBatch(l,u)}}return null}_readDictionaryBatch(e){var t;const i=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(i&&this._handle.seek(i.offset)){const o=this._reader.readMessage(Ze.DictionaryBatch);if(o!=null&&o.isDictionaryBatch()){const l=o.header(),u=this._reader.readMessageBody(o.bodyLength),d=this._loadDictionaryBatch(l,u);this.dictionaries.set(l.id,d)}}}_readFooter(){const{_handle:e}=this,t=e.size-Mv,i=e.readInt32(t),o=e.readAt(t-i,i);return Zo.decode(o)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(e)}return null}}class DE extends ou{constructor(e,...t){const i=typeof t[0]!="number"?t.shift():void 0,o=t[0]instanceof Map?t.shift():void 0;super(e instanceof Jl?e:new Jl(e,i),o)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){const t=Object.create(null,{open:{get:()=>super.open}});return De(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const i of this._footer.dictionaryBatches())i&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){var t;return De(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const i=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(i&&(yield this._handle.seek(i.offset))){const o=yield this._reader.readMessage(Ze.RecordBatch);if(o!=null&&o.isRecordBatch()){const l=o.header(),u=yield this._reader.readMessageBody(o.bodyLength);return this._loadRecordBatch(l,u)}}return null})}_readDictionaryBatch(e){var t;return De(this,void 0,void 0,function*(){const i=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(i&&(yield this._handle.seek(i.offset))){const o=yield this._reader.readMessage(Ze.DictionaryBatch);if(o!=null&&o.isDictionaryBatch()){const l=o.header(),u=yield this._reader.readMessageBody(o.bodyLength),d=this._loadDictionaryBatch(l,u);this.dictionaries.set(l.id,d)}}})}_readFooter(){return De(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const t=e.size-Mv,i=yield e.readInt32(t),o=yield e.readAt(t-i,i);return Zo.decode(o)})}_readNextMessageAndValidate(e){return De(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}}class xE extends su{constructor(e,t){super(e,t)}_loadVectors(e,t,i){return new j1(t,e.nodes,e.buffers,this.dictionaries).visitMany(i)}}function jv(r,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:r.autoDestroy}function*Dy(r){const e=Pr.from(r);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function xy(r){return dr(this,arguments,function*(){const t=yield Ue(Pr.from(r));try{if(!(yield Ue(t.open({autoDestroy:!1}))).closed)do yield yield Ue(t);while(!(yield Ue(t.reset().open())).closed)}finally{yield Ue(t.cancel())}})}function RE(r){return new ru(new xE(r))}function NE(r){const e=r.peek(oa+7&-8);return e&&e.byteLength>=4?Ah(e)?new zv(new Gv(r.read())):new ru(new su(r)):new ru(new su((function*(){})()))}function LE(r){return De(this,void 0,void 0,function*(){const e=yield r.peek(oa+7&-8);return e&&e.byteLength>=4?Ah(e)?new zv(new Gv(yield r.read())):new iu(new ou(r)):new iu(new ou((function(){return dr(this,arguments,function*(){})})()))})}function FE(r){return De(this,void 0,void 0,function*(){const{size:e}=yield r.stat(),t=new Jl(r,e);return e>=kE&&Ah(yield t.readAt(0,oa+7&-8))?new CE(new DE(t)):new iu(new ou(t))})}class bt extends Ve{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){const t=o=>o.flatMap(l=>Array.isArray(l)?t(l):l instanceof en?l.data.children:l.data),i=new bt;return i.visitMany(t(e)),i}visit(e){if(e instanceof Xe)return this.visitMany(e.data),this;const{type:t}=e;if(!Re.isDictionary(t)){const{length:i,nullCount:o}=e;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Re.isNull(t)||Wn.call(this,o<=0?new Uint8Array(0):dh(e.offset,i,e.nullBitmap)),this.nodes.push(new Ki(i,o))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Wn(r){const e=r.byteLength+7&-8;return this.buffers.push(r),this.bufferRegions.push(new hr(this._byteLength,e)),this._byteLength+=e,this}function OE(r){const{type:e,length:t,typeIds:i,valueOffsets:o}=r;if(Wn.call(this,i),e.mode===fn.Sparse)return Qd.call(this,r);if(e.mode===fn.Dense){if(r.offset<=0)return Wn.call(this,o),Qd.call(this,r);{const l=i.reduce((y,v)=>Math.max(y,v),i[0]),u=new Int32Array(l+1),d=new Int32Array(l+1).fill(-1),f=new Int32Array(t),g=ih(-o[0],t,o);for(let y,v,w=-1;++w<t;)(v=d[y=i[w]])===-1&&(v=d[y]=g[y]),f[w]=g[w]-v,++u[y];Wn.call(this,f);for(let y,v=-1,w=e.children.length;++v<w;)if(y=r.children[v]){const _=e.typeIds[v],N=Math.min(t,u[_]);this.visit(y.slice(d[_],N))}}}return this}function BE(r){let e;return r.nullCount>=r.length?Wn.call(this,new Uint8Array(0)):(e=r.values)instanceof Uint8Array?Wn.call(this,dh(r.offset,r.length,e)):Wn.call(this,Vl(r.values))}function bi(r){return Wn.call(this,r.values.subarray(0,r.length*r.stride))}function $v(r){const{length:e,values:t,valueOffsets:i}=r,o=i[0],l=i[e],u=Math.min(l-o,t.byteLength-o);return Wn.call(this,ih(-i[0],e,i)),Wn.call(this,t.subarray(o,o+u)),this}function Th(r){const{length:e,valueOffsets:t}=r;return t&&Wn.call(this,ih(t[0],e,t)),this.visit(r.children[0])}function Qd(r){return this.visitMany(r.type.children.map((e,t)=>r.children[t]).filter(Boolean))[0]}bt.prototype.visitBool=BE;bt.prototype.visitInt=bi;bt.prototype.visitFloat=bi;bt.prototype.visitUtf8=$v;bt.prototype.visitBinary=$v;bt.prototype.visitFixedSizeBinary=bi;bt.prototype.visitDate=bi;bt.prototype.visitTimestamp=bi;bt.prototype.visitTime=bi;bt.prototype.visitDecimal=bi;bt.prototype.visitList=Th;bt.prototype.visitStruct=Qd;bt.prototype.visitUnion=OE;bt.prototype.visitInterval=bi;bt.prototype.visitFixedSizeList=Th;bt.prototype.visitMap=Th;class Vv extends yh{constructor(e){super(),this._position=0,this._started=!1,this._sink=new Dl,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,nn(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return hi(e)?e.then(t=>this.writeAll(t)):$s(e)?Dh(this,e):Ch(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof Dl?this._sink=e:(this._sink=new Dl,e&&rS(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&iS(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!Hd(t,this._schema))&&(t==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof jt&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof en&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!Hd(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof en?e instanceof _h||this._writeRecordBatch(e):e instanceof jt?this.writeAll(e.batches):na(e)&&this.writeAll(e)}_writeMessage(e,t=8){const i=t-1,o=Vt.encode(e),l=o.byteLength,u=this._writeLegacyIpcFormat?4:8,d=l+u+i&~i,f=d-l-u;return e.headerType===Ze.RecordBatch?this._recordBatchBlocks.push(new yi(d,e.bodyLength,this._position)):e.headerType===Ze.DictionaryBatch&&this._dictionaryBlocks.push(new yi(d,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(d-u)),l>0&&this._write(o),this._writePadding(f)}_write(e){if(this._started){const t=Ye(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(Vt.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Xo)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:t,nodes:i,bufferRegions:o,buffers:l}=bt.assemble(e),u=new pn(e.numRows,i,o),d=Vt.from(u,t);return this._writeDictionaries(e)._writeMessage(d)._writeBodyBuffers(l)}_writeDictionaryBatch(e,t,i=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));const{byteLength:o,nodes:l,bufferRegions:u,buffers:d}=bt.assemble(new Xe([e])),f=new pn(e.length,l,u),g=new gr(f,t,i),y=Vt.from(g,o);return this._writeMessage(y)._writeBodyBuffers(d)}_writeBodyBuffers(e){let t,i,o;for(let l=-1,u=e.length;++l<u;)(t=e[l])&&(i=t.byteLength)>0&&(this._write(t),(o=(i+7&-8)-i)>0&&this._writePadding(o));return this}_writeDictionaries(e){for(let[t,i]of e.dictionaries){let o=this._dictionaryDeltaOffsets.get(t)||0;if(o===0||(i=i==null?void 0:i.slice(o)).length>0)for(const l of i.data)this._writeDictionaryBatch(l,t,o>0),o+=l.length}return this}}class Ih extends Vv{static writeAll(e,t){const i=new Ih(t);return hi(e)?e.then(o=>i.writeAll(o)):$s(e)?Dh(i,e):Ch(i,e)}}class kh extends Vv{static writeAll(e){const t=new kh;return hi(e)?e.then(i=>t.writeAll(i)):$s(e)?Dh(t,e):Ch(t,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){const t=Zo.encode(new Zo(e,hn.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}}function Ch(r,e){let t=e;e instanceof jt&&(t=e.batches,r.reset(void 0,e.schema));for(const i of t)r.write(i);return r.finish()}function Dh(r,e){var t,i,o,l;return De(this,void 0,void 0,function*(){try{for(t=Wi(e);i=yield t.next(),!i.done;){const u=i.value;r.write(u)}}catch(u){o={error:u}}finally{try{i&&!i.done&&(l=t.return)&&(yield l.call(t))}finally{if(o)throw o.error}}return r.finish()})}function Go(r){const e=Pr.from(r);return hi(e)?e.then(t=>Go(t)):e.isAsync()?e.readAll().then(t=>new jt(t)):new jt(e.readAll())}function Dd(r,e="stream"){return(e==="stream"?Ih:kh).writeAll(r).toUint8Array(!0)}var Ry=(function(){function r(e,t,i,o){var l=this;this.getCell=function(u,d){var f=u<l.headerRows&&d<l.headerColumns,g=u>=l.headerRows&&d<l.headerColumns,y=u<l.headerRows&&d>=l.headerColumns;if(f){var v=["blank"];return d>0&&v.push("level"+u),{type:"blank",classNames:v.join(" "),content:""}}else if(y){var w=d-l.headerColumns,v=["col_heading","level"+u,"col"+w];return{type:"columns",classNames:v.join(" "),content:l.getContent(l.columnsTable,w,u)}}else if(g){var _=u-l.headerRows,v=["row_heading","level"+d,"row"+_];return{type:"index",id:"T_".concat(l.uuid,"level").concat(d,"_row").concat(_),classNames:v.join(" "),content:l.getContent(l.indexTable,_,d)}}else{var _=u-l.headerRows,w=d-l.headerColumns,v=["data","row"+_,"col"+w],N=l.styler?l.getContent(l.styler.displayValuesTable,_,w):l.getContent(l.dataTable,_,w);return{type:"data",id:"T_".concat(l.uuid,"row").concat(_,"_col").concat(w),classNames:v.join(" "),content:N}}},this.getContent=function(u,d,f){var g=u.getChildAt(f);if(g===null)return"";var y=l.getColumnTypeId(u,f);switch(y){case D.Timestamp:return l.nanosToDate(g.get(d));default:return g.get(d)}},this.dataTable=Go(e),this.indexTable=Go(t),this.columnsTable=Go(i),this.styler=o?{caption:o.caption,displayValuesTable:Go(o.displayValues),styles:o.styles,uuid:o.uuid}:void 0}return Object.defineProperty(r.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),r.prototype.serialize=function(){return{data:Dd(this.dataTable),index:Dd(this.indexTable),columns:Dd(this.columnsTable)}},r.prototype.getColumnTypeId=function(e,t){return e.schema.fields[t].type.typeId},r.prototype.nanosToDate=function(e){return new Date(e/1e6)},r})(),Vo=function(){return Vo=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Vo.apply(this,arguments)},Wo;(function(r){r.COMPONENT_READY="streamlit:componentReady",r.SET_COMPONENT_VALUE="streamlit:setComponentValue",r.SET_FRAME_HEIGHT="streamlit:setFrameHeight"})(Wo||(Wo={}));var $n=(function(){function r(){}return r.API_VERSION=1,r.RENDER_EVENT="streamlit:render",r.events=new EventTarget,r.registeredMessageListener=!1,r.setComponentReady=function(){r.registeredMessageListener||(window.addEventListener("message",r.onMessageEvent),r.registeredMessageListener=!0),r.sendBackMsg(Wo.COMPONENT_READY,{apiVersion:r.API_VERSION})},r.setFrameHeight=function(e){e===void 0&&(e=document.body.scrollHeight),e!==r.lastFrameHeight&&(r.lastFrameHeight=e,r.sendBackMsg(Wo.SET_FRAME_HEIGHT,{height:e}))},r.setComponentValue=function(e){var t;e instanceof Ry?(t="dataframe",e=e.serialize()):ME(e)?(t="bytes",e=new Uint8Array(e.buffer)):e instanceof ArrayBuffer?(t="bytes",e=new Uint8Array(e)):t="json",r.sendBackMsg(Wo.SET_COMPONENT_VALUE,{value:e,dataType:t})},r.onMessageEvent=function(e){var t=e.data.type;switch(t){case r.RENDER_EVENT:r.onRenderMessage(e.data);break}},r.onRenderMessage=function(e){var t=e.args;t==null&&(console.error("Got null args in onRenderMessage. This should never happen"),t={});var i=e.dfs&&e.dfs.length>0?r.argsDataframeToObject(e.dfs):{};t=Vo(Vo({},t),i);var o=!!e.disabled,l=e.theme;l&&PE(l);var u={disabled:o,args:t,theme:l},d=new CustomEvent(r.RENDER_EVENT,{detail:u});r.events.dispatchEvent(d)},r.argsDataframeToObject=function(e){var t=e.map(function(i){var o=i.key,l=i.value;return[o,r.toArrowTable(l)]});return Object.fromEntries(t)},r.toArrowTable=function(e){var t,i=(t=e.data,t.data),o=t.index,l=t.columns,u=t.styler;return new Ry(i,o,l,u)},r.sendBackMsg=function(e,t){window.parent.postMessage(Vo({isStreamlitMessage:!0,type:e},t),"*")},r})(),PE=function(r){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML=`
    :root {
      --primary-color: `.concat(r.primaryColor,`;
      --background-color: `).concat(r.backgroundColor,`;
      --secondary-background-color: `).concat(r.secondaryBackgroundColor,`;
      --text-color: `).concat(r.textColor,`;
      --font: `).concat(r.font,`;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
    }
  `)};function ME(r){var e=!1;try{e=r instanceof BigInt64Array||r instanceof BigUint64Array}catch{}return r instanceof Int8Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array||e}var Wv=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}})();(function(r){Wv(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){$n.setFrameHeight()},e.prototype.componentDidUpdate=function(){$n.setFrameHeight()},e})(Ss.PureComponent);function zE(r){var e=(function(t){Wv(i,t);function i(o){var l=t.call(this,o)||this;return l.componentDidMount=function(){$n.events.addEventListener($n.RENDER_EVENT,l.onRenderEvent),$n.setComponentReady()},l.componentDidUpdate=function(){l.state.componentError!=null&&$n.setFrameHeight()},l.componentWillUnmount=function(){$n.events.removeEventListener($n.RENDER_EVENT,l.onRenderEvent)},l.onRenderEvent=function(u){l.setState({renderData:u.detail})},l.state={renderData:void 0,componentError:void 0},l}return i.prototype.render=function(){return this.state.componentError!=null?Ss.createElement("div",null,Ss.createElement("h1",null,"Component Error"),Ss.createElement("span",null,this.state.componentError.message)):this.state.renderData==null?null:Ss.createElement(r,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},i.getDerivedStateFromError=function(o){return{componentError:o}},i})(Ss.PureComponent);return K_(e,r)}const UE=({nodeTypes:r,relationshipTypes:e,graphOrder:t,graphSize:i})=>{const[o,l]=Gt.useState(!0),u=()=>{l(d=>!d)};return te.jsxs("div",{className:"legend-panel",children:[te.jsxs("div",{className:"legend-header",children:[te.jsx("h3",{children:"Legend"}),te.jsx("button",{onClick:u,className:"legend-toggle-button",children:o?"":"+"})]}),o&&te.jsxs(te.Fragment,{children:[te.jsxs("div",{className:"legend-section",children:[te.jsx("h4",{className:"legend-section-title",children:"Labels"}),te.jsx("div",{className:"legend-items-compact",children:r.map(d=>te.jsxs("div",{className:"legend-item-compact",children:[te.jsx("div",{className:"legend-color-small",style:{backgroundColor:d.color}}),te.jsx("span",{className:"legend-label",children:d.type})]},d.type))})]}),te.jsxs("div",{className:"legend-section",children:[te.jsx("h4",{className:"legend-section-title",children:"Relations"}),te.jsx("div",{className:"relationship-types-compact",children:e.map(d=>te.jsxs("div",{className:"relationship-item-compact",children:[te.jsx("span",{className:"relationship-icon-small",children:""}),te.jsx("span",{className:"relationship-label",children:d.type}),te.jsxs("span",{className:"relationship-count-small",children:["(",d.count,")"]})]},d.type))})]}),te.jsxs("div",{className:"legend-stats-compact",children:[te.jsxs("div",{className:"stat-item-compact",children:[te.jsx("span",{className:"stat-label",children:"Nodes"}),te.jsx("span",{className:"stat-value",children:t})]}),te.jsx("div",{className:"stat-divider",children:"|"}),te.jsxs("div",{className:"stat-item-compact",children:[te.jsx("span",{className:"stat-label",children:"Edges"}),te.jsx("span",{className:"stat-value",children:i})]})]})]})]})},GE=({properties:r})=>{const e=Object.entries(r).filter(([t])=>!["size","baseSize","baseColor"].includes(t));return e.length===0?te.jsx("p",{className:"no-properties",children:"No properties available"}):te.jsx(te.Fragment,{children:e.map(([t,i])=>te.jsxs("div",{className:"property-item",children:[te.jsx("span",{className:"property-label",children:t}),te.jsx("span",{className:"property-value",children:typeof i=="object"?JSON.stringify(i):String(i)})]},t))})},jE=({id:r,labels:e,color:t,properties:i})=>te.jsxs("div",{className:"property-group",children:[te.jsx("h4",{children:"Basic Information"}),te.jsxs("div",{className:"property-item",children:[te.jsx("span",{className:"property-label",children:"ID"}),te.jsx("span",{className:"property-value",children:r})]}),te.jsxs("div",{className:"property-item",children:[te.jsx("span",{className:"property-label",children:"Labels"}),te.jsx("div",{className:"labels-container",children:e.map((o,l)=>te.jsx("span",{className:"property-badge",style:{backgroundColor:t+"20",color:t,border:`1.5px solid ${t}`,marginRight:"5px"},children:o},l))})]})]}),$E=({properties:r})=>te.jsxs("div",{className:"property-group",children:[te.jsx("h4",{children:"Properties"}),te.jsx(GE,{properties:r})]}),VE=({selectedNode:r,onClose:e})=>te.jsxs("div",{className:"properties-panel",children:[te.jsxs("div",{className:"properties-header",children:[te.jsx("h3",{children:"Node Properties"}),te.jsx("button",{className:"close-button",onClick:e,children:""})]}),te.jsxs("div",{className:"properties-content",children:[te.jsx(jE,{id:r.id,labels:r.labels,color:r.color,properties:r.properties}),te.jsx($E,{properties:r.properties})]})]}),WE=({properties:r})=>{const e=Object.entries(r).filter(([t])=>!["size","baseSize","baseColor"].includes(t));return e.length===0?te.jsx("p",{className:"no-properties",children:"No properties available"}):te.jsx(te.Fragment,{children:e.map(([t,i])=>te.jsxs("div",{className:"property-item",children:[te.jsx("span",{className:"property-label",children:t}),te.jsx("span",{className:"property-value",children:typeof i=="object"?JSON.stringify(i):String(i)})]},t))})},HE=({id:r,source:e,target:t,relType:i,color:o})=>te.jsxs("div",{className:"property-group",children:[te.jsx("h4",{children:"Basic Information"}),te.jsxs("div",{className:"property-item",children:[te.jsx("span",{className:"property-label",children:"ID"}),te.jsx("span",{className:"property-value",children:r})]}),te.jsxs("div",{className:"property-item",children:[te.jsx("span",{className:"property-label",children:"Type"}),te.jsx("span",{className:"property-badge",style:{backgroundColor:o+"20",color:o,border:`1.5px solid ${o}`},children:i})]}),te.jsxs("div",{className:"property-item",children:[te.jsx("span",{className:"property-label",children:"Source"}),te.jsx("span",{className:"property-value",children:e})]}),te.jsxs("div",{className:"property-item",children:[te.jsx("span",{className:"property-label",children:"Target"}),te.jsx("span",{className:"property-value",children:t})]})]}),YE=({properties:r})=>te.jsxs("div",{className:"property-group",children:[te.jsx("h4",{children:"Properties"}),te.jsx(WE,{properties:r})]}),KE=({selectedEdge:r,onClose:e})=>te.jsxs("div",{className:"properties-panel relationship-panel",children:[te.jsxs("div",{className:"properties-header",children:[te.jsx("h3",{children:"Relationship Properties"}),te.jsx("button",{className:"close-button",onClick:e,children:""})]}),te.jsxs("div",{className:"properties-content",children:[te.jsx(HE,{id:r.id,source:r.source,target:r.target,relType:r.relType,color:r.color}),te.jsx(YE,{properties:r.properties})]})]});function qE(){const r=arguments[0];for(let e=1,t=arguments.length;e<t;e++)if(arguments[e])for(const i in arguments[e])r[i]=arguments[e][i];return r}let Tt=qE;typeof Object.assign=="function"&&(Tt=Object.assign);function kn(r,e,t,i){const o=r._nodes.get(e);let l=null;return o&&(i==="mixed"?l=o.out&&o.out[t]||o.undirected&&o.undirected[t]:i==="directed"?l=o.out&&o.out[t]:l=o.undirected&&o.undirected[t]),l}function Nt(r){return typeof r=="object"&&r!==null}function Hv(r){let e;for(e in r)return!1;return!0}function Sn(r,e,t){Object.defineProperty(r,e,{enumerable:!1,configurable:!1,writable:!0,value:t})}function Un(r,e,t){const i={enumerable:!0,configurable:!0};typeof t=="function"?i.get=t:(i.value=t,i.writable=!1),Object.defineProperty(r,e,i)}function Ny(r){return!(!Nt(r)||r.attributes&&!Array.isArray(r.attributes))}function QE(){let r=Math.floor(Math.random()*256)&255;return()=>r++}function Mr(){const r=arguments;let e=null,t=-1;return{[Symbol.iterator](){return this},next(){let i=null;do{if(e===null){if(t++,t>=r.length)return{done:!0};e=r[t][Symbol.iterator]()}if(i=e.next(),i.done){e=null;continue}break}while(!0);return i}}}function Ws(){return{[Symbol.iterator](){return this},next(){return{done:!0}}}}class xh extends Error{constructor(e){super(),this.name="GraphError",this.message=e}}class ae extends xh{constructor(e){super(e),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ae.prototype.constructor)}}class re extends xh{constructor(e){super(e),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,re.prototype.constructor)}}class Ie extends xh{constructor(e){super(e),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Ie.prototype.constructor)}}function Yv(r,e){this.key=r,this.attributes=e,this.clear()}Yv.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function Kv(r,e){this.key=r,this.attributes=e,this.clear()}Kv.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function qv(r,e){this.key=r,this.attributes=e,this.clear()}qv.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function Hs(r,e,t,i,o){this.key=e,this.attributes=o,this.undirected=r,this.source=t,this.target=i}Hs.prototype.attach=function(){let r="out",e="in";this.undirected&&(r=e="undirected");const t=this.source.key,i=this.target.key;this.source[r][i]=this,!(this.undirected&&t===i)&&(this.target[e][t]=this)};Hs.prototype.attachMulti=function(){let r="out",e="in";const t=this.source.key,i=this.target.key;this.undirected&&(r=e="undirected");const o=this.source[r],l=o[i];if(typeof l>"u"){o[i]=this,this.undirected&&t===i||(this.target[e][t]=this);return}l.previous=this,this.next=l,o[i]=this,this.target[e][t]=this};Hs.prototype.detach=function(){const r=this.source.key,e=this.target.key;let t="out",i="in";this.undirected&&(t=i="undirected"),delete this.source[t][e],delete this.target[i][r]};Hs.prototype.detachMulti=function(){const r=this.source.key,e=this.target.key;let t="out",i="in";this.undirected&&(t=i="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[t][e],delete this.target[i][r]):(this.next.previous=void 0,this.source[t][e]=this.next,this.target[i][r]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const Qv=0,Zv=1,ZE=2,Xv=3;function jr(r,e,t,i,o,l,u){let d,f,g,y;if(i=""+i,t===Qv){if(d=r._nodes.get(i),!d)throw new re(`Graph.${e}: could not find the "${i}" node in the graph.`);g=o,y=l}else if(t===Xv){if(o=""+o,f=r._edges.get(o),!f)throw new re(`Graph.${e}: could not find the "${o}" edge in the graph.`);const v=f.source.key,w=f.target.key;if(i===v)d=f.target;else if(i===w)d=f.source;else throw new re(`Graph.${e}: the "${i}" node is not attached to the "${o}" edge (${v}, ${w}).`);g=l,y=u}else{if(f=r._edges.get(i),!f)throw new re(`Graph.${e}: could not find the "${i}" edge in the graph.`);t===Zv?d=f.source:d=f.target,g=o,y=l}return[d,g,y]}function XE(r,e,t){r.prototype[e]=function(i,o,l){const[u,d]=jr(this,e,t,i,o,l);return u.attributes[d]}}function JE(r,e,t){r.prototype[e]=function(i,o){const[l]=jr(this,e,t,i,o);return l.attributes}}function eA(r,e,t){r.prototype[e]=function(i,o,l){const[u,d]=jr(this,e,t,i,o,l);return u.attributes.hasOwnProperty(d)}}function tA(r,e,t){r.prototype[e]=function(i,o,l,u){const[d,f,g]=jr(this,e,t,i,o,l,u);return d.attributes[f]=g,this.emit("nodeAttributesUpdated",{key:d.key,type:"set",attributes:d.attributes,name:f}),this}}function nA(r,e,t){r.prototype[e]=function(i,o,l,u){const[d,f,g]=jr(this,e,t,i,o,l,u);if(typeof g!="function")throw new ae(`Graph.${e}: updater should be a function.`);const y=d.attributes,v=g(y[f]);return y[f]=v,this.emit("nodeAttributesUpdated",{key:d.key,type:"set",attributes:d.attributes,name:f}),this}}function rA(r,e,t){r.prototype[e]=function(i,o,l){const[u,d]=jr(this,e,t,i,o,l);return delete u.attributes[d],this.emit("nodeAttributesUpdated",{key:u.key,type:"remove",attributes:u.attributes,name:d}),this}}function iA(r,e,t){r.prototype[e]=function(i,o,l){const[u,d]=jr(this,e,t,i,o,l);if(!Nt(d))throw new ae(`Graph.${e}: provided attributes are not a plain object.`);return u.attributes=d,this.emit("nodeAttributesUpdated",{key:u.key,type:"replace",attributes:u.attributes}),this}}function sA(r,e,t){r.prototype[e]=function(i,o,l){const[u,d]=jr(this,e,t,i,o,l);if(!Nt(d))throw new ae(`Graph.${e}: provided attributes are not a plain object.`);return Tt(u.attributes,d),this.emit("nodeAttributesUpdated",{key:u.key,type:"merge",attributes:u.attributes,data:d}),this}}function oA(r,e,t){r.prototype[e]=function(i,o,l){const[u,d]=jr(this,e,t,i,o,l);if(typeof d!="function")throw new ae(`Graph.${e}: provided updater is not a function.`);return u.attributes=d(u.attributes),this.emit("nodeAttributesUpdated",{key:u.key,type:"update",attributes:u.attributes}),this}}const aA=[{name:r=>`get${r}Attribute`,attacher:XE},{name:r=>`get${r}Attributes`,attacher:JE},{name:r=>`has${r}Attribute`,attacher:eA},{name:r=>`set${r}Attribute`,attacher:tA},{name:r=>`update${r}Attribute`,attacher:nA},{name:r=>`remove${r}Attribute`,attacher:rA},{name:r=>`replace${r}Attributes`,attacher:iA},{name:r=>`merge${r}Attributes`,attacher:sA},{name:r=>`update${r}Attributes`,attacher:oA}];function lA(r){aA.forEach(function({name:e,attacher:t}){t(r,e("Node"),Qv),t(r,e("Source"),Zv),t(r,e("Target"),ZE),t(r,e("Opposite"),Xv)})}function uA(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Ie(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Ie(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+i,d=""+o;if(o=arguments[2],l=kn(this,u,d,t),!l)throw new re(`Graph.${e}: could not find an edge for the given path ("${u}" - "${d}").`)}else{if(t!=="mixed")throw new Ie(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new re(`Graph.${e}: could not find the "${i}" edge in the graph.`)}return l.attributes[o]}}function cA(r,e,t){r.prototype[e]=function(i){let o;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Ie(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new Ie(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const l=""+i,u=""+arguments[1];if(o=kn(this,l,u,t),!o)throw new re(`Graph.${e}: could not find an edge for the given path ("${l}" - "${u}").`)}else{if(t!=="mixed")throw new Ie(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,o=this._edges.get(i),!o)throw new re(`Graph.${e}: could not find the "${i}" edge in the graph.`)}return o.attributes}}function dA(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Ie(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Ie(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+i,d=""+o;if(o=arguments[2],l=kn(this,u,d,t),!l)throw new re(`Graph.${e}: could not find an edge for the given path ("${u}" - "${d}").`)}else{if(t!=="mixed")throw new Ie(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new re(`Graph.${e}: could not find the "${i}" edge in the graph.`)}return l.attributes.hasOwnProperty(o)}}function hA(r,e,t){r.prototype[e]=function(i,o,l){let u;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Ie(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new Ie(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const d=""+i,f=""+o;if(o=arguments[2],l=arguments[3],u=kn(this,d,f,t),!u)throw new re(`Graph.${e}: could not find an edge for the given path ("${d}" - "${f}").`)}else{if(t!=="mixed")throw new Ie(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,u=this._edges.get(i),!u)throw new re(`Graph.${e}: could not find the "${i}" edge in the graph.`)}return u.attributes[o]=l,this.emit("edgeAttributesUpdated",{key:u.key,type:"set",attributes:u.attributes,name:o}),this}}function fA(r,e,t){r.prototype[e]=function(i,o,l){let u;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Ie(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new Ie(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const d=""+i,f=""+o;if(o=arguments[2],l=arguments[3],u=kn(this,d,f,t),!u)throw new re(`Graph.${e}: could not find an edge for the given path ("${d}" - "${f}").`)}else{if(t!=="mixed")throw new Ie(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,u=this._edges.get(i),!u)throw new re(`Graph.${e}: could not find the "${i}" edge in the graph.`)}if(typeof l!="function")throw new ae(`Graph.${e}: updater should be a function.`);return u.attributes[o]=l(u.attributes[o]),this.emit("edgeAttributesUpdated",{key:u.key,type:"set",attributes:u.attributes,name:o}),this}}function pA(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Ie(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Ie(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+i,d=""+o;if(o=arguments[2],l=kn(this,u,d,t),!l)throw new re(`Graph.${e}: could not find an edge for the given path ("${u}" - "${d}").`)}else{if(t!=="mixed")throw new Ie(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new re(`Graph.${e}: could not find the "${i}" edge in the graph.`)}return delete l.attributes[o],this.emit("edgeAttributesUpdated",{key:l.key,type:"remove",attributes:l.attributes,name:o}),this}}function gA(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Ie(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Ie(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+i,d=""+o;if(o=arguments[2],l=kn(this,u,d,t),!l)throw new re(`Graph.${e}: could not find an edge for the given path ("${u}" - "${d}").`)}else{if(t!=="mixed")throw new Ie(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new re(`Graph.${e}: could not find the "${i}" edge in the graph.`)}if(!Nt(o))throw new ae(`Graph.${e}: provided attributes are not a plain object.`);return l.attributes=o,this.emit("edgeAttributesUpdated",{key:l.key,type:"replace",attributes:l.attributes}),this}}function yA(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Ie(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Ie(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+i,d=""+o;if(o=arguments[2],l=kn(this,u,d,t),!l)throw new re(`Graph.${e}: could not find an edge for the given path ("${u}" - "${d}").`)}else{if(t!=="mixed")throw new Ie(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new re(`Graph.${e}: could not find the "${i}" edge in the graph.`)}if(!Nt(o))throw new ae(`Graph.${e}: provided attributes are not a plain object.`);return Tt(l.attributes,o),this.emit("edgeAttributesUpdated",{key:l.key,type:"merge",attributes:l.attributes,data:o}),this}}function mA(r,e,t){r.prototype[e]=function(i,o){let l;if(this.type!=="mixed"&&t!=="mixed"&&t!==this.type)throw new Ie(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Ie(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const u=""+i,d=""+o;if(o=arguments[2],l=kn(this,u,d,t),!l)throw new re(`Graph.${e}: could not find an edge for the given path ("${u}" - "${d}").`)}else{if(t!=="mixed")throw new Ie(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,l=this._edges.get(i),!l)throw new re(`Graph.${e}: could not find the "${i}" edge in the graph.`)}if(typeof o!="function")throw new ae(`Graph.${e}: provided updater is not a function.`);return l.attributes=o(l.attributes),this.emit("edgeAttributesUpdated",{key:l.key,type:"update",attributes:l.attributes}),this}}const vA=[{name:r=>`get${r}Attribute`,attacher:uA},{name:r=>`get${r}Attributes`,attacher:cA},{name:r=>`has${r}Attribute`,attacher:dA},{name:r=>`set${r}Attribute`,attacher:hA},{name:r=>`update${r}Attribute`,attacher:fA},{name:r=>`remove${r}Attribute`,attacher:pA},{name:r=>`replace${r}Attributes`,attacher:gA},{name:r=>`merge${r}Attributes`,attacher:yA},{name:r=>`update${r}Attributes`,attacher:mA}];function wA(r){vA.forEach(function({name:e,attacher:t}){t(r,e("Edge"),"mixed"),t(r,e("DirectedEdge"),"directed"),t(r,e("UndirectedEdge"),"undirected")})}const bA=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function _A(r,e,t,i){let o=!1;for(const l in e){if(l===i)continue;const u=e[l];if(o=t(u.key,u.attributes,u.source.key,u.target.key,u.source.attributes,u.target.attributes,u.undirected),r&&o)return u.key}}function SA(r,e,t,i){let o,l,u,d=!1;for(const f in e)if(f!==i){o=e[f];do{if(l=o.source,u=o.target,d=t(o.key,o.attributes,l.key,u.key,l.attributes,u.attributes,o.undirected),r&&d)return o.key;o=o.next}while(o!==void 0)}}function xd(r,e){const t=Object.keys(r),i=t.length;let o,l=0;return{[Symbol.iterator](){return this},next(){do if(o)o=o.next;else{if(l>=i)return{done:!0};const u=t[l++];if(u===e){o=void 0;continue}o=r[u]}while(!o);return{done:!1,value:{edge:o.key,attributes:o.attributes,source:o.source.key,target:o.target.key,sourceAttributes:o.source.attributes,targetAttributes:o.target.attributes,undirected:o.undirected}}}}}function EA(r,e,t,i){const o=e[t];if(!o)return;const l=o.source,u=o.target;if(i(o.key,o.attributes,l.key,u.key,l.attributes,u.attributes,o.undirected)&&r)return o.key}function AA(r,e,t,i){let o=e[t];if(!o)return;let l=!1;do{if(l=i(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),r&&l)return o.key;o=o.next}while(o!==void 0)}function Rd(r,e){let t=r[e];if(t.next!==void 0)return{[Symbol.iterator](){return this},next(){if(!t)return{done:!0};const o={edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected};return t=t.next,{done:!1,value:o}}};let i=!1;return{[Symbol.iterator](){return this},next(){return i===!0?{done:!0}:(i=!0,{done:!1,value:{edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected}})}}}function TA(r,e){if(r.size===0)return[];if(e==="mixed"||e===r.type)return Array.from(r._edges.keys());const t=e==="undirected"?r.undirectedSize:r.directedSize,i=new Array(t),o=e==="undirected",l=r._edges.values();let u=0,d,f;for(;d=l.next(),d.done!==!0;)f=d.value,f.undirected===o&&(i[u++]=f.key);return i}function Jv(r,e,t,i){if(e.size===0)return;const o=t!=="mixed"&&t!==e.type,l=t==="undirected";let u,d,f=!1;const g=e._edges.values();for(;u=g.next(),u.done!==!0;){if(d=u.value,o&&d.undirected!==l)continue;const{key:y,attributes:v,source:w,target:_}=d;if(f=i(y,v,w.key,_.key,w.attributes,_.attributes,d.undirected),r&&f)return y}}function IA(r,e){if(r.size===0)return Ws();const t=e!=="mixed"&&e!==r.type,i=e==="undirected",o=r._edges.values();return{[Symbol.iterator](){return this},next(){let l,u;for(;;){if(l=o.next(),l.done)return l;if(u=l.value,!(t&&u.undirected!==i))break}return{value:{edge:u.key,attributes:u.attributes,source:u.source.key,target:u.target.key,sourceAttributes:u.source.attributes,targetAttributes:u.target.attributes,undirected:u.undirected},done:!1}}}}function Rh(r,e,t,i,o,l){const u=e?SA:_A;let d;if(t!=="undirected"&&(i!=="out"&&(d=u(r,o.in,l),r&&d)||i!=="in"&&(d=u(r,o.out,l,i?void 0:o.key),r&&d))||t!=="directed"&&(d=u(r,o.undirected,l),r&&d))return d}function kA(r,e,t,i){const o=[];return Rh(!1,r,e,t,i,function(l){o.push(l)}),o}function CA(r,e,t){let i=Ws();return r!=="undirected"&&(e!=="out"&&typeof t.in<"u"&&(i=Mr(i,xd(t.in))),e!=="in"&&typeof t.out<"u"&&(i=Mr(i,xd(t.out,e?void 0:t.key)))),r!=="directed"&&typeof t.undirected<"u"&&(i=Mr(i,xd(t.undirected))),i}function Nh(r,e,t,i,o,l,u){const d=t?AA:EA;let f;if(e!=="undirected"&&(typeof o.in<"u"&&i!=="out"&&(f=d(r,o.in,l,u),r&&f)||typeof o.out<"u"&&i!=="in"&&(i||o.key!==l)&&(f=d(r,o.out,l,u),r&&f))||e!=="directed"&&typeof o.undirected<"u"&&(f=d(r,o.undirected,l,u),r&&f))return f}function DA(r,e,t,i,o){const l=[];return Nh(!1,r,e,t,i,o,function(u){l.push(u)}),l}function xA(r,e,t,i){let o=Ws();return r!=="undirected"&&(typeof t.in<"u"&&e!=="out"&&i in t.in&&(o=Mr(o,Rd(t.in,i))),typeof t.out<"u"&&e!=="in"&&i in t.out&&(e||t.key!==i)&&(o=Mr(o,Rd(t.out,i)))),r!=="directed"&&typeof t.undirected<"u"&&i in t.undirected&&(o=Mr(o,Rd(t.undirected,i))),o}function RA(r,e){const{name:t,type:i,direction:o}=e;r.prototype[t]=function(l,u){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return[];if(!arguments.length)return TA(this,i);if(arguments.length===1){l=""+l;const d=this._nodes.get(l);if(typeof d>"u")throw new re(`Graph.${t}: could not find the "${l}" node in the graph.`);return kA(this.multi,i==="mixed"?this.type:i,o,d)}if(arguments.length===2){l=""+l,u=""+u;const d=this._nodes.get(l);if(!d)throw new re(`Graph.${t}:  could not find the "${l}" source node in the graph.`);if(!this._nodes.has(u))throw new re(`Graph.${t}:  could not find the "${u}" target node in the graph.`);return DA(i,this.multi,o,d,u)}throw new ae(`Graph.${t}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function NA(r,e){const{name:t,type:i,direction:o}=e,l="forEach"+t[0].toUpperCase()+t.slice(1,-1);r.prototype[l]=function(g,y,v){if(!(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)){if(arguments.length===1)return v=g,Jv(!1,this,i,v);if(arguments.length===2){g=""+g,v=y;const w=this._nodes.get(g);if(typeof w>"u")throw new re(`Graph.${l}: could not find the "${g}" node in the graph.`);return Rh(!1,this.multi,i==="mixed"?this.type:i,o,w,v)}if(arguments.length===3){g=""+g,y=""+y;const w=this._nodes.get(g);if(!w)throw new re(`Graph.${l}:  could not find the "${g}" source node in the graph.`);if(!this._nodes.has(y))throw new re(`Graph.${l}:  could not find the "${y}" target node in the graph.`);return Nh(!1,i,this.multi,o,w,y,v)}throw new ae(`Graph.${l}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const u="map"+t[0].toUpperCase()+t.slice(1);r.prototype[u]=function(){const g=Array.prototype.slice.call(arguments),y=g.pop();let v;if(g.length===0){let w=0;i!=="directed"&&(w+=this.undirectedSize),i!=="undirected"&&(w+=this.directedSize),v=new Array(w);let _=0;g.push((N,L,P,Z,j,$,x)=>{v[_++]=y(N,L,P,Z,j,$,x)})}else v=[],g.push((w,_,N,L,P,Z,j)=>{v.push(y(w,_,N,L,P,Z,j))});return this[l].apply(this,g),v};const d="filter"+t[0].toUpperCase()+t.slice(1);r.prototype[d]=function(){const g=Array.prototype.slice.call(arguments),y=g.pop(),v=[];return g.push((w,_,N,L,P,Z,j)=>{y(w,_,N,L,P,Z,j)&&v.push(w)}),this[l].apply(this,g),v};const f="reduce"+t[0].toUpperCase()+t.slice(1);r.prototype[f]=function(){let g=Array.prototype.slice.call(arguments);if(g.length<2||g.length>4)throw new ae(`Graph.${f}: invalid number of arguments (expecting 2, 3 or 4 and got ${g.length}).`);if(typeof g[g.length-1]=="function"&&typeof g[g.length-2]!="function")throw new ae(`Graph.${f}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let y,v;g.length===2?(y=g[0],v=g[1],g=[]):g.length===3?(y=g[1],v=g[2],g=[g[0]]):g.length===4&&(y=g[2],v=g[3],g=[g[0],g[1]]);let w=v;return g.push((_,N,L,P,Z,j,$)=>{w=y(w,_,N,L,P,Z,j,$)}),this[l].apply(this,g),w}}function LA(r,e){const{name:t,type:i,direction:o}=e,l="find"+t[0].toUpperCase()+t.slice(1,-1);r.prototype[l]=function(f,g,y){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return!1;if(arguments.length===1)return y=f,Jv(!0,this,i,y);if(arguments.length===2){f=""+f,y=g;const v=this._nodes.get(f);if(typeof v>"u")throw new re(`Graph.${l}: could not find the "${f}" node in the graph.`);return Rh(!0,this.multi,i==="mixed"?this.type:i,o,v,y)}if(arguments.length===3){f=""+f,g=""+g;const v=this._nodes.get(f);if(!v)throw new re(`Graph.${l}:  could not find the "${f}" source node in the graph.`);if(!this._nodes.has(g))throw new re(`Graph.${l}:  could not find the "${g}" target node in the graph.`);return Nh(!0,i,this.multi,o,v,g,y)}throw new ae(`Graph.${l}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const u="some"+t[0].toUpperCase()+t.slice(1,-1);r.prototype[u]=function(){const f=Array.prototype.slice.call(arguments),g=f.pop();return f.push((v,w,_,N,L,P,Z)=>g(v,w,_,N,L,P,Z)),!!this[l].apply(this,f)};const d="every"+t[0].toUpperCase()+t.slice(1,-1);r.prototype[d]=function(){const f=Array.prototype.slice.call(arguments),g=f.pop();return f.push((v,w,_,N,L,P,Z)=>!g(v,w,_,N,L,P,Z)),!this[l].apply(this,f)}}function FA(r,e){const{name:t,type:i,direction:o}=e,l=t.slice(0,-1)+"Entries";r.prototype[l]=function(u,d){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return Ws();if(!arguments.length)return IA(this,i);if(arguments.length===1){u=""+u;const f=this._nodes.get(u);if(!f)throw new re(`Graph.${l}: could not find the "${u}" node in the graph.`);return CA(i,o,f)}if(arguments.length===2){u=""+u,d=""+d;const f=this._nodes.get(u);if(!f)throw new re(`Graph.${l}:  could not find the "${u}" source node in the graph.`);if(!this._nodes.has(d))throw new re(`Graph.${l}:  could not find the "${d}" target node in the graph.`);return xA(i,o,f,d)}throw new ae(`Graph.${l}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function OA(r){bA.forEach(e=>{RA(r,e),NA(r,e),LA(r,e),FA(r,e)})}const BA=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function fu(){this.A=null,this.B=null}fu.prototype.wrap=function(r){this.A===null?this.A=r:this.B===null&&(this.B=r)};fu.prototype.has=function(r){return this.A!==null&&r in this.A||this.B!==null&&r in this.B};function Mo(r,e,t,i,o){for(const l in i){const u=i[l],d=u.source,f=u.target,g=d===t?f:d;if(e&&e.has(g.key))continue;const y=o(g.key,g.attributes);if(r&&y)return g.key}}function Lh(r,e,t,i,o){if(e!=="mixed"){if(e==="undirected")return Mo(r,null,i,i.undirected,o);if(typeof t=="string")return Mo(r,null,i,i[t],o)}const l=new fu;let u;if(e!=="undirected"){if(t!=="out"){if(u=Mo(r,null,i,i.in,o),r&&u)return u;l.wrap(i.in)}if(t!=="in"){if(u=Mo(r,l,i,i.out,o),r&&u)return u;l.wrap(i.out)}}if(e!=="directed"&&(u=Mo(r,l,i,i.undirected,o),r&&u))return u}function PA(r,e,t){if(r!=="mixed"){if(r==="undirected")return Object.keys(t.undirected);if(typeof e=="string")return Object.keys(t[e])}const i=[];return Lh(!1,r,e,t,function(o){i.push(o)}),i}function zo(r,e,t){const i=Object.keys(t),o=i.length;let l=0;return{[Symbol.iterator](){return this},next(){let u=null;do{if(l>=o)return r&&r.wrap(t),{done:!0};const d=t[i[l++]],f=d.source,g=d.target;if(u=f===e?g:f,r&&r.has(u.key)){u=null;continue}}while(u===null);return{done:!1,value:{neighbor:u.key,attributes:u.attributes}}}}}function MA(r,e,t){if(r!=="mixed"){if(r==="undirected")return zo(null,t,t.undirected);if(typeof e=="string")return zo(null,t,t[e])}let i=Ws();const o=new fu;return r!=="undirected"&&(e!=="out"&&(i=Mr(i,zo(o,t,t.in))),e!=="in"&&(i=Mr(i,zo(o,t,t.out)))),r!=="directed"&&(i=Mr(i,zo(o,t,t.undirected))),i}function zA(r,e){const{name:t,type:i,direction:o}=e;r.prototype[t]=function(l){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return[];l=""+l;const u=this._nodes.get(l);if(typeof u>"u")throw new re(`Graph.${t}: could not find the "${l}" node in the graph.`);return PA(i==="mixed"?this.type:i,o,u)}}function UA(r,e){const{name:t,type:i,direction:o}=e,l="forEach"+t[0].toUpperCase()+t.slice(1,-1);r.prototype[l]=function(g,y){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return;g=""+g;const v=this._nodes.get(g);if(typeof v>"u")throw new re(`Graph.${l}: could not find the "${g}" node in the graph.`);Lh(!1,i==="mixed"?this.type:i,o,v,y)};const u="map"+t[0].toUpperCase()+t.slice(1);r.prototype[u]=function(g,y){const v=[];return this[l](g,(w,_)=>{v.push(y(w,_))}),v};const d="filter"+t[0].toUpperCase()+t.slice(1);r.prototype[d]=function(g,y){const v=[];return this[l](g,(w,_)=>{y(w,_)&&v.push(w)}),v};const f="reduce"+t[0].toUpperCase()+t.slice(1);r.prototype[f]=function(g,y,v){if(arguments.length<3)throw new ae(`Graph.${f}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let w=v;return this[l](g,(_,N)=>{w=y(w,_,N)}),w}}function GA(r,e){const{name:t,type:i,direction:o}=e,l=t[0].toUpperCase()+t.slice(1,-1),u="find"+l;r.prototype[u]=function(g,y){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return;g=""+g;const v=this._nodes.get(g);if(typeof v>"u")throw new re(`Graph.${u}: could not find the "${g}" node in the graph.`);return Lh(!0,i==="mixed"?this.type:i,o,v,y)};const d="some"+l;r.prototype[d]=function(g,y){return!!this[u](g,y)};const f="every"+l;r.prototype[f]=function(g,y){return!this[u](g,(w,_)=>!y(w,_))}}function jA(r,e){const{name:t,type:i,direction:o}=e,l=t.slice(0,-1)+"Entries";r.prototype[l]=function(u){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return Ws();u=""+u;const d=this._nodes.get(u);if(typeof d>"u")throw new re(`Graph.${l}: could not find the "${u}" node in the graph.`);return MA(i==="mixed"?this.type:i,o,d)}}function $A(r){BA.forEach(e=>{zA(r,e),UA(r,e),GA(r,e),jA(r,e)})}function El(r,e,t,i,o){const l=i._nodes.values(),u=i.type;let d,f,g,y,v,w;for(;d=l.next(),d.done!==!0;){let _=!1;if(f=d.value,u!=="undirected"){y=f.out;for(g in y){v=y[g];do w=v.target,_=!0,o(f.key,w.key,f.attributes,w.attributes,v.key,v.attributes,v.undirected),v=v.next;while(v)}}if(u!=="directed"){y=f.undirected;for(g in y)if(!(e&&f.key>g)){v=y[g];do w=v.target,w.key!==g&&(w=v.source),_=!0,o(f.key,w.key,f.attributes,w.attributes,v.key,v.attributes,v.undirected),v=v.next;while(v)}}t&&!_&&o(f.key,null,f.attributes,null,null,null,null)}}function VA(r,e){const t={key:r};return Hv(e.attributes)||(t.attributes=Tt({},e.attributes)),t}function WA(r,e,t){const i={key:e,source:t.source.key,target:t.target.key};return Hv(t.attributes)||(i.attributes=Tt({},t.attributes)),r==="mixed"&&t.undirected&&(i.undirected=!0),i}function HA(r){if(!Nt(r))throw new ae('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in r))throw new ae("Graph.import: serialized node is missing its key.");if("attributes"in r&&(!Nt(r.attributes)||r.attributes===null))throw new ae("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function YA(r){if(!Nt(r))throw new ae('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in r))throw new ae("Graph.import: serialized edge is missing its source.");if(!("target"in r))throw new ae("Graph.import: serialized edge is missing its target.");if("attributes"in r&&(!Nt(r.attributes)||r.attributes===null))throw new ae("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in r&&typeof r.undirected!="boolean")throw new ae("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const KA=QE(),qA=new Set(["directed","undirected","mixed"]),Ly=new Set(["domain","_events","_eventsCount","_maxListeners"]),QA=[{name:r=>`${r}Edge`,generateKey:!0},{name:r=>`${r}DirectedEdge`,generateKey:!0,type:"directed"},{name:r=>`${r}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:r=>`${r}EdgeWithKey`},{name:r=>`${r}DirectedEdgeWithKey`,type:"directed"},{name:r=>`${r}UndirectedEdgeWithKey`,type:"undirected"}],ZA={allowSelfLoops:!0,multi:!1,type:"mixed"};function XA(r,e,t){if(t&&!Nt(t))throw new ae(`Graph.addNode: invalid attributes. Expecting an object but got "${t}"`);if(e=""+e,t=t||{},r._nodes.has(e))throw new Ie(`Graph.addNode: the "${e}" node already exist in the graph.`);const i=new r.NodeDataClass(e,t);return r._nodes.set(e,i),r.emit("nodeAdded",{key:e,attributes:t}),i}function Fy(r,e,t){const i=new r.NodeDataClass(e,t);return r._nodes.set(e,i),r.emit("nodeAdded",{key:e,attributes:t}),i}function e0(r,e,t,i,o,l,u,d){if(!i&&r.type==="undirected")throw new Ie(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(i&&r.type==="directed")throw new Ie(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(d&&!Nt(d))throw new ae(`Graph.${e}: invalid attributes. Expecting an object but got "${d}"`);if(l=""+l,u=""+u,d=d||{},!r.allowSelfLoops&&l===u)throw new Ie(`Graph.${e}: source & target are the same ("${l}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const f=r._nodes.get(l),g=r._nodes.get(u);if(!f)throw new re(`Graph.${e}: source node "${l}" not found.`);if(!g)throw new re(`Graph.${e}: target node "${u}" not found.`);const y={key:null,undirected:i,source:l,target:u,attributes:d};if(t)o=r._edgeKeyGenerator();else if(o=""+o,r._edges.has(o))throw new Ie(`Graph.${e}: the "${o}" edge already exists in the graph.`);if(!r.multi&&(i?typeof f.undirected[u]<"u":typeof f.out[u]<"u"))throw new Ie(`Graph.${e}: an edge linking "${l}" to "${u}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const v=new Hs(i,o,f,g,d);r._edges.set(o,v);const w=l===u;return i?(f.undirectedDegree++,g.undirectedDegree++,w&&(f.undirectedLoops++,r._undirectedSelfLoopCount++)):(f.outDegree++,g.inDegree++,w&&(f.directedLoops++,r._directedSelfLoopCount++)),r.multi?v.attachMulti():v.attach(),i?r._undirectedSize++:r._directedSize++,y.key=o,r.emit("edgeAdded",y),o}function JA(r,e,t,i,o,l,u,d,f){if(!i&&r.type==="undirected")throw new Ie(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(i&&r.type==="directed")throw new Ie(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(d){if(f){if(typeof d!="function")throw new ae(`Graph.${e}: invalid updater function. Expecting a function but got "${d}"`)}else if(!Nt(d))throw new ae(`Graph.${e}: invalid attributes. Expecting an object but got "${d}"`)}l=""+l,u=""+u;let g;if(f&&(g=d,d=void 0),!r.allowSelfLoops&&l===u)throw new Ie(`Graph.${e}: source & target are the same ("${l}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let y=r._nodes.get(l),v=r._nodes.get(u),w,_;if(!t&&(w=r._edges.get(o),w)){if((w.source.key!==l||w.target.key!==u)&&(!i||w.source.key!==u||w.target.key!==l))throw new Ie(`Graph.${e}: inconsistency detected when attempting to merge the "${o}" edge with "${l}" source & "${u}" target vs. ("${w.source.key}", "${w.target.key}").`);_=w}if(!_&&!r.multi&&y&&(_=i?y.undirected[u]:y.out[u]),_){const j=[_.key,!1,!1,!1];if(f?!g:!d)return j;if(f){const $=_.attributes;_.attributes=g($),r.emit("edgeAttributesUpdated",{type:"replace",key:_.key,attributes:_.attributes})}else Tt(_.attributes,d),r.emit("edgeAttributesUpdated",{type:"merge",key:_.key,attributes:_.attributes,data:d});return j}d=d||{},f&&g&&(d=g(d));const N={key:null,undirected:i,source:l,target:u,attributes:d};if(t)o=r._edgeKeyGenerator();else if(o=""+o,r._edges.has(o))throw new Ie(`Graph.${e}: the "${o}" edge already exists in the graph.`);let L=!1,P=!1;y||(y=Fy(r,l,{}),L=!0,l===u&&(v=y,P=!0)),v||(v=Fy(r,u,{}),P=!0),w=new Hs(i,o,y,v,d),r._edges.set(o,w);const Z=l===u;return i?(y.undirectedDegree++,v.undirectedDegree++,Z&&(y.undirectedLoops++,r._undirectedSelfLoopCount++)):(y.outDegree++,v.inDegree++,Z&&(y.directedLoops++,r._directedSelfLoopCount++)),r.multi?w.attachMulti():w.attach(),i?r._undirectedSize++:r._directedSize++,N.key=o,r.emit("edgeAdded",N),[o,!0,L,P]}function _s(r,e){r._edges.delete(e.key);const{source:t,target:i,attributes:o}=e,l=e.undirected,u=t===i;l?(t.undirectedDegree--,i.undirectedDegree--,u&&(t.undirectedLoops--,r._undirectedSelfLoopCount--)):(t.outDegree--,i.inDegree--,u&&(t.directedLoops--,r._directedSelfLoopCount--)),r.multi?e.detachMulti():e.detach(),l?r._undirectedSize--:r._directedSize--,r.emit("edgeDropped",{key:e.key,attributes:o,source:t.key,target:i.key,undirected:l})}class rt extends Xy.EventEmitter{constructor(e){if(super(),e=Tt({},ZA,e),typeof e.multi!="boolean")throw new ae(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${e.multi}".`);if(!qA.has(e.type))throw new ae(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${e.type}".`);if(typeof e.allowSelfLoops!="boolean")throw new ae(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${e.allowSelfLoops}".`);const t=e.type==="mixed"?Yv:e.type==="directed"?Kv:qv;Sn(this,"NodeDataClass",t);const i="geid_"+KA()+"_";let o=0;const l=()=>{let u;do u=i+o++;while(this._edges.has(u));return u};Sn(this,"_attributes",{}),Sn(this,"_nodes",new Map),Sn(this,"_edges",new Map),Sn(this,"_directedSize",0),Sn(this,"_undirectedSize",0),Sn(this,"_directedSelfLoopCount",0),Sn(this,"_undirectedSelfLoopCount",0),Sn(this,"_edgeKeyGenerator",l),Sn(this,"_options",e),Ly.forEach(u=>Sn(this,u,this[u])),Un(this,"order",()=>this._nodes.size),Un(this,"size",()=>this._edges.size),Un(this,"directedSize",()=>this._directedSize),Un(this,"undirectedSize",()=>this._undirectedSize),Un(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Un(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Un(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Un(this,"multi",this._options.multi),Un(this,"type",this._options.type),Un(this,"allowSelfLoops",this._options.allowSelfLoops),Un(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(e){return this._nodes.has(""+e)}hasDirectedEdge(e,t){if(this.type==="undirected")return!1;if(arguments.length===1){const i=""+e,o=this._edges.get(i);return!!o&&!o.undirected}else if(arguments.length===2){e=""+e,t=""+t;const i=this._nodes.get(e);return i?i.out.hasOwnProperty(t):!1}throw new ae(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(e,t){if(this.type==="directed")return!1;if(arguments.length===1){const i=""+e,o=this._edges.get(i);return!!o&&o.undirected}else if(arguments.length===2){e=""+e,t=""+t;const i=this._nodes.get(e);return i?i.undirected.hasOwnProperty(t):!1}throw new ae(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(e,t){if(arguments.length===1){const i=""+e;return this._edges.has(i)}else if(arguments.length===2){e=""+e,t=""+t;const i=this._nodes.get(e);return i?typeof i.out<"u"&&i.out.hasOwnProperty(t)||typeof i.undirected<"u"&&i.undirected.hasOwnProperty(t):!1}throw new ae(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(e,t){if(this.type==="undirected")return;if(e=""+e,t=""+t,this.multi)throw new Ie("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const i=this._nodes.get(e);if(!i)throw new re(`Graph.directedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(t))throw new re(`Graph.directedEdge: could not find the "${t}" target node in the graph.`);const o=i.out&&i.out[t]||void 0;if(o)return o.key}undirectedEdge(e,t){if(this.type==="directed")return;if(e=""+e,t=""+t,this.multi)throw new Ie("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const i=this._nodes.get(e);if(!i)throw new re(`Graph.undirectedEdge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(t))throw new re(`Graph.undirectedEdge: could not find the "${t}" target node in the graph.`);const o=i.undirected&&i.undirected[t]||void 0;if(o)return o.key}edge(e,t){if(this.multi)throw new Ie("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new re(`Graph.edge: could not find the "${e}" source node in the graph.`);if(!this._nodes.has(t))throw new re(`Graph.edge: could not find the "${t}" target node in the graph.`);const o=i.out&&i.out[t]||i.undirected&&i.undirected[t]||void 0;if(o)return o.key}areDirectedNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new re(`Graph.areDirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:t in i.in||t in i.out}areOutNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new re(`Graph.areOutNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:t in i.out}areInNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new re(`Graph.areInNeighbors: could not find the "${e}" node in the graph.`);return this.type==="undirected"?!1:t in i.in}areUndirectedNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new re(`Graph.areUndirectedNeighbors: could not find the "${e}" node in the graph.`);return this.type==="directed"?!1:t in i.undirected}areNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new re(`Graph.areNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&(t in i.in||t in i.out)||this.type!=="directed"&&t in i.undirected}areInboundNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new re(`Graph.areInboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&t in i.in||this.type!=="directed"&&t in i.undirected}areOutboundNeighbors(e,t){e=""+e,t=""+t;const i=this._nodes.get(e);if(!i)throw new re(`Graph.areOutboundNeighbors: could not find the "${e}" node in the graph.`);return this.type!=="undirected"&&t in i.out||this.type!=="directed"&&t in i.undirected}inDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.inDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree}outDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.outDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.outDegree}directedDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.directedDegree: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree+t.outDegree}undirectedDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.undirectedDegree: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:t.undirectedDegree}inboundDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.inboundDegree: could not find the "${e}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=t.undirectedDegree),this.type!=="undirected"&&(i+=t.inDegree),i}outboundDegree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.outboundDegree: could not find the "${e}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=t.undirectedDegree),this.type!=="undirected"&&(i+=t.outDegree),i}degree(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.degree: could not find the "${e}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=t.undirectedDegree),this.type!=="undirected"&&(i+=t.inDegree+t.outDegree),i}inDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.inDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree-t.directedLoops}outDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.outDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.outDegree-t.directedLoops}directedDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.directedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="undirected"?0:t.inDegree+t.outDegree-t.directedLoops*2}undirectedDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);return this.type==="directed"?0:t.undirectedDegree-t.undirectedLoops*2}inboundDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let i=0,o=0;return this.type!=="directed"&&(i+=t.undirectedDegree,o+=t.undirectedLoops*2),this.type!=="undirected"&&(i+=t.inDegree,o+=t.directedLoops),i-o}outboundDegreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let i=0,o=0;return this.type!=="directed"&&(i+=t.undirectedDegree,o+=t.undirectedLoops*2),this.type!=="undirected"&&(i+=t.outDegree,o+=t.directedLoops),i-o}degreeWithoutSelfLoops(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.degreeWithoutSelfLoops: could not find the "${e}" node in the graph.`);let i=0,o=0;return this.type!=="directed"&&(i+=t.undirectedDegree,o+=t.undirectedLoops*2),this.type!=="undirected"&&(i+=t.inDegree+t.outDegree,o+=t.directedLoops*2),i-o}source(e){e=""+e;const t=this._edges.get(e);if(!t)throw new re(`Graph.source: could not find the "${e}" edge in the graph.`);return t.source.key}target(e){e=""+e;const t=this._edges.get(e);if(!t)throw new re(`Graph.target: could not find the "${e}" edge in the graph.`);return t.target.key}extremities(e){e=""+e;const t=this._edges.get(e);if(!t)throw new re(`Graph.extremities: could not find the "${e}" edge in the graph.`);return[t.source.key,t.target.key]}opposite(e,t){e=""+e,t=""+t;const i=this._edges.get(t);if(!i)throw new re(`Graph.opposite: could not find the "${t}" edge in the graph.`);const o=i.source.key,l=i.target.key;if(e===o)return l;if(e===l)return o;throw new re(`Graph.opposite: the "${e}" node is not attached to the "${t}" edge (${o}, ${l}).`)}hasExtremity(e,t){e=""+e,t=""+t;const i=this._edges.get(e);if(!i)throw new re(`Graph.hasExtremity: could not find the "${e}" edge in the graph.`);return i.source.key===t||i.target.key===t}isUndirected(e){e=""+e;const t=this._edges.get(e);if(!t)throw new re(`Graph.isUndirected: could not find the "${e}" edge in the graph.`);return t.undirected}isDirected(e){e=""+e;const t=this._edges.get(e);if(!t)throw new re(`Graph.isDirected: could not find the "${e}" edge in the graph.`);return!t.undirected}isSelfLoop(e){e=""+e;const t=this._edges.get(e);if(!t)throw new re(`Graph.isSelfLoop: could not find the "${e}" edge in the graph.`);return t.source===t.target}addNode(e,t){return XA(this,e,t).key}mergeNode(e,t){if(t&&!Nt(t))throw new ae(`Graph.mergeNode: invalid attributes. Expecting an object but got "${t}"`);e=""+e,t=t||{};let i=this._nodes.get(e);return i?(t&&(Tt(i.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:i.attributes,data:t})),[e,!1]):(i=new this.NodeDataClass(e,t),this._nodes.set(e,i),this.emit("nodeAdded",{key:e,attributes:t}),[e,!0])}updateNode(e,t){if(t&&typeof t!="function")throw new ae(`Graph.updateNode: invalid updater function. Expecting a function but got "${t}"`);e=""+e;let i=this._nodes.get(e);if(i){if(t){const l=i.attributes;i.attributes=t(l),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:i.attributes})}return[e,!1]}const o=t?t({}):{};return i=new this.NodeDataClass(e,o),this._nodes.set(e,i),this.emit("nodeAdded",{key:e,attributes:o}),[e,!0]}dropNode(e){e=""+e;const t=this._nodes.get(e);if(!t)throw new re(`Graph.dropNode: could not find the "${e}" node in the graph.`);let i;if(this.type!=="undirected"){for(const o in t.out){i=t.out[o];do _s(this,i),i=i.next;while(i)}for(const o in t.in){i=t.in[o];do _s(this,i),i=i.next;while(i)}}if(this.type!=="directed")for(const o in t.undirected){i=t.undirected[o];do _s(this,i),i=i.next;while(i)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:t.attributes})}dropEdge(e){let t;if(arguments.length>1){const i=""+arguments[0],o=""+arguments[1];if(t=kn(this,i,o,this.type),!t)throw new re(`Graph.dropEdge: could not find the "${i}" -> "${o}" edge in the graph.`)}else if(e=""+e,t=this._edges.get(e),!t)throw new re(`Graph.dropEdge: could not find the "${e}" edge in the graph.`);return _s(this,t),this}dropDirectedEdge(e,t){if(arguments.length<2)throw new Ie("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Ie("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");e=""+e,t=""+t;const i=kn(this,e,t,"directed");if(!i)throw new re(`Graph.dropDirectedEdge: could not find a "${e}" -> "${t}" edge in the graph.`);return _s(this,i),this}dropUndirectedEdge(e,t){if(arguments.length<2)throw new Ie("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Ie("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const i=kn(this,e,t,"undirected");if(!i)throw new re(`Graph.dropUndirectedEdge: could not find a "${e}" -> "${t}" edge in the graph.`);return _s(this,i),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const e=this._nodes.values();let t;for(;t=e.next(),t.done!==!0;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(e){return this._attributes[e]}getAttributes(){return this._attributes}hasAttribute(e){return this._attributes.hasOwnProperty(e)}setAttribute(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}updateAttribute(e,t){if(typeof t!="function")throw new ae("Graph.updateAttribute: updater should be a function.");const i=this._attributes[e];return this._attributes[e]=t(i),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this}removeAttribute(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this}replaceAttributes(e){if(!Nt(e))throw new ae("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(e){if(!Nt(e))throw new ae("Graph.mergeAttributes: provided attributes are not a plain object.");return Tt(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this}updateAttributes(e){if(typeof e!="function")throw new ae("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(e,t){if(typeof e!="function")throw new ae("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!Ny(t))throw new ae("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const i=this._nodes.values();let o,l;for(;o=i.next(),o.done!==!0;)l=o.value,l.attributes=e(l.key,l.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})}updateEachEdgeAttributes(e,t){if(typeof e!="function")throw new ae("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!Ny(t))throw new ae("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const i=this._edges.values();let o,l,u,d;for(;o=i.next(),o.done!==!0;)l=o.value,u=l.source,d=l.target,l.attributes=e(l.key,l.attributes,u.key,d.key,u.attributes,d.attributes,l.undirected);this.emit("eachEdgeAttributesUpdated",{hints:t||null})}forEachAdjacencyEntry(e){if(typeof e!="function")throw new ae("Graph.forEachAdjacencyEntry: expecting a callback.");El(!1,!1,!1,this,e)}forEachAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new ae("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");El(!1,!1,!0,this,e)}forEachAssymetricAdjacencyEntry(e){if(typeof e!="function")throw new ae("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");El(!1,!0,!1,this,e)}forEachAssymetricAdjacencyEntryWithOrphans(e){if(typeof e!="function")throw new ae("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");El(!1,!0,!0,this,e)}nodes(){return Array.from(this._nodes.keys())}forEachNode(e){if(typeof e!="function")throw new ae("Graph.forEachNode: expecting a callback.");const t=this._nodes.values();let i,o;for(;i=t.next(),i.done!==!0;)o=i.value,e(o.key,o.attributes)}findNode(e){if(typeof e!="function")throw new ae("Graph.findNode: expecting a callback.");const t=this._nodes.values();let i,o;for(;i=t.next(),i.done!==!0;)if(o=i.value,e(o.key,o.attributes))return o.key}mapNodes(e){if(typeof e!="function")throw new ae("Graph.mapNode: expecting a callback.");const t=this._nodes.values();let i,o;const l=new Array(this.order);let u=0;for(;i=t.next(),i.done!==!0;)o=i.value,l[u++]=e(o.key,o.attributes);return l}someNode(e){if(typeof e!="function")throw new ae("Graph.someNode: expecting a callback.");const t=this._nodes.values();let i,o;for(;i=t.next(),i.done!==!0;)if(o=i.value,e(o.key,o.attributes))return!0;return!1}everyNode(e){if(typeof e!="function")throw new ae("Graph.everyNode: expecting a callback.");const t=this._nodes.values();let i,o;for(;i=t.next(),i.done!==!0;)if(o=i.value,!e(o.key,o.attributes))return!1;return!0}filterNodes(e){if(typeof e!="function")throw new ae("Graph.filterNodes: expecting a callback.");const t=this._nodes.values();let i,o;const l=[];for(;i=t.next(),i.done!==!0;)o=i.value,e(o.key,o.attributes)&&l.push(o.key);return l}reduceNodes(e,t){if(typeof e!="function")throw new ae("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new ae("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let i=t;const o=this._nodes.values();let l,u;for(;l=o.next(),l.done!==!0;)u=l.value,i=e(i,u.key,u.attributes);return i}nodeEntries(){const e=this._nodes.values();return{[Symbol.iterator](){return this},next(){const t=e.next();if(t.done)return t;const i=t.value;return{value:{node:i.key,attributes:i.attributes},done:!1}}}}export(){const e=new Array(this._nodes.size);let t=0;this._nodes.forEach((o,l)=>{e[t++]=VA(l,o)});const i=new Array(this._edges.size);return t=0,this._edges.forEach((o,l)=>{i[t++]=WA(this.type,l,o)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:i}}import(e,t=!1){if(e instanceof rt)return e.forEachNode((f,g)=>{t?this.mergeNode(f,g):this.addNode(f,g)}),e.forEachEdge((f,g,y,v,w,_,N)=>{t?N?this.mergeUndirectedEdgeWithKey(f,y,v,g):this.mergeDirectedEdgeWithKey(f,y,v,g):N?this.addUndirectedEdgeWithKey(f,y,v,g):this.addDirectedEdgeWithKey(f,y,v,g)}),this;if(!Nt(e))throw new ae("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!Nt(e.attributes))throw new ae("Graph.import: invalid attributes. Expecting a plain object.");t?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}let i,o,l,u,d;if(e.nodes){if(l=e.nodes,!Array.isArray(l))throw new ae("Graph.import: invalid nodes. Expecting an array.");for(i=0,o=l.length;i<o;i++){u=l[i],HA(u);const{key:f,attributes:g}=u;t?this.mergeNode(f,g):this.addNode(f,g)}}if(e.edges){let f=!1;if(this.type==="undirected"&&(f=!0),l=e.edges,!Array.isArray(l))throw new ae("Graph.import: invalid edges. Expecting an array.");for(i=0,o=l.length;i<o;i++){d=l[i],YA(d);const{source:g,target:y,attributes:v,undirected:w=f}=d;let _;"key"in d?(_=t?w?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:w?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,_.call(this,d.key,g,y,v)):(_=t?w?this.mergeUndirectedEdge:this.mergeDirectedEdge:w?this.addUndirectedEdge:this.addDirectedEdge,_.call(this,g,y,v))}}return this}nullCopy(e){const t=new rt(Tt({},this._options,e));return t.replaceAttributes(Tt({},this.getAttributes())),t}emptyCopy(e){const t=this.nullCopy(e);return this._nodes.forEach((i,o)=>{const l=Tt({},i.attributes);i=new t.NodeDataClass(o,l),t._nodes.set(o,i)}),t}copy(e){if(e=e||{},typeof e.type=="string"&&e.type!==this.type&&e.type!=="mixed")throw new Ie(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${e.type}" because this would mean losing information about the current graph.`);if(typeof e.multi=="boolean"&&e.multi!==this.multi&&e.multi!==!0)throw new Ie("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof e.allowSelfLoops=="boolean"&&e.allowSelfLoops!==this.allowSelfLoops&&e.allowSelfLoops!==!0)throw new Ie("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const t=this.emptyCopy(e),i=this._edges.values();let o,l;for(;o=i.next(),o.done!==!0;)l=o.value,e0(t,"copy",!1,l.undirected,l.key,l.source.key,l.target.key,Tt({},l.attributes));return t}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const e={};this._nodes.forEach((l,u)=>{e[u]=l.attributes});const t={},i={};this._edges.forEach((l,u)=>{const d=l.undirected?"--":"->";let f="",g=l.source.key,y=l.target.key,v;l.undirected&&g>y&&(v=g,g=y,y=v);const w=`(${g})${d}(${y})`;u.startsWith("geid_")?this.multi&&(typeof i[w]>"u"?i[w]=0:i[w]++,f+=`${i[w]}. `):f+=`[${u}]: `,f+=w,t[f]=l.attributes});const o={};for(const l in this)this.hasOwnProperty(l)&&!Ly.has(l)&&typeof this[l]!="function"&&typeof l!="symbol"&&(o[l]=this[l]);return o.attributes=this._attributes,o.nodes=e,o.edges=t,Sn(o,"constructor",this.constructor),o}}typeof Symbol<"u"&&(rt.prototype[Symbol.for("nodejs.util.inspect.custom")]=rt.prototype.inspect);QA.forEach(r=>{["add","merge","update"].forEach(e=>{const t=r.name(e),i=e==="add"?e0:JA;r.generateKey?rt.prototype[t]=function(o,l,u){return i(this,t,!0,(r.type||this.type)==="undirected",null,o,l,u,e==="update")}:rt.prototype[t]=function(o,l,u,d){return i(this,t,!1,(r.type||this.type)==="undirected",o,l,u,d,e==="update")}})});lA(rt);wA(rt);OA(rt);$A(rt);class t0 extends rt{constructor(e){const t=Tt({type:"directed"},e);if("multi"in t&&t.multi!==!1)throw new ae("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(t.type!=="directed")throw new ae('DirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class n0 extends rt{constructor(e){const t=Tt({type:"undirected"},e);if("multi"in t&&t.multi!==!1)throw new ae("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(t.type!=="undirected")throw new ae('UndirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class r0 extends rt{constructor(e){const t=Tt({multi:!0},e);if("multi"in t&&t.multi!==!0)throw new ae("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(t)}}class i0 extends rt{constructor(e){const t=Tt({type:"directed",multi:!0},e);if("multi"in t&&t.multi!==!0)throw new ae("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(t.type!=="directed")throw new ae('MultiDirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}class s0 extends rt{constructor(e){const t=Tt({type:"undirected",multi:!0},e);if("multi"in t&&t.multi!==!0)throw new ae("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(t.type!=="undirected")throw new ae('MultiUndirectedGraph.from: inconsistent "'+t.type+'" type in given options!');super(t)}}function Ys(r){r.from=function(e,t){const i=Tt({},e.options,t),o=new r(i);return o.import(e),o}}Ys(rt);Ys(t0);Ys(n0);Ys(r0);Ys(i0);Ys(s0);rt.Graph=rt;rt.DirectedGraph=t0;rt.UndirectedGraph=n0;rt.MultiGraph=r0;rt.MultiDirectedGraph=i0;rt.MultiUndirectedGraph=s0;rt.InvalidArgumentsGraphError=ae;rt.NotFoundGraphError=re;rt.UsageGraphError=Ie;const eT=r=>{const e=new Set;return r.nodes.forEach(t=>{t.labels.forEach(i=>e.add(i))}),Array.from(e).sort()},tT=r=>{const e=new Set;return r.relationships.forEach(t=>{e.add(t.type)}),Array.from(e).sort()},nT=(r,e)=>{const t=new rt;return r.nodes.forEach(i=>{const o=String(i.identity),l=i.labels[0]||"Unknown",u=e.get(l)||"#9B8579",d=i.properties.size||12,f=i.properties.name||i.properties.label||i.properties.title||`Node ${l}`;t.addNode(o,{x:Math.random()*10-5,y:Math.random()*10-5,size:d,label:f,color:u,labels:i.labels,properties:i.properties,baseSize:d,baseColor:u})}),r.relationships.forEach(i=>{const o=String(i.start),l=String(i.end);if(t.hasNode(o)&&t.hasNode(l)){const u=`${o}-${l}-${i.identity}`;t.addEdge(o,l,{id:u,size:2,color:"#d4c4b0",relType:i.type,properties:i.properties,label:i.type,baseColor:"#d4c4b0",baseSize:2})}}),t},rT=r=>{const e=["#CC8B65","#B4846C","#8B9D83","#D4A574","#9B8579","#C99A6E","#A8968D","#B89B88","#7D8B7F","#D4B59E","#8E7968","#9FA89A"];if(r<=e.length)return e.slice(0,r);const t=[...e],i=360/(r-e.length);for(let o=e.length;o<r;o++){const l=(o-e.length)*i;t.push(`hsl(${l}, 45%, 60%)`)}return t},iT=r=>{const e=rT(r.length),t=new Map;return r.forEach((i,o)=>{t.set(i,e[o])}),t},sT=({args:r})=>{var j,$;const e=Gt.useRef(null),t=Gt.useRef(null),i=Gt.useRef(null),[o,l]=Gt.useState(null),[u,d]=Gt.useState(null),[f,g]=Gt.useState([]),[y,v]=Gt.useState([]),w=Gt.useRef(null),_=Gt.useRef(!1),N=Gt.useRef(!1),L=r.graphData,P=r.height||600,Z=Gt.useMemo(()=>L?JSON.stringify(L):null,[L]);return Gt.useEffect(()=>{if(!e.current||!L||!Z){console.warn("Container or graph data not available");return}if(N.current&&t.current){console.log("Already initialized, skipping...");return}console.log("Initializing graph..."),N.current=!0;const x=eT(L),T=tT(L),M=iT(x),H=x.map(G=>({type:G,color:M.get(G)||"#9B8579",description:`${G} nodes`}));g(H);const se=new Map;L.relationships.forEach(G=>{se.set(G.type,(se.get(G.type)||0)+1)});const le=T.map(G=>({type:G,count:se.get(G)||0}));v(le);const O=nT(L,M);i.current=O,$_.assign(O,{iterations:100,settings:{gravity:1,scalingRatio:10}});const we=new B_(O,e.current,{defaultEdgeColor:"#d4c4b0",defaultNodeColor:"#9B8579",labelColor:{color:"#4a4137"},labelSize:14,labelWeight:"500",renderEdgeLabels:!0,enableEdgeEvents:!0});return t.current=we,we.on("downNode",G=>{_.current=!0,w.current=G.node,O.setNodeAttribute(G.node,"highlighted",!0),document.body.style.cursor="grabbing"}),we.getMouseCaptor().on("mousemovebody",G=>{if(!_.current||!w.current)return;const S=we.viewportToGraph(G);O.setNodeAttribute(w.current,"x",S.x),O.setNodeAttribute(w.current,"y",S.y),G.preventSigmaDefault(),G.original.preventDefault(),G.original.stopPropagation()}),we.getMouseCaptor().on("mouseup",()=>{w.current&&O.removeNodeAttribute(w.current,"highlighted"),_.current=!1,w.current=null,document.body.style.cursor="default"}),we.getTouchCaptor().on("touchmove",G=>{if(!_.current||!w.current)return;const S=G.touches[0],Te=we.viewportToGraph(S);O.setNodeAttribute(w.current,"x",Te.x),O.setNodeAttribute(w.current,"y",Te.y),G.preventSigmaDefault(),G.original.preventDefault(),G.original.stopPropagation()}),we.on("clickNode",({node:G})=>{if(_.current)return;const S=O.getNodeAttributes(G),Te=O.neighbors(G);d(null),l({id:G,labels:S.labels||[],color:S.color,properties:S.properties||{}}),O.forEachNode(ve=>{const V=O.getNodeAttribute(ve,"baseSize"),C=O.getNodeAttribute(ve,"baseColor");O.setNodeAttribute(ve,"size",V),O.setNodeAttribute(ve,"color",C),O.removeNodeAttribute(ve,"highlighted")}),O.forEachEdge(ve=>{const V=O.getEdgeAttribute(ve,"baseColor"),C=O.getEdgeAttribute(ve,"baseSize");O.setEdgeAttribute(ve,"color",V),O.setEdgeAttribute(ve,"size",C)}),O.forEachNode(ve=>{if(ve===G){const V=O.getNodeAttribute(ve,"baseSize");O.setNodeAttribute(ve,"size",V*1.3),O.setNodeAttribute(ve,"highlighted",!0)}else if(Te.includes(ve)){const V=O.getNodeAttribute(ve,"baseColor");O.setNodeAttribute(ve,"color",V)}else{const V=O.getNodeAttribute(ve,"baseColor");O.setNodeAttribute(ve,"color",V+"40")}}),O.forEachEdge(ve=>{const[V,C]=O.extremities(ve);V===G||C===G?(O.setEdgeAttribute(ve,"color",S.color),O.setEdgeAttribute(ve,"size",3)):O.setEdgeAttribute(ve,"color","#e8e3d8")}),we.refresh()}),we.on("clickEdge",({edge:G})=>{const S=O.getEdgeAttributes(G),[Te,ve]=O.extremities(G),V=O.getNodeAttribute(Te,"label"),C=O.getNodeAttribute(ve,"label");l(null),d({id:G,source:V,target:C,relType:S.relType||"UNKNOWN",color:"#CC8B65",properties:S.properties||{}}),O.forEachNode(J=>{const I=O.getNodeAttribute(J,"baseSize"),z=O.getNodeAttribute(J,"baseColor");O.setNodeAttribute(J,"size",I),O.setNodeAttribute(J,"color",z),O.removeNodeAttribute(J,"highlighted")}),O.forEachEdge(J=>{const I=O.getEdgeAttribute(J,"baseColor"),z=O.getEdgeAttribute(J,"baseSize");O.setEdgeAttribute(J,"color",I),O.setEdgeAttribute(J,"size",z)}),O.setEdgeAttribute(G,"color","#CC8B65"),O.setEdgeAttribute(G,"size",4);const Y=O.getNodeAttribute(Te,"baseSize"),ie=O.getNodeAttribute(ve,"baseSize");O.setNodeAttribute(Te,"size",Y*1.3),O.setNodeAttribute(ve,"size",ie*1.3),we.refresh()}),we.on("clickStage",()=>{l(null),d(null),O.forEachNode(G=>{const S=O.getNodeAttribute(G,"baseSize"),Te=O.getNodeAttribute(G,"baseColor");O.setNodeAttribute(G,"size",S),O.setNodeAttribute(G,"color",Te),O.removeNodeAttribute(G,"highlighted")}),O.forEachEdge(G=>{const S=O.getEdgeAttribute(G,"baseColor"),Te=O.getEdgeAttribute(G,"baseSize");O.setEdgeAttribute(G,"color",S),O.setEdgeAttribute(G,"size",Te)}),we.refresh()}),we.on("enterNode",({node:G})=>{_.current||(document.body.style.cursor="grab");const S=O.getNodeAttribute(G,"baseSize");O.getNodeAttribute(G,"highlighted")?O.setNodeAttribute(G,"size",S*1.5):O.setNodeAttribute(G,"size",S*1.2),we.refresh()}),we.on("leaveNode",({node:G})=>{_.current||(document.body.style.cursor="default");const S=O.getNodeAttribute(G,"baseSize");O.getNodeAttribute(G,"highlighted")?O.setNodeAttribute(G,"size",S*1.3):O.setNodeAttribute(G,"size",S),we.refresh()}),we.on("enterEdge",({edge:G})=>{document.body.style.cursor="pointer";const S=O.getEdgeAttribute(G,"size");O.setEdgeAttribute(G,"size",S*1.5),we.refresh()}),we.on("leaveEdge",({edge:G})=>{document.body.style.cursor="default";const S=O.getEdgeAttribute(G,"baseSize");(u==null?void 0:u.id)===G?O.setEdgeAttribute(G,"size",4):O.setEdgeAttribute(G,"size",S),we.refresh()}),$n.setComponentReady(),$n.setFrameHeight(P+200),()=>{console.log("Cleaning up..."),t.current&&(t.current.kill(),t.current=null),N.current=!1}},[Z]),Gt.useEffect(()=>{N.current&&$n.setFrameHeight(P+100)},[P]),L?te.jsx("div",{className:"graph-container",children:te.jsxs("div",{className:"content-wrapper",children:[te.jsx("div",{ref:e,className:"sigma-container",style:{width:"100%",height:`${P}px`}}),te.jsx(UE,{nodeTypes:f,relationshipTypes:y,graphOrder:((j=i.current)==null?void 0:j.order)||0,graphSize:(($=i.current)==null?void 0:$.size)||0}),o&&te.jsx(VE,{selectedNode:o,onClose:()=>l(null)}),u&&te.jsx(KE,{selectedEdge:u,onClose:()=>d(null)})]})}):te.jsx("div",{className:"graph-container",children:te.jsxs("div",{className:"no-data-message",children:[te.jsx("h3",{children:"No Graph Data"}),te.jsx("p",{children:"Please provide Neo4j graph data to visualize."})]})})},oT=zE(sT);function aT(){return te.jsx("div",{className:"App",children:te.jsx(oT,{})})}const o0=document.getElementById("root");if(!o0)throw new Error("Root element not found");db.createRoot(o0).render(te.jsx(Gt.StrictMode,{children:te.jsx(aT,{})}));
